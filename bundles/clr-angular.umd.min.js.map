{"version":3,"sources":["ng://@clr/angular/icon/icon.ts","ng://@clr/angular/icon/icon.module.ts","node_modules/tslib/tslib.es6.js","ng://@clr/angular/popover/common/popover.ts","ng://@clr/angular/popover/common/popover-old.directive.ts","ng://@clr/angular/popover/common/index.ts","ng://@clr/angular/popover/common/popover.module.ts","ng://@clr/angular/utils/loading/loading-listener.ts","ng://@clr/angular/utils/loading/loading.ts","ng://@clr/angular/button/providers/button-in-group.service.ts","ng://@clr/angular/button/button-group/button.ts","ng://@clr/angular/popover/dropdown/menu-positions.ts","ng://@clr/angular/utils/i18n/common-strings.service.ts","ng://@clr/angular/utils/i18n/common-strings.interface.ts","ng://@clr/angular/button/button-group/button-group.ts","ng://@clr/angular/button/button-group/button-group.module.ts","ng://@clr/angular/button/button-loading/loading-button.ts","ng://@clr/angular/button/button-loading/loading-button.module.ts","ng://@clr/angular/button/button.module.ts","ng://@clr/angular/utils/host-wrapping/empty-anchor.ts","ng://@clr/angular/utils/host-wrapping/host-wrapping.module.ts","ng://@clr/angular/forms/common/providers/control-id.service.ts","ng://@clr/angular/forms/common/error.ts","ng://@clr/angular/forms/common/helper.ts","ng://@clr/angular/forms/common/providers/ng-control.service.ts","ng://@clr/angular/forms/common/if-error/if-error.service.ts","ng://@clr/angular/forms/common/if-error/if-error.ts","ng://@clr/angular/forms/common/providers/layout.service.ts","ng://@clr/angular/forms/common/label.ts","ng://@clr/angular/forms/common/providers/mark-control.service.ts","ng://@clr/angular/forms/common/form.ts","ng://@clr/angular/forms/common/layout.ts","ng://@clr/angular/forms/common/common.module.ts","ng://@clr/angular/forms/checkbox/checkbox-wrapper.ts","ng://@clr/angular/utils/host-wrapping/host-wrapper.ts","ng://@clr/angular/forms/common/providers/control-class.service.ts","ng://@clr/angular/forms/common/wrapped-control.ts","ng://@clr/angular/forms/checkbox/checkbox.ts","ng://@clr/angular/forms/checkbox/checkbox-container.ts","ng://@clr/angular/forms/checkbox/checkbox.module.ts","ng://@clr/angular/utils/conditional/if-active.service.ts","ng://@clr/angular/utils/conditional/if-active.directive.ts","ng://@clr/angular/utils/conditional/if-open.service.ts","ng://@clr/angular/utils/conditional/if-open.directive.ts","ng://@clr/angular/utils/conditional/if-expanded.service.ts","ng://@clr/angular/utils/conditional/if-expanded.directive.ts","ng://@clr/angular/utils/conditional/index.ts","ng://@clr/angular/utils/conditional/conditional.module.ts","ng://@clr/angular/utils/focus-trap/focus-trap-tracker.service.ts","ng://@clr/angular/utils/focus-trap/focus-trap.directive.ts","ng://@clr/angular/utils/focus-trap/index.ts","ng://@clr/angular/utils/focus-trap/focus-trap.module.ts","ng://@clr/angular/forms/datepicker/utils/constants.ts","ng://@clr/angular/forms/datepicker/utils/date-utils.ts","ng://@clr/angular/forms/datepicker/model/day-view.model.ts","ng://@clr/angular/forms/datepicker/model/calendar.model.ts","ng://@clr/angular/forms/datepicker/model/day.model.ts","ng://@clr/angular/forms/datepicker/model/calendar-view.model.ts","ng://@clr/angular/forms/datepicker/providers/date-navigation.service.ts","ng://@clr/angular/forms/datepicker/providers/datepicker-focus.service.ts","ng://@clr/angular/forms/datepicker/providers/locale-helper.service.ts","ng://@clr/angular/forms/datepicker/calendar.ts","ng://@clr/angular/utils/key-codes/key-codes.ts","ng://@clr/angular/forms/common/providers/focus.service.ts","ng://@clr/angular/forms/datepicker/providers/date-form-control.service.ts","ng://@clr/angular/forms/datepicker/providers/date-io.service.ts","ng://@clr/angular/forms/datepicker/providers/datepicker-enabled.service.ts","ng://@clr/angular/utils/breakpoints/breakpoints.ts","ng://@clr/angular/forms/datepicker/date-container.ts","ng://@clr/angular/forms/datepicker/date-input.ts","ng://@clr/angular/popover/common/abstract-popover.ts","ng://@clr/angular/forms/datepicker/providers/view-manager.service.ts","ng://@clr/angular/forms/datepicker/datepicker-view-manager.ts","ng://@clr/angular/forms/datepicker/day.ts","ng://@clr/angular/forms/datepicker/daypicker.ts","ng://@clr/angular/forms/datepicker/monthpicker.ts","ng://@clr/angular/forms/datepicker/model/year-range.model.ts","ng://@clr/angular/forms/datepicker/yearpicker.ts","ng://@clr/angular/forms/datepicker/datepicker.module.ts","ng://@clr/angular/forms/input/input-container.ts","ng://@clr/angular/forms/input/input.ts","ng://@clr/angular/forms/input/input.module.ts","ng://@clr/angular/forms/password/password-container.ts","ng://@clr/angular/forms/password/password.ts","ng://@clr/angular/forms/password/password.module.ts","ng://@clr/angular/forms/radio/radio-wrapper.ts","ng://@clr/angular/forms/radio/radio.ts","ng://@clr/angular/forms/radio/radio-container.ts","ng://@clr/angular/forms/radio/radio.module.ts","ng://@clr/angular/forms/select/select-container.ts","ng://@clr/angular/forms/select/select.ts","ng://@clr/angular/forms/select/select.module.ts","ng://@clr/angular/forms/textarea/textarea-container.ts","ng://@clr/angular/forms/textarea/textarea.ts","ng://@clr/angular/forms/textarea/textarea.module.ts","ng://@clr/angular/forms/forms.module.ts","ng://@clr/angular/utils/loading/loading.module.ts","ng://@clr/angular/utils/outside-click/outside-click.ts","ng://@clr/angular/utils/outside-click/index.ts","ng://@clr/angular/utils/outside-click/outside-click.module.ts","ng://@clr/angular/utils/dom-adapter/dom-adapter.ts","ng://@clr/angular/utils/drag-and-drop/drag-event.ts","ng://@clr/angular/utils/drag-and-drop/interfaces/drag-event.interface.ts","ng://@clr/angular/utils/drag-and-drop/providers/drag-and-drop-event-bus.service.ts","ng://@clr/angular/utils/drag-and-drop/providers/drag-event-listener.service.ts","ng://@clr/angular/utils/drag-and-drop/providers/draggable-snapshot.service.ts","ng://@clr/angular/utils/drag-and-drop/draggable-ghost.ts","ng://@clr/angular/utils/drag-and-drop/if-dragged.ts","ng://@clr/angular/utils/drag-and-drop/providers/drag-handle-registrar.service.ts","ng://@clr/angular/utils/drag-and-drop/providers/global-drag-mode.service.ts","ng://@clr/angular/utils/drag-and-drop/draggable/draggable.ts","ng://@clr/angular/utils/drag-and-drop/droppable/droppable.ts","ng://@clr/angular/utils/drag-and-drop/drag-handle.ts","ng://@clr/angular/utils/drag-and-drop/drag-and-drop.module.ts","ng://@clr/angular/data/datagrid/datagrid-if-expanded.service.ts","ng://@clr/angular/data/datagrid/animation-hack/row-expand-animation.ts","ng://@clr/angular/data/datagrid/providers/custom-filter.ts","ng://@clr/angular/data/datagrid/providers/state-debouncer.provider.ts","ng://@clr/angular/data/datagrid/providers/page.ts","ng://@clr/angular/data/datagrid/providers/filters.ts","ng://@clr/angular/data/datagrid/utils/datagrid-filter-registrar.ts","ng://@clr/angular/data/datagrid/datagrid-filter.ts","ng://@clr/angular/data/datagrid/built-in/nested-property.ts","ng://@clr/angular/data/datagrid/built-in/filters/datagrid-property-string-filter.ts","ng://@clr/angular/data/datagrid/built-in/filters/datagrid-string-filter-impl.ts","ng://@clr/angular/data/datagrid/built-in/filters/datagrid-string-filter.ts","ng://@clr/angular/utils/chocolate/oompa-loompa.ts","ng://@clr/angular/data/datagrid/providers/row-action-service.ts","ng://@clr/angular/utils/chocolate/willy-wonka.ts","ng://@clr/angular/data/datagrid/chocolate/datagrid-willy-wonka.ts","ng://@clr/angular/data/datagrid/chocolate/actionable-oompa-loompa.ts","ng://@clr/angular/data/datagrid/providers/global-expandable-rows.ts","ng://@clr/angular/data/datagrid/chocolate/expandable-oompa-loompa.ts","ng://@clr/angular/data/datagrid/built-in/comparators/datagrid-property-comparator.ts","ng://@clr/angular/data/datagrid/enums/sort-order.enum.ts","ng://@clr/angular/data/datagrid/providers/sort.ts","ng://@clr/angular/data/datagrid/wrapped-column.ts","ng://@clr/angular/data/datagrid/datagrid-column.ts","ng://@clr/angular/data/datagrid/providers/items.ts","ng://@clr/angular/data/datagrid/datagrid-items.ts","ng://@clr/angular/data/datagrid/datagrid-placeholder.ts","ng://@clr/angular/popover/common/popover-host-anchor.token.ts","ng://@clr/angular/popover/signpost/signpost-trigger.ts","ng://@clr/angular/popover/signpost/signpost.ts","ng://@clr/angular/data/datagrid/wrapped-cell.ts","ng://@clr/angular/data/datagrid/datagrid-cell.ts","ng://@clr/angular/data/datagrid/enums/display-mode.enum.ts","ng://@clr/angular/data/datagrid/enums/render-step.enum.ts","ng://@clr/angular/data/datagrid/render/render-organizer.ts","ng://@clr/angular/data/datagrid/providers/display-mode.service.ts","ng://@clr/angular/data/datagrid/enums/selection-type.ts","ng://@clr/angular/data/datagrid/providers/selection.ts","ng://@clr/angular/data/datagrid/wrapped-row.ts","ng://@clr/angular/data/datagrid/datagrid-row.ts","ng://@clr/angular/data/datagrid/providers/state.provider.ts","ng://@clr/angular/data/datagrid/providers/table-size.service.ts","ng://@clr/angular/data/datagrid/providers/columns.service.ts","ng://@clr/angular/data/datagrid/datagrid.ts","ng://@clr/angular/data/datagrid/datagrid-action-bar.ts","ng://@clr/angular/data/datagrid/datagrid-action-overflow.ts","ng://@clr/angular/data/datagrid/providers/column-resizer.service.ts","ng://@clr/angular/utils/id-generator/id-generator.service.ts","ng://@clr/angular/data/datagrid/datagrid-column-separator.ts","ng://@clr/angular/data/datagrid/enums/column-changes.enum.ts","ng://@clr/angular/data/datagrid/datagrid-column-toggle-button.ts","ng://@clr/angular/data/datagrid/datagrid-column-toggle-title.ts","ng://@clr/angular/data/datagrid/datagrid-column-toggle.ts","ng://@clr/angular/data/datagrid/datagrid-detail-registerer.ts","ng://@clr/angular/data/datagrid/datagrid-footer.ts","ng://@clr/angular/data/datagrid/providers/column-state.provider.ts","ng://@clr/angular/data/datagrid/datagrid-hideable-column.ts","ng://@clr/angular/data/datagrid/datagrid-items-trackby.ts","ng://@clr/angular/data/datagrid/datagrid-page-size.ts","ng://@clr/angular/data/datagrid/datagrid-pagination.ts","ng://@clr/angular/data/datagrid/datagrid-row-detail.ts","ng://@clr/angular/data/datagrid/render/constants.ts","ng://@clr/angular/data/datagrid/render/cell-renderer.ts","ng://@clr/angular/data/datagrid/render/header-renderer.ts","ng://@clr/angular/data/datagrid/render/noop-dom-adapter.ts","ng://@clr/angular/data/datagrid/render/row-renderer.ts","ng://@clr/angular/data/datagrid/render/main-renderer.ts","ng://@clr/angular/data/datagrid/datagrid.module.ts","ng://@clr/angular/data/stack-view/stack-block.ts","ng://@clr/angular/data/stack-view/stack-view.ts","ng://@clr/angular/data/stack-view/stack-header.ts","ng://@clr/angular/data/stack-view/stack-control.ts","ng://@clr/angular/data/stack-view/stack-input.ts","ng://@clr/angular/data/stack-view/stack-select.ts","ng://@clr/angular/data/stack-view/stack-view-custom-tags.ts","ng://@clr/angular/data/stack-view/stack-view.module.ts","ng://@clr/angular/data/tree-view/models/selected-state.enum.ts","ng://@clr/angular/data/tree-view/models/tree-node.model.ts","ng://@clr/angular/data/tree-view/models/declarative-tree-node.model.ts","ng://@clr/angular/data/tree-view/tree-features.service.ts","ng://@clr/angular/data/tree-view/tree-node.ts","ng://@clr/angular/data/tree-view/tree.ts","ng://@clr/angular/data/tree-view/models/recursive-tree-node.model.ts","ng://@clr/angular/data/tree-view/models/async-array.ts","ng://@clr/angular/data/tree-view/recursive-for-of.ts","ng://@clr/angular/data/tree-view/recursive-children.ts","ng://@clr/angular/data/tree-view/tree-view.module.ts","ng://@clr/angular/data/data.module.ts","ng://@clr/angular/utils/focus/focusable-item/focusable-item.ts","ng://@clr/angular/utils/focus/focusable-item/custom-focusable-item-provider.ts","ng://@clr/angular/utils/focus/arrow-key-direction.enum.ts","ng://@clr/angular/utils/focus/focus.service.ts","ng://@clr/angular/utils/focus/wrap-observable.ts","ng://@clr/angular/popover/dropdown/providers/dropdown-focus-handler.service.ts","ng://@clr/angular/utils/focus/focusable-item/linkers.ts","ng://@clr/angular/popover/dropdown/providers/dropdown.service.ts","ng://@clr/angular/popover/dropdown/dropdown.ts","ng://@clr/angular/utils/focus/focusable-item/basic-focusable-item.service.ts","ng://@clr/angular/popover/dropdown/dropdown-item.ts","ng://@clr/angular/popover/dropdown/dropdown-menu.ts","ng://@clr/angular/popover/dropdown/dropdown-trigger.ts","ng://@clr/angular/popover/dropdown/dropdown.module.ts","ng://@clr/angular/emphasis/alert/utils/alert-types.ts","ng://@clr/angular/emphasis/alert/providers/icon-and-types.service.ts","ng://@clr/angular/emphasis/alert/providers/multi-alert.service.ts","ng://@clr/angular/emphasis/alert/alert.ts","ng://@clr/angular/emphasis/alert/alert-item.ts","ng://@clr/angular/emphasis/alert/alerts.ts","ng://@clr/angular/emphasis/alert/alerts-pager.ts","ng://@clr/angular/emphasis/alert/alert.module.ts","ng://@clr/angular/emphasis/emphasis.module.ts","ng://@clr/angular/layout/nav/responsive-nav-codes.ts","ng://@clr/angular/layout/nav/responsive-nav-control-message.ts","ng://@clr/angular/layout/nav/providers/responsive-navigation.service.ts","ng://@clr/angular/layout/main-container/main-container.ts","ng://@clr/angular/layout/main-container/main-container.module.ts","ng://@clr/angular/layout/nav/chocolate/main-container-willy-wonka.ts","ng://@clr/angular/layout/nav/chocolate/nav-detection-oompa-loompa.ts","ng://@clr/angular/layout/nav/header.ts","ng://@clr/angular/layout/nav/nav-level.ts","ng://@clr/angular/layout/nav/navigation.module.ts","ng://@clr/angular/utils/template-ref/template-ref-container.ts","ng://@clr/angular/utils/template-ref/index.ts","ng://@clr/angular/utils/template-ref/template-ref.module.ts","ng://@clr/angular/layout/tabs/chocolate/tabs-willy-wonka.ts","ng://@clr/angular/layout/tabs/chocolate/active-oompa-loompa.ts","ng://@clr/angular/layout/tabs/providers/aria.service.ts","ng://@clr/angular/layout/tabs/enums/tabs-layout.enum.ts","ng://@clr/angular/layout/tabs/providers/tabs.service.ts","ng://@clr/angular/layout/tabs/tab-content.ts","ng://@clr/angular/layout/tabs/tabs-id.provider.ts","ng://@clr/angular/layout/tabs/tab-link.directive.ts","ng://@clr/angular/layout/tabs/tab.ts","ng://@clr/angular/layout/tabs/tab-overflow-content.ts","ng://@clr/angular/layout/tabs/tabs.ts","ng://@clr/angular/layout/tabs/tabs.module.ts","ng://@clr/angular/layout/vertical-nav/providers/vertical-nav-group-registration.service.ts","ng://@clr/angular/layout/vertical-nav/providers/vertical-nav-icon.service.ts","ng://@clr/angular/layout/vertical-nav/providers/vertical-nav.service.ts","ng://@clr/angular/layout/vertical-nav/vertical-nav.ts","ng://@clr/angular/layout/vertical-nav/providers/vertical-nav-group.service.ts","ng://@clr/angular/layout/vertical-nav/vertical-nav-group.ts","ng://@clr/angular/layout/vertical-nav/vertical-nav-group-children.ts","ng://@clr/angular/layout/vertical-nav/vertical-nav-icon.ts","ng://@clr/angular/layout/vertical-nav/vertical-nav-link.ts","ng://@clr/angular/layout/vertical-nav/vertical-nav.module.ts","ng://@clr/angular/layout/layout.module.ts","ng://@clr/angular/utils/scrolling/scrolling-service.ts","ng://@clr/angular/modal/modal.ts","ng://@clr/angular/modal/modal.module.ts","ng://@clr/angular/popover/signpost/signpost-positions.ts","ng://@clr/angular/popover/signpost/signpost-content.ts","ng://@clr/angular/popover/signpost/signpost.module.ts","ng://@clr/angular/popover/tooltip/tooltip.ts","ng://@clr/angular/popover/tooltip/tooltip-content.ts","ng://@clr/angular/popover/tooltip/tooltip-trigger.ts","ng://@clr/angular/popover/tooltip/tooltip.module.ts","ng://@clr/angular/popover/popover.module.ts","ng://@clr/angular/wizard/providers/button-hub.service.ts","ng://@clr/angular/wizard/providers/page-collection.service.ts","ng://@clr/angular/wizard/providers/wizard-navigation.service.ts","ng://@clr/angular/wizard/providers/header-actions.service.ts","ng://@clr/angular/wizard/wizard-header-action.ts","ng://@clr/angular/wizard/wizard-page-buttons.ts","ng://@clr/angular/wizard/wizard-page-header-actions.ts","ng://@clr/angular/wizard/wizard-page-navtitle.ts","ng://@clr/angular/wizard/wizard-page-title.ts","ng://@clr/angular/wizard/wizard-page.ts","ng://@clr/angular/wizard/wizard.ts","ng://@clr/angular/wizard/wizard-button.ts","ng://@clr/angular/wizard/wizard-custom-tags.ts","ng://@clr/angular/wizard/wizard-stepnav.ts","ng://@clr/angular/wizard/wizard-stepnav-item.ts","ng://@clr/angular/wizard/wizard.module.ts","ng://@clr/angular/clr-angular.module.ts","ng://@clr/angular/utils/animations/collapse/collapse.ts","ng://@clr/angular/utils/animations/fade/fade.ts","ng://@clr/angular/utils/animations/fade-slide/fade-slide.ts","ng://@clr/angular/utils/animations/slide/slide.ts"],"names":["ClrIconCustomTag","Directive","args","selector","CLR_ICON_DIRECTIVES","ClrIconModule","NgModule","imports","CommonModule","declarations","exports","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__values","o","m","Symbol","iterator","next","value","done","__read","r","e","ar","push","error","__spread","concat","RIGHT_CENTER","RIGHT_TOP","RIGHT_BOTTOM","TOP_CENTER","TOP_RIGHT","TOP_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT","BOTTOM_LEFT","LEFT_CENTER","LEFT_TOP","LEFT_BOTTOM","POSITION_ABSOLUTE","OVERFLOW_SCROLL","OVERFLOW_AUTO","Popover","element","scrollableElements","boundOnScrollListener","emitScrollEvent","bind","style","position","top","bottom","left","right","anchor","anchorAlign","popoverAlign","_a","_b","_c","offsetX","_d","offsetY","_e","useAnchorParent","addScrollEventListeners","parentNode","anchorRect","getBoundingClientRect","popoverRect","leftDiff","topDiff","Point","width","height","popoverComputedStyle","getComputedStyle","marginLeft","parseInt","marginRight","marginTop","marginBottom","transform","Math","round","_scroll","asObservable","release","removeScrollEventListeners","isPositioned","container","Subject","current","document","scrolls","addEventListener","tslib_1.__values","removeEventListener","complete","computedStyles","overflowX","overflowY","openCount","waiting","PopoverDirectiveOld","templateRef","viewContainer","popoverOptions","clrPopoverOldChange","EventEmitter","defineProperty","open","_this","allowMultipleOpen","createPopover","clear","destroyPopover","shift","createPopoverFn","embeddedViewRef","createEmbeddedView","detectChanges","elementNodes","rootNodes","filter","node","nodeType","_popoverInstance","_subscription","anchorElem","anchorPoint","popoverPoint","subscribe","emit","unsubscribe","ngOnDestroy","TemplateRef","ViewContainerRef","Input","Output","POPOVER_DIRECTIVES","ClrCommonPopoverModule","LoadingListener","DEFAULT","LOADING","SUCCESS","ERROR","ClrLoading","listener","_loadingState","ClrLoadingState","loadingStateChange","loadingState","decorators","type","Optional","ButtonInGroupService","_changes","updateButtonGroup","button","Injectable","ClrButton","buttonInGroupService","_enableService","_inMenu","_classNames","_name","_type","_id","_disabled","_click","classNames","split","indexOf","join","state","loading","emitClick","ngAfterViewInit","Component","template","providers","provide","useExisting","SkipSelf","ViewChild","static","CLR_MENU_POSITIONS","ClrCommonStringsService","close","show","hide","expand","collapse","more","select","selectAll","previous","info","success","warning","danger","rowActions","pickColumns","showColumns","COMMON_STRINGS_PROVIDER","useFactory","commonStringsFactory","existing","defaults","deps","forwardRef","ClrCommonStrings","providedIn","ClrButtonGroup","buttonGroupNewService","elementRef","commonStrings","inlineButtons","menuButtons","_openMenu","_overflowMenuToggleClicked","ngAfterContentInit","initializeButtons","changes","rearrangeButton","buttons","fromView","toView","inMenu","index","splice","moveIndex","getMoveIndex","buttonToMove","tempInlineButtons","tempInMenuButtons","forEach","_menuPosition","pos","toggleMenu","openMenu","onMouseClick","target","host","nativeElement","classList","contains","[class.btn-group]","ElementRef","ContentChildren","HostListener","CLR_BUTTON_GROUP_DIRECTIVES","ClrButtonGroupModule","ClrLoadingButton","el","renderer","buttonState","clrLoadingChange","removeStyle","disabled","removeAttribute","setExplicitButtonWidth","setStyle","setAttribute","boundingClientRect","animations","trigger","transition","opacity","animate","keyframes","offset","[attr.disabled]","Renderer2","CLR_LOADING_BUTTON_DIRECTIVES","ClrLoadingButtonModule","ClrButtonModule","EmptyAnchor","ClrHostWrappingModule","entryComponents","counter","ControlIdService","_idChange","BehaviorSubject","ClrControlError","controlIdService","describedByAttr","subscriptions","ngOnInit","idChange","id","sub","[class.clr-subtext]","[attr.aria-live]","HostBinding","ClrControlHelper","NgControlService","_controlChanges","setControl","control","IfErrorService","ngControlService","_statusChanges","controlChanges","listenForChanges","statusChanges","sendValidity","touched","invalid","triggerStatusChange","ClrIfError","ifErrorService","displayed","Error","displayError","hasError","VERTICAL","HORIZONTAL","COMPACT","LayoutService","layout","Layouts","layoutValues","keys","map","key","isVertical","isHorizontal","isCompact","isValid","ClrLabel","layoutService","enableGrid","addClass","className","forAttr","disableGrid","MarkControlService","_touched","markAsTouched","ClrForm","markControlService","markAsDirty","[class.clr-form]","[class.clr-form-horizontal]","[class.clr-form-compact]","ClrLayout","ClrCommonFormsModule","IS_TOGGLE","InjectionToken","isToggleFactory","IS_TOGGLE_PROVIDER","ClrCheckboxWrapper","toggleService","_dynamic","toggle","label","[class.clr-checkbox-wrapper]","[class.clr-toggle-wrapper]","Inject","ContentChild","HostWrapper","containerType","vcr","injector","get","cfr","ComponentFactoryResolver","createComponent","resolveComponentFactory","factory","containerRef","undefined","remove","instance","token","notFoundValue","ControlClassService","controlClass","grid","additional","controlClasses","trim","initControlClass","klass","startsWith","removeClass","WrappedFormControl","wrapperType","ngControl","controlClassService","touchedChange","updateValueAndValidity","triggerValidation","getProviderFromContainer","_containerInjector","ClrCheckbox","_super","tslib_1.__extends","Injector","NgControl","Self","Attribute","ClrCheckboxContainer","inline","addGrid","[class.clr-form-control]","[class.clr-form-control-disabled]","[class.clr-row]","ClrCheckboxModule","activeCounter","IF_ACTIVE_ID","tokenFactory","IF_ACTIVE_ID_PROVIDER","IfActiveService","_currentChange","_current","ClrIfActive","ifActiveService","wasActive","activeChange","checkAndUpdateView","subscription","currentChange","newCurrentId","currentId","isNowActive","updateView","IfOpenService","_openChange","_ignoredElementChange","_open","toggleWithEvent","event","originalEvent","registerIgnoredElement","ClrIfOpen","ifOpenService","openChange","change","IfExpandService","expandable","_loading","_expanded","_expandChange","expanded","ClrIfExpanded","expandedChange","_subscriptions","expandChange","CONDITIONAL_DIRECTIVES","ClrConditionalModule","FocusTrapTracker","_previousFocusTraps","activatePreviousTrapper","pop","FocusTrapDirective","focusTrapsTracker","platformId","DOCUMENT","onFocusIn","focus","createFocusableOffScreenEl","offScreenSpan","createElement","addReboundEls","isPlatformBrowser","nbFocusTrappers","topReboundEl","bottomReboundEl","insertBefore","body","firstChild","appendChild","removeReboundEls","removeChild","setPreviousFocus","previousActiveElement","PLATFORM_ID","FOCUS_TRAP_DIRECTIVES","ClrFocusTrapModule","LITTLE_ENDIAN_REGEX","MIDDLE_ENDIAN_REGEX","DELIMITER_REGEX","USER_INPUT_REGEX","MOBILE_USERAGENT_REGEX","RTL_REGEX","YEAR","LITTLE_ENDIAN","name","format","MIDDLE_ENDIAN","BIG_ENDIAN","getNumberOfDaysInTheMonth","year","month","Date","getDate","DayViewModel","dayModel","isTodaysDate","isDisabled","isSelected","isFocusable","CalendarModel","initializeDaysInCalendar","noOfDaysInCalendar","days","fill","date","DayModel","isEqual","calendar","isDayInCalendar","day","previousMonth","nextMonth","toDate","incrementBy","getFullYear","getMonth","clone","CalendarViewModel","selectedDay","focusableDay","today","firstDayOfWeek","currMonthDayViews","initializeCalendarView","_calendarView","prevMonthCalendar","nextMonthCalendar","daysFromPrevMonthInCalView","numDaysFromPrevMonthInCalView","daysFromNextMonthInCalView","NO_OF_DAYS_IN_A_WEEK","prevMonthDayViews","nextMonthDayViews","generateDayViewModels","slice","generateCalendarView","initializeSelectedDay","initializeFocusableDay","isCurrentCalendar","dayViews","currentYear","currentMonth","firstDayOfCurrMonth","getDay","isDayInCalendarView","prev","curr","combinationArr","calendarView","setFocusableFlag","flag","updateFocusableDay","DateNavigationService","_todaysFullDate","_selectedDayChange","_displayedCalendarChange","_focusOnCalendarChange","_focusedDayChange","_displayedCalendar","setDisplayedCalendar","initializeTodaysDate","_today","notifySelectedDayChanged","initializeCalendar","focusedDay","changeMonth","changeYear","moveToNextMonth","moveToPreviousMonth","moveToCurrentMonth","displayedCalendar","incrementFocusDay","DatepickerFocusService","_ngZone","focusCell","elRef","runOutsideAngular","ngZoneIsStableInBrowser","focusEl","querySelector","focusInput","elementIsFocused","activeElement","onStable","pipe","first","NgZone","LocaleHelperService","locale","_firstDayOfWeek","initializeLocaleData","_localeDaysNarrow","_localeMonthsAbbreviated","_localeMonthsWide","_localeDateFormat","initializeFirstDayOfWeek","initializeLocaleDateFormat","initializeLocaleMonthsAbbreviated","initializeLocaleMonthsWide","initializeLocaleDaysNarrow","tempArr","getLocaleDayNames","FormStyle","Standalone","TranslationWidth","Narrow","prevDays","getLocaleMonthNames","Abbreviated","Wide","getLocaleFirstDayOfWeek","getLocaleDateFormat","FormatWidth","Short","LOCALE_ID","ClrCalendar","_localeHelperService","_dateNavigationService","_datepickerFocusService","_elRef","_subs","initializeSubscriptions","localeDaysNarrow","displayedCalendarChange","focusedDayChange","calendarViewModel","focusOnCalendarChange","onKeyDown","keyCode","preventDefault","FocusService","_focused","DateFormControlService","_touchedChange","_dirtyChange","DateIOService","cldrLocaleDateFormat","localeDisplayFormat","delimiters","localeDateFormat","initializeLocaleDisplayFormat","toLocaleLowerCase","test","extractDelimiters","replace","console","toLocaleDisplayFormatString","isNaN","getTime","dateNo","monthNo","dateStr","toString","monthStr","isValidMonth","isValidDate","validateAndGetDate","y","result","parseToFourDigitYear","currYear","floor","getDateValueFromDateString","dateParts","match","firstPart","secondPart","thirdPart","DatepickerEnabledService","_document","_isUserAgentMobile","defaultView","navigator","userAgent","_innerWidth","innerWidth","ClrDateContainer","_ifOpenService","_datepickerEnabledService","dateFormControlService","focusService","focusChange","isEnabled","toggleDatepicker","ClrDateInput","viewContainerRef","dateIOService","dateNavigationService","datepickerEnabledService","datepickerFocusService","dateChange","previousDateChange","updateDate","getValidDateValueFromDate","initialClrDateInputValue","populateServicesFromContainerComponent","listenForUserSelectedDayChanges","listenForControlValueChanges","listenForTouchChanges","listenForDirtyChanges","listenForInputRefocus","processInitialInputs","setFocusStates","setFocus","placeholder","placeholderText","usingNativeDatepicker","onValueChange","validDateValue","usingClarityDatepicker","emitDateOutput","focused","datepickerHasFormControl","setByUserInteraction","updateInput","dateString","setValue","setProperty","datesAreEqual","date1","date2","of","hasControl","switchMap","valueChanges","selectedDayChange","dirtyChange","v","[class.clr-input]","AbstractPopover","parentHost","updateAnchor","closeOnOutsideClick","popoverInstance","attachESCListener","detachESCListener","ignore","detachOutsideClickListener","ngAfterViewChecked","attachOutsideClickListener","documentESCListener","listen","hostClickListener","ignoredElement","ignoredElementClickListener","documentClickListener","ViewManagerService","_currentView","changeToMonthView","changeToYearView","changeToDayView","ClrDatepickerViewManager","parent","_injector","_viewManagerService","configurePopover","isMonthView","isYearView","isDayView","[class.datepicker]","ClrDay","onDayViewFocus","dayView","selectDay","[class.day]","ClrDaypicker","localeMonthsAbbreviated","[class.daypicker]","ClrMonthpicker","_focusedMonthIndex","calendarMonthIndex","localeMonthsWide","monthIndex","getTabIndex","[class.monthpicker]","YearRangeModel","yearRange","generateYearRange","remainder","ceil","generateRange","from","k","nextDecade","previousDecade","currentDecade","inRange","ClrYearpicker","yearRangeModel","calendarYear","_focusedYear","incrementFocusYearBy","middleYear","[class.yearpicker]","CLR_DATEPICKER_DIRECTIVES","ClrDatepickerModule","ClrInputContainer","ClrInput","ClrInputModule","FormsModule","TOGGLE_SERVICE","ToggleServiceFactory","TOGGLE_SERVICE_PROVIDER","ClrPasswordContainer","_toggle","ClrPassword","triggerFocus","ClrPasswordModule","ClrRadioWrapper","[class.clr-radio-wrapper]","ClrRadio","ClrRadioContainer","ClrRadioModule","ClrSelectContainer","multi","valueAccessor","SelectMultipleControlValueAccessor","wrapperClass","ClrSelect","[class.clr-select]","ClrSelectModule","ClrTextareaContainer","ClrTextarea","[class.clr-textarea]","ClrTextareaModule","ClrFormsModule","CLR_LOADING_DIRECTIVES","ClrLoadingModule","OutsideClick","strict","outsideClick","documentClick","OUSTIDE_CLICK_DIRECTIVES","ClrOutsideClickModule","DomAdapter","userDefinedWidth","add","clientRect","scrollBarWidth","offsetWidth","clientWidth","scrollWidth","computedHeight","getPropertyValue","elementClientRect","minWidth","ClrDragEvent","dragEvent","dragPosition","group","dragDataTransfer","dropPointPosition","DRAG_START","DRAG_MOVE","DRAG_END","DRAG_ENTER","DRAG_LEAVE","DROP","DragAndDropEventBusService","dragStart","dragMove","dragEnd","drop","broadcast","DragEventType","DragEventListenerService","ngZone","eventBus","hasDragStarted","attachDragListeners","draggableEl","listeners","customDragEvent","detachDragListeners","nestedListeners","getNativeEventObject","changedTouches","startOnEvent","moveOnEvent","endOnEvent","startEvent","initialPosition","pageX","pageY","selectEvent","stopImmediatePropagation","moveEvent","endEvent","eventType","generateDragEvent","ghostElement","nativeEvent","moveX","moveY","DraggableSnapshotService","domAdapter","capture","draggableElClientRect","snapshotDragEvent","discard","ClrDraggableGhost","dragEventListener","draggableSnapshot","leaveAnimConfig","params","draggableGhostEl","setDefaultGhostSize","hasDraggableState","isAnimationConfigured","dragMoved","animateToOnLeave","topLeftPosition","findTopLeftPosition","setPositionStyle","findDropPointPosition","setSizeStyle","run","ClrIfDragged","dragStarted","dragEnded","DragHandleRegistrarService","_defaultHandleEl","_customHandleEl","makeElementHandle","registerCustomHandle","unregisterCustomHandle","GlobalDragModeService","enter","exit","ClrDraggable","dragHandleRegistrar","globalDragMode","dragOn","dragStartEmitter","dragMoveEmitter","dragEndEmitter","componentFactory","createDefaultGhost","cloneNode","destroyDefaultGhost","defaultHandleEl","customGhost","[class.draggable]","[class.being-dragged]","ClrDroppable","isDraggableMatch","_isDraggableOver","_dropTolerance","dragLeaveEmitter","dragEnterEmitter","dropEmitter","droppableEl","_group","dropToleranceGenerator","toleranceValues","tolerance","unsubscribeFrom","checkGroupMatch","draggableGroup","some","groupKey","isInDropArea","point","onDragStart","dragStartEvent","dragMoveSubscription","dragMoveEvent","onDragMove","dragEndSubscription","dragEndEvent","onDragEnd","isDraggableOver","dragEnterEvent","dragLeaveEvent","dropEvent","dragStartSubscription","[class.droppable]","[class.draggable-match]","ClrDragHandle","[class.drag-handle]","CLR_DRAG_AND_DROP_DIRECTIVES","ClrDragAndDropModule","DatagridIfExpandService","_replace","_animate","setReplace","replaceValue","DatagridRowExpandAnimation","oldHeight","setTimeout","running","finish","newHeight","easing","duration","onfinish","CustomFilter","StateDebouncer","_change","nbChanges","changeStart","changeDone","Page","stateDebouncer","activated","_size","_sizeChange","size","oldSize","_totalItems","total","last","_last","totalItems","page","lastInPage","min","resetPageSize","FiltersProvider","_page","_all","hasActiveFilters","isActive","getActiveFilters","ret","resetPageAndEmitFilterChange","hasUnregistered","registered","RegisteredFilter","accepts","item","filters","unregister","DatagridFilterRegistrar","setFilter","deleteFilter","ClrDatagridFilter","_filters","openChanged","boolOpen","NestedProperty","prop","splitProp","getPropValue","nestedProp","DatagridPropertyStringFilter","exact","search","propValue","toLowerCase","DatagridStringFilterImpl","filterFn","_rawValue","_lowerCaseValue","lowerCaseValue","property","equals","other","DatagridStringFilter","filterValueChange","filterContainer","input","OompaLoompa","cdr","willyWonka","chocolate","latestFlavor","flavor","ngAfterContentChecked","RowActionService","actionableCount","register","WillyWonka","_chocolate","DatagridWillyWonka","ActionableOompaLoompa","hasActionableRow","ChangeDetectorRef","ExpandableRowsCount","expandableCount","ExpandableOompaLoompa","hasExpandableRow","DatagridPropertyComparator","compare","a","propA","propB","UNSORTED","ASC","DESC","Sort","_reverse","_comparator","emitChange","sortBy","forceReverse","comparator","reverse","WrappedColumn","columnView","ClrDatagridColumn","_sort","_sorted","sortedChange","_sortOrder","ClrDatagridSortOrder","sortOrderChange","customFilter","_sortSubscription","sort","sortOrder","_sortBy","sortIcon","sorted","_field","field","sortable","custom","newValue","updateFilterValue","wrappedInjector","[class.datagrid-column]","[attr.aria-sort]","role","Items","trackBy","_smart","_displayed","_allChanges","destroy","_filtersSub","_sortSub","_pageSub","smartenUp","_filterItems","_sortItems","_changePage","items","emitAllChanges","smart","refresh","uninitialized","_filtered","firstItem","lastItem","ClrDatagridItems","differs","differ","iterableProxy","NgForOf","newItems","ngForOf","ngDoCheck","_rawItems","ngForTrackBy","find","diff","all","IterableDiffers","ClrDatagridPlaceholder","[class.datagrid-placeholder-container]","POPOVER_HOST_ANCHOR","ClrSignpostTrigger","isOpen","onSignpostTriggerClick","class","ClrSignpost","useCustomTrigger","[class.signpost]","WrappedCell","cellView","ClrDatagridCell","[class.datagrid-cell]","[class.datagrid-signpost-trigger]","DISPLAY","CALCULATE","ALIGN_COLUMNS","CALCULATE_MODE_ON","CALCULATE_MODE_OFF","CLEAR_WIDTHS","COMPUTE_COLUMN_WIDTHS","DatagridRenderOrganizer","_renderStep","alreadySized","filterRenderSteps","step","renderStep","testStep","resize","DatagridRenderStep","DisplayModeService","renderOrganizer","_view","DatagridDisplayMode","None","Single","Multi","nbSelection","Selection","_items","prevSelectionRefs","_selectionType","SelectionType","rowSelectionMode","debounce","_selectable","clearSelection","allChanges","updatedItems","selectionType","newSingle_1","trackBy_1","selectionUpdated_1","currentSingle","prevSingleSelectionRef","lookup","findIndex","maybe","ref","leftOver_1","trackBy_2","selectionUpdated_2","selectedIndex","selected","_currentSingle","updateCurrent","selectItem","deselectItem","indexOfItem","setSelected","isAllSelected","displayedItems","toggleAll","currentIndex","WrappedRow","rowView","nbRow","ClrDatagridRow","selection","rowActionService","globalExpandable","displayMode","SELECTION_TYPE","_selected","selectedChanged","displayCells","radioId","checkboxId","combineLatest","expandReplaceValue","expandChangeValue","replaced","toggleExpand","dgCells","cell","_scrollableCells","insert","view","viewChange","detach","_calculatedCells","[class.datagrid-row]","[class.datagrid-selected]","[attr.aria-owns]","read","StateProvider","debouncer","to","by","activeFilters","activeFilters_1","activeFilters_1_1","TableSizeService","_tableRef","table","tableRef","getColumnDragHeight","clientHeight","ColumnsService","columns","column","columnStates","hideable","emitStateChangeAt","columnIndex","emitStateChange","ClrDatagrid","organizer","expandableRows","stateProvider","singleSelectedChanged","dataChanged","rows","row","_displayedRows","_projectedDisplayColumns","_projectedCalculationColumns","_calculationRows","[class.datagrid-host]","ClrDatagridActionBar","[class.datagrid-action-bar]","ClrDatagridActionOverflow","openingEvent","ColumnResizerService","_resizedBy","widthBeforeResize","minColumnWidth","startResize","isWithinMaxResizeRange","endResize","calculateResize","maxResizeRange","NB_INSTANCES","UNIQUE_ID","uniqueIdFactory","UNIQUE_ID_PROVIDER","ClrDatagridColumnSeparator","columnResizerService","tableSizeService","columnSeparatorId","showTracker","resizeTrackerEl","tableHeight","moveTracker","resizedBy","redFlagTracker","hideTracker","[class.datagrid-column-separator]","WIDTH","HIDDEN","ALL_COLUMN_CHANGES","DatagridColumnChanges","ClrDatagridColumnToggleButton","columnsService","hideableColumns","hidden","hideableColumn","ClrDatagridColumnToggleTitle","ClrDatagridColumnToggle","hideableColumnStates","columnState","toggleColumnState","columnToToggle","toggleSwitchPanel","[class.column-switch-wrapper]","[class.active]","DatagridDetailRegisterer","expandableRowsCount","ClrDatagridFooter","hasHideableColumns","[class.datagrid-footer]","COLUMN_STATE","columnStateFactory","COLUMN_STATE_PROVIDER","ClrDatagridHideableColumn","titleTemplateRef","hiddenChange","clrDgHidden","_hidden","ClrDatagridItemsTrackBy","ClrDatagridPageSize","pageSizeOptions","ClrDatagridPagination","currentChanged","_pageSubscription","middlePages","updateCurrentPage","parsed","currentPageInputRef","[class.pagination]","ClrDatagridRowDetail","replacedRow","replaceChange","[class.datagrid-row-flex]","[class.datagrid-row-detail]","[class.datagrid-container]","STRICT_WIDTH_CLASS","HIDDEN_COLUMN_CLASS","DatagridCellRenderer","clearWidth","stateSubscription","runAllChanges","stateChanges","setWidth","setHidden","strictWidth","DatagridHeaderRenderer","resizeEmitter","widthSet","autoSet","detectStrictWidth","widthAfterResize","computeWidth","getColumnWidthState","setColumnState","NoopDomAdapter","DatagridRowRenderer","cells","domAdapterFactory","DatagridMainRenderer","_heightSet","columnsSizesStable","shouldStabilizeColumns","computeHeadersWidth","sizeChange","resetDatagridHeight","setupColumns","headers","stabilizeColumns","shouldComputeHeight","computeDatagridHeight","header","nbColumns","allStrict","descendants","CLR_DATAGRID_DIRECTIVES","ClrDatagridModule","ClrStackBlock","_changedChildren","_fullyInitialized","_changed","addChild","[class.stack-block]","display","ClrStackView","editable","save","_editMode","editingChange","ClrStackHeader","stackView","StackControl","modelChange","editing","model","ClrStackInput","inputs","outputs","ClrStackSelect","ClrStackViewCustomTags","CLR_STACK_VIEW_DIRECTIVES","ClrStackViewModule","UNSELECTED","SELECTED","INDETERMINATE","TreeNodeModel","ClrSelectedState","propagateUp","propagateDown","children","child","_updateSelectionFromChildren","toggleSelection","propagate","newState","computeSelectionStateFromChildren","oneSelected","oneUnselected","DeclarativeTreeNodeModel","_addChild","_removeChild","TreeFeaturesService","selectable","eager","treeFeaturesFactory","TREE_FEATURES_PROVIDER","ClrTreeNode","nodeId","featuresService","expandService","STATES","skipEmitChange","selectedChange","recursion","_model","context","clrModel","isExpandable","overflow-y","[class.clr-tree-node]","ClrTree","RecursiveTreeNodeModel","getChildren","childrenFetched","_children","clearChildren","fetchChildren","asyncChildren","isPromise","then","isObservable","raw","wrapChildren","rawModels","ClrRecursiveForOf","ngOnChanges","wrapped","isArray","nodes","root","RecursiveChildren","shouldRender","getContext","$implicit","CLR_TREE_VIEW_DIRECTIVES","ClrTreeViewModule","ClrDataModule","FocusableItem","customFocusableItemProvider","implementation","reset","listenToArrowKeys","move","ArrowKeyDirection","registerContainer","activateCurrent","moveTo","blur","direction","activate","clrFocusServiceFactory","FOCUS_SERVICE_PROVIDER","wrapObservable","observable","onSubscribe","onUnsubscribe","Observable","observer","DropdownFocusHandler","focusBackOnTrigger","resetChildren","moveToFirstItemWhenOpen","handleRootFocus","_trigger","_container","relatedTarget","click","openAndGetChildren","closeAndGetThis","ReplaySubject","down","up","addChildren","linkVertical","loop","linkParent","DROPDOWN_FOCUS_HANDLER_PROVIDER","RootDropdownService","closeMenus","clrRootDropdownFactory","ROOT_DROPDOWN_PROVIDER","ClrDropdown","dropdownService","isMenuClosable","markForCheck","[class.dropdown]","[class.open]","BasicFocusableItem","BASIC_FOCUSABLE_ITEM_PROVIDER","useClass","ClrDropdownItem","dropdown","_dropdownService","focusableItem","unlisten","onDropdownItemClick","[class.dropdown-item]","[attr.role]","ClrDropdownMenu","nested","focusHandler","toArray","notifyOnChanges","[class.dropdown-menu]","ClrDropdownTrigger","isRootLevelToggle","onDropdownTriggerClick","[class.dropdown-toggle]","[class.expandable]","[attr.aria-haspopup]","[attr.aria-expanded]","CLR_DROPDOWN_DIRECTIVES","ClrDropdownModule","ALERT_TYPES","AlertIconAndTypesService","defaultIconShape","_alertIconShape","_alertType","val","iconInfoFromType","shape","title","returnObj","cssClass","MultiAlertService","allAlerts","QueryList","alert","_closed","activeAlerts","manage","alerts","max","ClrAlert","iconService","multiAlertService","isSmall","closable","isAppLevel","_closedChanged","previouslyHidden","alertType","alertIconShape","detectChangesIfNeeded","currentAlert","count","ClrAlertItem","ClrAlerts","currentAlertIndexChange","currentAlertChange","Number","isInteger","isHidden","[class.alerts]","[class.alert-danger]","[class.alert-info]","[class.alert-success]","[class.alert-warning]","ClrAlertsPager","multiAlertServiceChanges","pageUp","pageDown","[class.alerts-pager]","CLR_ALERT_DIRECTIVES","ClrAlertModule","ClrEmphasisModule","ResponsiveNavCodes","NAV_LEVEL_1","NAV_LEVEL_2","NAV_CLOSE_ALL","NAV_OPEN","NAV_CLOSE","NAV_TOGGLE","NAV_CLASS_HAMBURGER_MENU","NAV_CLASS_OVERFLOW_MENU","NAV_CLASS_TRIGGER_1","NAV_CLASS_TRIGGER_2","NAV_CLASS_LEVEL_1","NAV_CLASS_LEVEL_2","ResponsiveNavControlMessage","_controlCode","_navLevel","ResponsiveNavigationService","responsiveNavList","registerNavSubject","controlNavSubject","closeAllNavs","registerNav","navLevel","isNavRegistered","unregisterNav","sendControlMessage","controlCode","message","ClrMainContainer","responsiveNavService","_classList","navControl","processMessage","navClass","controlNav","[class.main-container]","CLR_LAYOUT_DIRECTIVES","ClrMainContainerModule","MainContainerWillyWonka","NavDetectionOompaLoompa","reduce","sum","ClrHeader","isNavLevel1OnPage","isNavLevel2OnPage","openNavLevel","responsiveNavCodes","registeredNavs","navLevelList","initializeNavTriggers","resetNavTriggers","navList","closeOpenNav","toggleNav","[class.header]","ClrNavLevel","level","addNavClass","navHostClassList","_level","navHost","CLR_NAVIGATION_DIRECTIVES","ClrNavigationModule","TemplateRefContainer","TEMPLATE_REF_DIRECTIVES","ClrTemplateRefModule","TabsWillyWonka","ActiveOompaLoompa","ifActive","AriaService","TabsService","TabsLayout","tab","active","tabLink","inOverflow","nbTabContentComponents","ClrTabContent","ariaService","tabsService","tabContentId","viewRef","tabContentViewContainer","ariaLabelledBy","ariaControls","nbTabsComponent","TABS_ID","TABS_ID_PROVIDER","nbTabLinkComponents","ClrTabLink","tabsId","tabLinkId","templateRefContainer","_inOverflow","[attr.aria-hidden]","[class.btn]","ClrTab","ClrTabOverflowContent","ClrTabs","_tabLinkDirectives","overflowTabs","activeTab","tabs","tabLinkDirectives","toggleOverflow","CLR_TABS_DIRECTIVES","ClrTabsModule","VerticalNavGroupRegistrationService","navGroupCount","registerNavGroup","unregisterNavGroup","VerticalNavIconService","_icons","registerIcon","unregisterIcon","VerticalNavService","_animateOnCollapsed","_collapsedChanged","_collapsed","_collapsible","collapsible","updateCollapseBehavior","collapsed","ClrVerticalNav","_navService","_navIconService","_navGroupRegistrationService","_sub","collapsedChanged","hasIcons","toggleByButton","[class.is-collapsed]","[class.has-nav-groups]","[class.has-icons]","VerticalNavGroupService","EXPANDED_STATE","COLLAPSED_STATE","ClrVerticalNavGroup","_itemExpand","_navGroupService","wasExpanded","_expandAnimationState","expandAnimationState","animateOnCollapsed","goingToCollapse","expandGroup","collapseGroup","expandAnimationDone","$event","toState","visibility","ClrVerticalNavGroupChildren","ClrVerticalNavIcon","_verticalNavIconService","ClrVerticalNavLink","expandParentNavGroup","CLR_VERTICAL_NAV_DIRECTIVES","ClrVerticalNavModule","ClrLayoutModule","ScrollingService","stopScrolling","resumeScrolling","ClrModal","_scrollingService","modalId","_openChanged","staticBackdrop","skipAnimation","bypassScrollService","stopClose","altClose","currentValue","focusTrap","fadeDone","viewProviders","CLR_MODAL_DIRECTIVES","ClrModalModule","SIGNPOST_POSITIONS","top-left","top-middle","top-right","right-top","right-middle","right-bottom","bottom-right","bottom-middle","bottom-left","left-bottom","left-middle","left-top","default","POSITIONS","ClrSignpostContent","_position","setPosition","[class.signpost-content]","CLR_SIGNPOST_DIRECTIVES","ClrSignpostModule","ClrTooltip","[class.tooltip]","SIZES","ClrTooltipContent","[class.tooltip-content]","[style.opacity]","ClrTooltipTrigger","showTooltip","hideTooltip","[attr.tabindex]","[class.tooltip-trigger]","CLR_TOOLTIP_DIRECTIVES","ClrTooltipModule","ClrPopoverModule","ButtonHubService","buttonsReady","_previousBtnClicked","_nextBtnClicked","_dangerBtnClicked","_cancelBtnClicked","_finishBtnClicked","_customBtnClicked","buttonClicked","buttonType","PageCollectionService","_pagesReset","pages","pageCount","pagesCount","pagesAsArray","getPageById","foundPages","checkResults","getPageByIndex","pagesLastIndex","getPageIndex","results","requestedPageId","foundPagesCount","pageRange","start","end","getPageRangeFromPages","otherPage","startIndex","endIndex","pageIndex","otherPageIndex","getPreviousPage","previousPageIndex","previousPageIsCompleted","previousPage","completed","getNextPage","nextPageIndex","getStepItemIdForPage","pageIdParts","commitPage","pageHasOverrides","stopNext","onCommit","updateCompletedStates","firstIncompleteIndex","findFirstIncompletePageIndex","returnIndex","findFirstIncompletePage","myIncompleteIndex","WizardNavigationService","pageCollection","buttonService","_currentChanged","navServiceLoaded","forceForwardNavigation","_movedToNextPage","_wizardFinished","_movedToPreviousPage","_cancelWizard","wizardHasAltCancel","wizardHasAltNext","wizardStopNavigation","wizardDisableStepnav","previousButtonSubscription","previousBtnClicked","currentPage","currentPageIsFirst","previousStepDisabled","previousButtonClicked","nextButtonSubscription","nextBtnClicked","checkAndCommitCurrentPage","dangerButtonSubscription","dangerBtnClicked","finishButtonSubscription","finishBtnClicked","customButtonSubscription","customBtnClicked","customButtonClicked","cancelButtonSubscription","cancelBtnClicked","pageOnCancel","cancel","pagesResetSubscription","pagesReset","setFirstPageCurrent","firstPage","lastPage","_currentPage","onLoad","currentPageIsLast","forceNext","nextPage","iAmTheLastPage","isNext","isDanger","isDangerNext","isFinish","readyToComplete","primaryButtonClicked","finishButtonClicked","dangerButtonClicked","nextButtonClicked","goTo","pageToGoToOrId","lazyComplete","pageToGoTo","myPages","pagesToCheck","goingForward","canGoTo","previousPagePasses","okayToMove","setLastEnabledPageCurrent","allPages","lastCompletedPageIndex","updateNavigation","toSetCurrent","HeaderActionService","navService","wizardHdrActions","wizardHeaderActions","hasHeaderActions","currentPageHasHeaderActions","wizardHasHeaderActions","wizardHeaderActionIndex","ClrWizardHeaderAction","headerActionClicked","ClrWizardPageButtons","pageButtonsTemplateRef","ClrWizardPageHeaderActions","pageHeaderActionsTemplateRef","ClrWizardPageNavTitle","pageNavTitleTemplateRef","ClrWizardPageTitle","pageTitleTemplateRef","wizardPageIndex","ClrWizardPage","_nextStepDisabled","nextStepDisabledChange","_previousStepDisabled","previousStepDisabledChange","_stopCancel","stopCancelChange","_stopNext","_complete","valBool","nextStepDisabled","enabled","previousCompleted","pageTitle","pageNavTitle","_headerActions","_buttons","makeCurrent","[id]","[attr.aria-labelledby]","[class.clr-wizard-page]","ClrWizard","headerActionService","_forceForward","onCancel","wizardFinished","onReset","currentPageChanged","onMoveNext","onMovePrevious","_stopNavigation","_disableStepnav","_stopModalAnimations","goNextSubscription","movedToNextPage","goPreviousSubscription","movedToPreviousPage","cancelSubscription","notifyWizardCancel","checkAndCancel","wizardFinishedSubscription","forceFinish","currentPageSubscription","headerActions","forEachAddedItem","forEachRemovedItem","stopNavigation","skipChecksAndEmits","modalCancel","currentPageHasOverrides","stopCancel","pageId","[class.clr-wizard]","[class.wizard-md]","[class.wizard-lg]","[class.wizard-xl]","[class.lastPage]","DEFAULT_BUTTON_TYPES","CUSTOM_BUTTON_TYPES","ClrWizardButton","wasClicked","checkDefaultAndCustomType","valueToCheck","typeToLookUp","nav","isCancel","isPrevious","ClrWizardCustomTags","ClrWizardStepnav","pageService","ClrWizardStepnavItem","pageGuard","isCurrent","[attr.aria-selected]","[attr.aria-controls]","[class.clr-nav-link]","[class.nav-item]","[class.disabled]","[class.no-click]","[class.complete]","CLR_WIZARD_DIRECTIVES","ClrWizardModule","ClarityModule","fade","fadeSlide","slide"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive } from '@angular/core';\n\n@Directive({ selector: 'clr-icon' })\nexport class ClrIconCustomTag {\n  // No behavior\n  // The only purpose is to \"declare\" the tag in Angular\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { ClrIconCustomTag } from './icon';\n\nexport const CLR_ICON_DIRECTIVES: Type<any>[] = [ClrIconCustomTag];\n\n@NgModule({ imports: [CommonModule], declarations: [CLR_ICON_DIRECTIVES], exports: [CLR_ICON_DIRECTIVES] })\nexport class ClrIconModule {}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/*\n * Do NOT Angular this up. It assumes we're in the DOM, plays with native elements, ...\n * It could potentially be used as part of @clr/ui as a vanilla Javascript helper.\n */\n\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { PopoverOptions } from './popover-options.interface';\nexport enum Point {\n  RIGHT_CENTER,\n  RIGHT_TOP,\n  RIGHT_BOTTOM,\n  TOP_CENTER,\n  TOP_RIGHT,\n  TOP_LEFT,\n  BOTTOM_CENTER,\n  BOTTOM_RIGHT,\n  BOTTOM_LEFT,\n  LEFT_CENTER,\n  LEFT_TOP,\n  LEFT_BOTTOM,\n}\n\nconst POSITION_RELATIVE = 'relative';\nconst POSITION_ABSOLUTE = 'absolute';\nconst POSITION_FIXED = 'fixed';\n\nconst OVERFLOW_SCROLL = 'scroll';\nconst OVERFLOW_AUTO = 'auto';\n\nexport class Popover {\n  private _scroll: Subject<void>;\n\n  constructor(private element: any) {\n    // Browsers don't agree with what to do if some of these are not specified, so we set them all to be safe.\n    element.style.position = POSITION_ABSOLUTE;\n    element.style.top = 0;\n    element.style.bottom = 'auto';\n    element.style.left = 0;\n    element.style.right = 'auto';\n  }\n\n  // TODO: need a way to account for parameters that change dynamically (positioning).\n  public anchor(\n    anchor: any,\n    anchorAlign: Point,\n    popoverAlign: Point,\n    { offsetX = 0, offsetY = 0, useAnchorParent = false }: PopoverOptions = {}\n  ): Observable<any> {\n    // TODO: we are assuming here that the popover is inside or next to the anchor.\n    // We'd need to go up the popover tree too otherwise\n\n    this.addScrollEventListeners(anchor);\n    if (useAnchorParent) {\n      anchor = anchor.parentNode;\n    }\n    // explicitly override anchor's style to static\n    anchor.style.position = 'static';\n\n    const anchorRect = anchor.getBoundingClientRect();\n    const popoverRect = this.element.getBoundingClientRect();\n\n    // position of left top corner of anchor + the offset\n    let leftDiff: number = anchorRect.left - popoverRect.left + offsetX;\n    let topDiff: number = anchorRect.top - popoverRect.top + offsetY;\n\n    // first, adjust positioning based on anchor's align point\n    switch (anchorAlign) {\n      case Point.LEFT_TOP:\n      case Point.TOP_LEFT:\n        break;\n      case Point.TOP_CENTER:\n        leftDiff += anchorRect.width / 2;\n        break;\n      case Point.TOP_RIGHT:\n        leftDiff += anchorRect.width;\n        break;\n      case Point.RIGHT_TOP:\n        leftDiff += anchorRect.width;\n        break;\n      case Point.LEFT_BOTTOM:\n        topDiff += anchorRect.height;\n        break;\n      case Point.BOTTOM_LEFT:\n        topDiff += anchorRect.height;\n        break;\n      case Point.BOTTOM_CENTER:\n        topDiff += anchorRect.height;\n        leftDiff += anchorRect.width / 2;\n        break;\n      case Point.BOTTOM_RIGHT:\n        topDiff += anchorRect.height;\n        leftDiff += anchorRect.width;\n        break;\n      case Point.RIGHT_BOTTOM:\n        topDiff += anchorRect.height;\n        leftDiff += anchorRect.width;\n        break;\n      case Point.LEFT_CENTER:\n        topDiff += anchorRect.height / 2;\n        break;\n      case Point.RIGHT_CENTER:\n        topDiff += anchorRect.height / 2;\n        leftDiff += anchorRect.width;\n        break;\n      default:\n    }\n\n    // second, adjust positioning based on popover's align point\n    switch (popoverAlign) {\n      case Point.LEFT_TOP:\n      case Point.TOP_LEFT:\n        break;\n      case Point.TOP_CENTER:\n        leftDiff -= popoverRect.width / 2;\n        break;\n      case Point.TOP_RIGHT:\n        leftDiff -= popoverRect.width;\n        break;\n      case Point.RIGHT_TOP:\n        leftDiff -= popoverRect.width;\n        break;\n      case Point.LEFT_BOTTOM:\n        topDiff -= popoverRect.height;\n        break;\n      case Point.BOTTOM_LEFT:\n        topDiff -= popoverRect.height;\n        break;\n      case Point.BOTTOM_CENTER:\n        topDiff -= popoverRect.height;\n        leftDiff -= popoverRect.width / 2;\n        break;\n      case Point.BOTTOM_RIGHT:\n        topDiff -= popoverRect.height;\n        leftDiff -= popoverRect.width;\n        break;\n      case Point.RIGHT_BOTTOM:\n        topDiff -= popoverRect.height;\n        leftDiff -= popoverRect.width;\n        break;\n      case Point.LEFT_CENTER:\n        topDiff -= popoverRect.height / 2;\n        break;\n      case Point.RIGHT_CENTER:\n        topDiff -= popoverRect.height / 2;\n        leftDiff -= popoverRect.width;\n        break;\n      default:\n    }\n\n    // Third, adjust with popover's margins based on the two align points.\n    // Here, we make an assumption that popover is primarily positioned outside the\n    // anchor with minor offset. Without this assumption, it's impossible to apply\n    // the popover's margins in a predictable way. For example, assume that a popover\n    // and its anchor are exactly the same size. if a popover is positioned inside the\n    // anchor (which is technically possible), then it becomes impossible to know what to do\n    // if the popover has a non-zero margin value all around (because applying the margin in\n    // all four directions will result in no margin visually, which isn't what we want).\n    // Therefore, our logic makes assumptions about margins of interest given the points,\n    // and only covers the cases where popover is outside the anchor.\n\n    const popoverComputedStyle = getComputedStyle(this.element);\n    const marginLeft = parseInt(popoverComputedStyle.marginLeft, 10);\n    const marginRight = parseInt(popoverComputedStyle.marginRight, 10);\n    const marginTop = parseInt(popoverComputedStyle.marginTop, 10);\n    const marginBottom = parseInt(popoverComputedStyle.marginBottom, 10);\n\n    switch (anchorAlign) {\n      case Point.LEFT_TOP:\n      case Point.TOP_LEFT:\n      case Point.TOP_RIGHT:\n      case Point.RIGHT_TOP:\n        if (popoverAlign === Point.BOTTOM_RIGHT || popoverAlign === Point.RIGHT_BOTTOM) {\n          topDiff -= marginBottom;\n          leftDiff -= marginRight;\n        }\n        if (popoverAlign === Point.BOTTOM_LEFT || popoverAlign === Point.LEFT_BOTTOM) {\n          topDiff -= marginTop;\n          leftDiff += marginLeft;\n        }\n        if (popoverAlign === Point.TOP_LEFT || popoverAlign === Point.LEFT_TOP) {\n          topDiff += marginTop;\n          leftDiff += marginLeft;\n        }\n        if (popoverAlign === Point.TOP_RIGHT || popoverAlign === Point.RIGHT_TOP) {\n          topDiff += marginTop;\n          leftDiff -= marginRight;\n        }\n        break;\n      case Point.LEFT_BOTTOM:\n      case Point.BOTTOM_LEFT:\n      case Point.BOTTOM_RIGHT:\n      case Point.RIGHT_BOTTOM:\n        if (popoverAlign === Point.BOTTOM_LEFT || popoverAlign === Point.LEFT_BOTTOM) {\n          topDiff -= marginBottom;\n          leftDiff += marginLeft;\n        }\n        if (popoverAlign === Point.BOTTOM_RIGHT || popoverAlign === Point.RIGHT_BOTTOM) {\n          topDiff -= marginBottom;\n          leftDiff -= marginRight;\n        }\n        if (popoverAlign === Point.TOP_LEFT || popoverAlign === Point.LEFT_TOP) {\n          topDiff += marginTop;\n          leftDiff += marginLeft;\n        }\n        if (popoverAlign === Point.TOP_RIGHT || popoverAlign === Point.RIGHT_TOP) {\n          topDiff += marginTop;\n          leftDiff -= marginRight;\n        }\n        break;\n      case Point.TOP_CENTER:\n        topDiff -= marginBottom;\n        leftDiff += marginLeft;\n        leftDiff -= marginRight;\n        break;\n      case Point.BOTTOM_CENTER:\n        topDiff += marginTop;\n        leftDiff += marginLeft;\n        leftDiff -= marginRight;\n        break;\n      case Point.LEFT_CENTER:\n        topDiff += marginTop;\n        topDiff -= marginBottom;\n        leftDiff -= marginRight;\n        break;\n      case Point.RIGHT_CENTER:\n        topDiff += marginTop;\n        topDiff -= marginBottom;\n        leftDiff += marginLeft;\n        break;\n      default:\n    }\n\n    this.element.style.transform = `translateX(${Math.round(leftDiff)}px) translateY(${Math.round(topDiff)}px)`;\n    return this._scroll.asObservable();\n  }\n\n  public release() {\n    this.element.style.transform = '';\n    this.removeScrollEventListeners();\n  }\n\n  private isPositioned(container: any) {\n    const position = getComputedStyle(container).position;\n    return position === POSITION_RELATIVE || position === POSITION_ABSOLUTE || position === POSITION_FIXED;\n  }\n\n  /*\n     * Containers up to the first positioned one will have an event on scroll\n     */\n\n  private scrollableElements: HTMLElement[] = [];\n\n  private emitScrollEvent() {\n    this._scroll.next();\n  }\n\n  private boundOnScrollListener: any = this.emitScrollEvent.bind(this);\n\n  private addScrollEventListeners(e: any) {\n    this._scroll = new Subject<void>();\n    const anchor: any = e;\n    let current: any = e;\n    while (current && current !== document) {\n      if (this.scrolls(current)) {\n        current.addEventListener('scroll', this.boundOnScrollListener);\n        this.scrollableElements.push(current);\n      }\n      if (current !== anchor && this.isPositioned(current)) {\n        break;\n      }\n      current = current.parentNode;\n    }\n  }\n\n  private removeScrollEventListeners() {\n    for (const elem of this.scrollableElements) {\n      elem.removeEventListener('scroll', this.boundOnScrollListener);\n    }\n    this.scrollableElements.length = 0;\n    if (this._scroll) {\n      this._scroll.complete();\n      delete this._scroll;\n    }\n  }\n\n  private scrolls(container: any): boolean {\n    const computedStyles = getComputedStyle(container);\n    return (\n      computedStyles.overflowX === OVERFLOW_SCROLL ||\n      computedStyles.overflowX === OVERFLOW_AUTO ||\n      computedStyles.overflowY === OVERFLOW_SCROLL ||\n      computedStyles.overflowY === OVERFLOW_AUTO\n    );\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, EmbeddedViewRef, EventEmitter, Input, Output, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { Point, Popover } from './popover';\nimport { PopoverOptions } from './popover-options.interface';\n\nlet openCount: number = 0;\nconst waiting: Array<() => void> = []; // pending create functions\n\n@Directive({ selector: '[clrPopoverOld]' })\nexport class PopoverDirectiveOld {\n  private _popoverInstance: Popover;\n  private _subscription: Subscription;\n\n  @Input('clrPopoverOldAnchor') anchorElem: any;\n  @Input('clrPopoverOldAnchorPoint') anchorPoint: Point;\n  @Input('clrPopoverOldPopoverPoint') popoverPoint: Point;\n  @Input('clrPopoverOldOptions') popoverOptions: PopoverOptions = {};\n  @Output('clrPopoverOldChange') clrPopoverOldChange = new EventEmitter<boolean>(false);\n\n  constructor(private templateRef: TemplateRef<any>, private viewContainer: ViewContainerRef) {}\n\n  @Input()\n  set clrPopoverOld(open: boolean) {\n    if (open) {\n      if (this.popoverOptions.allowMultipleOpen) {\n        this.createPopover();\n      } else {\n        if (openCount === 0) {\n          this.createPopover();\n        } else {\n          waiting.push(() => {\n            this.createPopover();\n          });\n        }\n      }\n    } else {\n      this.viewContainer.clear();\n      this.destroyPopover();\n\n      if (!this.popoverOptions.allowMultipleOpen) {\n        if (waiting.length > 0) {\n          const createPopoverFn = waiting.shift();\n          createPopoverFn();\n        }\n      }\n    }\n  }\n\n  createPopover() {\n    const embeddedViewRef: EmbeddedViewRef<any> = <EmbeddedViewRef<any>>this.viewContainer.createEmbeddedView(\n      this.templateRef\n    );\n\n    // TODO: Not sure of the risks associated with using this. Find an alternative.\n    // Needed for find the correct height and width of dynamically created views\n    // inside of the popover. For Eg: Button Groups\n    embeddedViewRef.detectChanges();\n\n    // filter out other nodes in the view ref so we are only left with element nodes\n    const elementNodes: HTMLElement[] = embeddedViewRef.rootNodes.filter((node: any) => {\n      return node.nodeType === 1;\n    });\n\n    // we take the first element node in the embedded view; usually there should only be one anyways\n    this._popoverInstance = new Popover(elementNodes[0]);\n    this._subscription = this._popoverInstance\n      .anchor(this.anchorElem, this.anchorPoint, this.popoverPoint, this.popoverOptions)\n      .subscribe(() => {\n        this.clrPopoverOldChange.emit(false);\n      });\n    openCount++;\n  }\n\n  destroyPopover() {\n    if (this._popoverInstance) {\n      this._subscription.unsubscribe();\n      this._popoverInstance.release();\n      delete this._popoverInstance;\n      openCount--;\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroyPopover();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Type } from '@angular/core';\nimport { PopoverDirectiveOld } from './popover-old.directive';\n\nexport * from './popover-options.interface';\nexport * from './popover-old.directive';\n\nexport const POPOVER_DIRECTIVES: Type<any>[] = [PopoverDirectiveOld];\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { POPOVER_DIRECTIVES } from './index';\n\n@NgModule({ imports: [CommonModule], declarations: [POPOVER_DIRECTIVES], exports: [POPOVER_DIRECTIVES] })\nexport class ClrCommonPopoverModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ClrLoadingState } from './loading';\n\n/**\n * This is an abstract class because we need it to still be a valid token for dependency injection after transpiling.\n * This does not mean you should extend it, simply implementing it is fine.\n */\nexport abstract class LoadingListener {\n  abstract loadingStateChange(state: ClrLoadingState): void;\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, Input, OnDestroy, Optional } from '@angular/core';\n\nimport { LoadingListener } from './loading-listener';\n\nexport enum ClrLoadingState {\n  DEFAULT,\n  LOADING,\n  SUCCESS,\n  ERROR,\n}\n\n@Directive({ selector: '[clrLoading]' })\nexport class ClrLoading implements OnDestroy {\n  // We find the first parent that handles something loading\n  constructor(@Optional() private listener: LoadingListener) {}\n\n  private _loadingState: ClrLoadingState = ClrLoadingState.DEFAULT;\n\n  public get loadingState() {\n    return this._loadingState;\n  }\n\n  @Input('clrLoading')\n  public set loadingState(value: boolean | ClrLoadingState) {\n    if (value === true) {\n      value = ClrLoadingState.LOADING;\n    } else if (!value) {\n      value = ClrLoadingState.DEFAULT;\n    }\n\n    if (value === this._loadingState) {\n      return;\n    }\n\n    this._loadingState = value;\n    if (this.listener) {\n      this.listener.loadingStateChange(value);\n    }\n  }\n\n  ngOnDestroy() {\n    this.loadingState = ClrLoadingState.DEFAULT;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nimport { ClrButton } from '../button-group/button';\n\n@Injectable()\nexport class ButtonInGroupService {\n  private _changes: Subject<ClrButton> = new Subject<ClrButton>();\n\n  get changes(): Observable<ClrButton> {\n    return this._changes.asObservable();\n  }\n\n  updateButtonGroup(button: ClrButton): void {\n    this._changes.next(button);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, EventEmitter, Input, Optional, Output, SkipSelf, TemplateRef, ViewChild } from '@angular/core';\n\nimport { ClrLoadingState } from '../../utils/loading/loading';\nimport { LoadingListener } from '../../utils/loading/loading-listener';\nimport { ButtonInGroupService } from '../providers/button-in-group.service';\n\n@Component({\n  selector: 'clr-button',\n  template: `\n        <ng-template #buttonProjectedRef>\n            <button \n                [class]=\"classNames\" \n                (click)=\"emitClick()\"\n                [attr.type]=\"type\"\n                [attr.name]=\"name\"\n                [attr.disabled]=\"disabled\"\n                [id]=\"id\">\n                <span class=\"spinner spinner-inline\" *ngIf=\"loading\"></span>\n                <ng-content></ng-content>\n            </button>\n        </ng-template>\n    `,\n  providers: [{ provide: LoadingListener, useExisting: ClrButton }],\n})\nexport class ClrButton implements LoadingListener {\n  private _enableService: boolean = false;\n\n  @ViewChild('buttonProjectedRef', { static: true })\n  templateRef: TemplateRef<ClrButton>;\n\n  constructor(\n    @SkipSelf()\n    @Optional()\n    public buttonInGroupService: ButtonInGroupService\n  ) {}\n\n  private _inMenu: boolean = false;\n\n  get inMenu(): boolean {\n    return this._inMenu;\n  }\n\n  @Input('clrInMenu')\n  set inMenu(value: boolean) {\n    value = !!value;\n    if (this._inMenu !== value) {\n      this._inMenu = value;\n      // We check if the service flag is enabled\n      // and if the service exists because the service is optional\n      if (this._enableService && this.buttonInGroupService) {\n        this.buttonInGroupService.updateButtonGroup(this);\n      }\n    }\n  }\n\n  private _classNames: string = 'btn';\n\n  get classNames(): string {\n    return this._classNames;\n  }\n\n  @Input('class')\n  set classNames(value: string) {\n    if (typeof value === 'string') {\n      const classNames: string[] = value.split(' ');\n      if (classNames.indexOf('btn') === -1) {\n        classNames.push('btn');\n      }\n      this._classNames = classNames.join(' ');\n    }\n  }\n\n  private _name: string = null;\n\n  get name(): string {\n    return this._name;\n  }\n\n  @Input('name')\n  set name(value: string) {\n    if (typeof value === 'string') {\n      this._name = value;\n    }\n  }\n\n  private _type: string = null;\n\n  get type(): string {\n    return this._type;\n  }\n\n  @Input('type')\n  set type(value: string) {\n    if (typeof value === 'string') {\n      this._type = value;\n    }\n  }\n\n  private _id: string = null;\n\n  get id(): string {\n    return this._id;\n  }\n\n  @Input('id')\n  set id(value: string) {\n    if (typeof value === 'string') {\n      this._id = value;\n    }\n  }\n\n  private _disabled: any = null;\n\n  get disabled(): any {\n    return this._disabled;\n  }\n\n  @Input('disabled')\n  set disabled(value: any) {\n    if (value !== null && value !== false) {\n      this._disabled = '';\n    } else {\n      this._disabled = null;\n    }\n  }\n\n  public loading: boolean;\n\n  loadingStateChange(state: ClrLoadingState): void {\n    this.loading = state === ClrLoadingState.LOADING;\n  }\n\n  @Output('click') _click: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  emitClick(): void {\n    this._click.emit(true);\n  }\n\n  ngAfterViewInit() {\n    this._enableService = true;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport const CLR_MENU_POSITIONS: string[] = [\n  'bottom-left',\n  'bottom-right',\n  'top-left',\n  'top-right',\n  'left-bottom',\n  'left-top',\n  'right-bottom',\n  'right-top',\n];\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { SkipSelf, Optional, InjectableProvider, forwardRef } from '@angular/core';\n\nimport { ClrCommonStrings } from './common-strings.interface';\n\n// @TODO Put the Required type back in when our minimumly supported version of Angular uses\n// TS 2.8 or greater (should be Angular 7)\n// export class ClrCommonStringsService implements Required<ClrCommonStrings> {\nexport class ClrCommonStringsService implements ClrCommonStrings {\n  open = 'Open';\n  close = 'Close';\n  show = 'Show';\n  hide = 'Hide';\n  expand = 'Expand';\n  collapse = 'Collapse';\n  more = 'More';\n  select = 'Select';\n  selectAll = 'Select All';\n  previous = 'Previous';\n  next = 'Next';\n  current = 'Jump to current';\n  info = 'Info';\n  success = 'Success';\n  warning = 'Warning';\n  danger = 'Error';\n  rowActions = 'Available actions';\n  pickColumns = 'Show or hide columns';\n  showColumns = 'Show Columns';\n}\n\nexport function commonStringsFactory(existing?: ClrCommonStrings): ClrCommonStrings {\n  const defaults = new ClrCommonStringsService();\n  if (existing) {\n    return { ...defaults, ...existing };\n  }\n  return defaults;\n}\n\nexport const COMMON_STRINGS_PROVIDER: InjectableProvider = {\n  useFactory: commonStringsFactory,\n  // We have a circular dependency for now, we can address it later once these\n  // tree-shakeable providers have proper documentation.\n  deps: [[new Optional(), new SkipSelf(), forwardRef(() => ClrCommonStrings)]],\n};\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\nimport { COMMON_STRINGS_PROVIDER } from './common-strings.service';\n\n@Injectable({\n  providedIn: 'root',\n  ...COMMON_STRINGS_PROVIDER,\n})\nexport abstract class ClrCommonStrings {\n  /**\n   * Open button\n   */\n  open?: string;\n  /**\n   * Close button\n   */\n  close?: string;\n  /**\n   * Show button\n   */\n  show?: string;\n  /**\n   * Hide button\n   */\n  hide?: string;\n  /**\n   * Expandable components: expand caret\n   */\n  expand?: string;\n  /**\n   * Expandable components: collapse caret\n   */\n  collapse?: string;\n  /**\n   * Overflow menus: ellipsis button\n   */\n  more?: string;\n  /**\n   * Selectable components: checkbox or radio\n   */\n  select?: string;\n  /**\n   * Selectable components: checkbox to select all\n   */\n  selectAll?: string;\n  /**\n   * Pagination: previous button\n   */\n  previous?: string;\n  /**\n   * Pagination: next button\n   */\n  next?: string;\n  /**\n   * Pagination: go to current\n   */\n  current?: string;\n  /**\n   * Alert levels: info\n   */\n  info?: string;\n  /**\n   * Alert levels: success\n   */\n  success?: string;\n  /**\n   * Alert levels: warning\n   */\n  warning?: string;\n  /**\n   * Alert levels: danger\n   */\n  danger?: string;\n  /**\n   * Datagrid: row actions\n   */\n  rowActions?: string;\n  /**\n   * Datagrid: pick columns\n   */\n  pickColumns?: string;\n  /**\n   * Datagrid: show columns\n   */\n  showColumns?: string;\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChildren, ElementRef, HostListener, Input, QueryList } from '@angular/core';\n\nimport { Point } from '../../popover/common/popover';\nimport { CLR_MENU_POSITIONS } from '../../popover/dropdown/menu-positions';\nimport { ButtonInGroupService } from '../providers/button-in-group.service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\nimport { ClrButton } from './button';\n\n@Component({\n  selector: 'clr-button-group',\n  templateUrl: 'button-group.html',\n  providers: [ButtonInGroupService],\n  host: { '[class.btn-group]': 'true' },\n})\nexport class ClrButtonGroup {\n  @ContentChildren(ClrButton) buttons: QueryList<ClrButton>;\n\n  constructor(\n    public buttonGroupNewService: ButtonInGroupService,\n    private elementRef: ElementRef,\n    public commonStrings: ClrCommonStrings\n  ) {}\n\n  inlineButtons: ClrButton[] = [];\n  menuButtons: ClrButton[] = [];\n\n  /**\n   * 1. Initializes the initial Button Group View\n   * 2. Subscribes to changes on the ContentChildren\n   *    in case the user content projection changes\n   */\n  ngAfterContentInit() {\n    this.initializeButtons();\n    this.buttonGroupNewService.changes.subscribe(button => this.rearrangeButton(button));\n    this.buttons.changes.subscribe(() => {\n      this.initializeButtons();\n    });\n  }\n\n  /**\n   * Moves the button into the other ViewContainer\n   * when an update is received.\n   *\n   * @param button\n   */\n  rearrangeButton(button: ClrButton): void {\n    let fromView: ClrButton[];\n    let toView: ClrButton[];\n    if (button.inMenu) {\n      fromView = this.inlineButtons;\n      toView = this.menuButtons;\n    } else {\n      fromView = this.menuButtons;\n      toView = this.inlineButtons;\n    }\n    const index: number = fromView.indexOf(button);\n    if (index > -1) {\n      fromView.splice(index, 1);\n      const moveIndex = this.getMoveIndex(button);\n      if (moveIndex <= toView.length) {\n        toView.splice(moveIndex, 0, button);\n      }\n    }\n  }\n\n  /**\n   * Author: Eudes\n   *\n   * Finds the order of a button w.r.t other buttons\n   *\n   * @param buttonToMove\n   * @returns\n   */\n  getMoveIndex(buttonToMove: ClrButton): number {\n    const tempArr: ClrButton[] = this.buttons.filter(button => button.inMenu === buttonToMove.inMenu);\n    return tempArr.indexOf(buttonToMove);\n  }\n\n  initializeButtons(): void {\n    const tempInlineButtons: ClrButton[] = [];\n    const tempInMenuButtons: ClrButton[] = [];\n    this.buttons.forEach(button => {\n      if (button.inMenu) {\n        tempInMenuButtons.push(button);\n      } else {\n        tempInlineButtons.push(button);\n      }\n    });\n    this.inlineButtons = tempInlineButtons;\n    this.menuButtons = tempInMenuButtons;\n  }\n\n  /**\n   * Overflow Menu\n   *\n   */\n\n  // Indicates the position of the overflow menu\n  private _menuPosition: string;\n\n  get menuPosition(): string {\n    return this._menuPosition;\n  }\n\n  @Input('clrMenuPosition')\n  set menuPosition(pos: string) {\n    if (pos && CLR_MENU_POSITIONS.indexOf(pos) > -1) {\n      this._menuPosition = pos;\n    } else {\n      this._menuPosition = 'bottom-left';\n    }\n    // set the popover values based on menu position\n    switch (this._menuPosition) {\n      case 'top-right':\n        this.anchorPoint = Point.TOP_RIGHT;\n        this.popoverPoint = Point.RIGHT_BOTTOM;\n        break;\n      case 'top-left':\n        this.anchorPoint = Point.TOP_LEFT;\n        this.popoverPoint = Point.LEFT_BOTTOM;\n        break;\n      case 'bottom-right':\n        this.anchorPoint = Point.BOTTOM_RIGHT;\n        this.popoverPoint = Point.RIGHT_TOP;\n        break;\n      case 'bottom-left':\n        this.anchorPoint = Point.BOTTOM_LEFT;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n      case 'right-top':\n        this.anchorPoint = Point.RIGHT_TOP;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n      case 'right-bottom':\n        this.anchorPoint = Point.RIGHT_BOTTOM;\n        this.popoverPoint = Point.LEFT_BOTTOM;\n        break;\n      case 'left-top':\n        this.anchorPoint = Point.LEFT_TOP;\n        this.popoverPoint = Point.RIGHT_TOP;\n        break;\n      case 'left-bottom':\n        this.anchorPoint = Point.LEFT_BOTTOM;\n        this.popoverPoint = Point.RIGHT_BOTTOM;\n        break;\n      default:\n        this.anchorPoint = Point.BOTTOM_LEFT;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n    }\n  }\n\n  private _openMenu: boolean = false;\n\n  get openMenu(): boolean {\n    return this._openMenu;\n  }\n\n  set openMenu(value: boolean) {\n    this._openMenu = value;\n  }\n\n  public anchorPoint: Point = Point.BOTTOM_LEFT; // default if menuPosition isn't set\n  public popoverPoint: Point = Point.LEFT_TOP; // default if menuPosition isn't set\n\n  /**\n   * Toggle the ClrDropdown Menu when the ClrDropdown Toggle is\n   * clicked. Also set a flag that indicates that the toggle\n   * was clicked so that we don't traverse the DOM to find the\n   * location of the click.\n   */\n  toggleMenu(): void {\n    this.openMenu = !this.openMenu;\n    this._overflowMenuToggleClicked = true;\n  }\n\n  /**\n   * Flag with indicates if the overflow menu toggle was clicked.\n   * If true, this can save us traversing the DOM to find\n   * whether the click was withing the button group toggle\n   * or menu in the onMouseClick method\n   */\n  private _overflowMenuToggleClicked: boolean = false;\n\n  // TODO: Generic Directive to handle this\n  /**\n   * Called on mouse clicks anywhere in the DOM.\n   * Checks to see if the mouseclick happened on the host or outside\n   */\n  @HostListener('document:click', ['$event.target'])\n  onMouseClick(target: any): void {\n    if (this.openMenu && !this._overflowMenuToggleClicked) {\n      // Reset the overflow menu toggle clicked flag\n      this._overflowMenuToggleClicked = false;\n      let current: any = target; // Get the element in the DOM on which the mouse was clicked\n      const host: any = this.elementRef.nativeElement; // Current Button Group\n\n      if (current.classList.contains('dropdown-menu')) {\n        current = current.parentNode;\n        while (current) {\n          if (current === document) {\n            this.openMenu = false;\n            return;\n          }\n\n          // If clicked on dropdown menu and menu is in host\n          // do nothing\n          if (current === host) {\n            return;\n          }\n          current = current.parentNode;\n        }\n      }\n      this.openMenu = false;\n    }\n    this._overflowMenuToggleClicked = false; // Reset the overflow menu toggle clicked flag\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonPopoverModule } from '../../popover/common/popover.module';\n\nimport { ClrButton } from './button';\nimport { ClrButtonGroup } from './button-group';\n\nexport const CLR_BUTTON_GROUP_DIRECTIVES: Type<any>[] = [ClrButton, ClrButtonGroup];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrCommonPopoverModule],\n  declarations: [CLR_BUTTON_GROUP_DIRECTIVES],\n  exports: [CLR_BUTTON_GROUP_DIRECTIVES],\n})\nexport class ClrButtonGroupModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { animate, keyframes, style, transition, trigger } from '@angular/animations';\nimport { Component, ElementRef, EventEmitter, Input, Output, Renderer2 } from '@angular/core';\nimport { ClrLoadingState } from '../../utils/loading/loading';\nimport { LoadingListener } from '../../utils/loading/loading-listener';\n\n@Component({\n  selector: 'button[clrLoading]',\n  template: `\n        <ng-container [ngSwitch]=\"state\">\n            <span *ngSwitchCase=\"buttonState.LOADING\">\n                <span @spinner class=\"spinner spinner-inline\"></span>\n            </span>\n            <span *ngSwitchCase=\"buttonState.SUCCESS\">\n                <span @validated (@validated.done)=\"this.loadingStateChange(this.buttonState.DEFAULT)\" class=\"spinner spinner-inline spinner-check\"></span>\n            </span>\n            <span *ngSwitchCase=\"buttonState.DEFAULT\" @defaultButton>\n                <ng-content></ng-content>\n            </span>\n        </ng-container>\n    `,\n  providers: [{ provide: LoadingListener, useExisting: ClrLoadingButton }],\n  animations: [\n    trigger('defaultButton', [\n      transition(':enter', [style({ opacity: 0 }), animate('200ms 100ms ease-in', style({ opacity: 1 }))]),\n      // TODO: see if we can get leave animation to work before spinner's enter animation\n      transition(':leave', [style({ opacity: 0 })]),\n    ]),\n    trigger('spinner', [\n      transition(':enter', [style({ opacity: 0 }), animate('200ms 100ms ease-in', style({ opacity: 1 }))]),\n      transition(':leave', [style({ opacity: 1 }), animate('100ms ease-out', style({ opacity: 0 }))]),\n    ]),\n    trigger('validated', [\n      transition(':enter', [\n        animate(\n          '600ms',\n          keyframes([\n            style({ transform: 'scale(0,0)', offset: 0 }),\n            style({ opacity: 1, offset: 0.2 }),\n            style({ transform: 'scale(1.2,1.2)', offset: 0.4 }),\n            style({ transform: 'scale(.9,.9)', offset: 0.6 }),\n            style({ transform: 'scale(1,1)', offset: 1 }),\n          ])\n        ),\n      ]),\n      transition(':leave', [style({ opacity: 1 }), animate('100ms ease-out', style({ opacity: 0 }))]),\n    ]),\n  ],\n  host: { '[attr.disabled]': \"disabled? '' : null\" },\n})\nexport class ClrLoadingButton implements LoadingListener {\n  public buttonState = ClrLoadingState;\n  public state: ClrLoadingState = ClrLoadingState.DEFAULT;\n\n  @Input('disabled') public disabled: boolean;\n\n  @Output('clrLoadingChange')\n  public clrLoadingChange: EventEmitter<ClrLoadingState> = new EventEmitter<ClrLoadingState>(false);\n\n  constructor(public el: ElementRef, private renderer: Renderer2) {}\n\n  loadingStateChange(state: ClrLoadingState): void {\n    if (state === this.state) {\n      return;\n    }\n    this.state = state;\n\n    switch (state) {\n      case ClrLoadingState.DEFAULT:\n        this.renderer.removeStyle(this.el.nativeElement, 'width');\n        this.renderer.removeStyle(this.el.nativeElement, 'transform'); // for chromium render bug see issue https://github.com/vmware/clarity/issues/2700\n        if (!this.disabled) {\n          this.renderer.removeAttribute(this.el.nativeElement, 'disabled');\n        }\n        break;\n      case ClrLoadingState.LOADING:\n        this.setExplicitButtonWidth();\n        this.renderer.setStyle(this.el.nativeElement, 'transform', 'translatez(0)'); // for chromium render bug see issue https://github.com/vmware/clarity/issues/2700\n        this.renderer.setAttribute(this.el.nativeElement, 'disabled', '');\n        break;\n      case ClrLoadingState.SUCCESS:\n        this.setExplicitButtonWidth();\n        break;\n      case ClrLoadingState.ERROR:\n        this.loadingStateChange(ClrLoadingState.DEFAULT);\n        break;\n      default:\n        break;\n    }\n    this.clrLoadingChange.emit(state);\n  }\n\n  private setExplicitButtonWidth() {\n    if (this.el.nativeElement && this.el.nativeElement.getBoundingClientRect) {\n      const boundingClientRect = this.el.nativeElement.getBoundingClientRect();\n      this.renderer.setStyle(this.el.nativeElement, 'width', `${boundingClientRect.width}px`);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrLoadingButton } from './loading-button';\n\nexport const CLR_LOADING_BUTTON_DIRECTIVES: Type<any>[] = [ClrLoadingButton];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [CLR_LOADING_BUTTON_DIRECTIVES],\n  exports: [CLR_LOADING_BUTTON_DIRECTIVES],\n})\nexport class ClrLoadingButtonModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { NgModule } from '@angular/core';\n\nimport { ClrButtonGroupModule } from './button-group/button-group.module';\nimport { ClrLoadingButtonModule } from './button-loading/loading-button.module';\n\n@NgModule({\n  exports: [ClrLoadingButtonModule, ClrButtonGroupModule],\n})\nexport class ClrButtonModule {}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n  template: '',\n})\nexport class EmptyAnchor {}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { NgModule } from '@angular/core';\n\nimport { EmptyAnchor } from './empty-anchor';\n\n/**\n * Internal module, please do not export!\n */\n@NgModule({ declarations: [EmptyAnchor], exports: [EmptyAnchor], entryComponents: [EmptyAnchor] })\nexport class ClrHostWrappingModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { Observable } from 'rxjs';\n\nlet counter = 0;\n\n@Injectable()\nexport class ControlIdService {\n  private _id = 'clr-form-control-' + ++counter;\n  get id(): string {\n    return this._id;\n  }\n  set id(value: string) {\n    this._id = value;\n    this._idChange.next(value);\n  }\n\n  private _idChange: BehaviorSubject<string> = new BehaviorSubject(this._id);\n  public get idChange(): Observable<string> {\n    return this._idChange.asObservable();\n  }\n}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Optional, HostBinding, Input } from '@angular/core';\nimport { ControlIdService } from './providers/control-id.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'clr-control-error',\n  template: `\n    <ng-content></ng-content>\n    `,\n  host: {\n    '[class.clr-subtext]': 'true',\n    '[attr.aria-live]': '\"polite\"',\n  },\n})\nexport class ClrControlError {\n  @Input('aria-describedby')\n  @HostBinding('attr.aria-describedby')\n  describedByAttr: string = null;\n\n  private subscriptions: Subscription[] = [];\n\n  constructor(@Optional() private controlIdService: ControlIdService) {}\n\n  ngOnInit() {\n    if (this.controlIdService && !this.describedByAttr) {\n      this.subscriptions.push(this.controlIdService.idChange.subscribe(id => (this.describedByAttr = id)));\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-control-helper',\n  template: `\n    <ng-content></ng-content>\n    `,\n  host: { '[class.clr-subtext]': 'true' },\n})\nexport class ClrControlHelper {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class NgControlService {\n  // Observable to subscribe to the control, since its not available immediately for projected content\n  private _controlChanges: Subject<NgControl> = new Subject<NgControl>();\n  get controlChanges(): Observable<NgControl> {\n    return this._controlChanges.asObservable();\n  }\n\n  setControl(control: NgControl) {\n    this._controlChanges.next(control);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, OnDestroy } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { Observable, Subject, Subscription } from 'rxjs';\n\nimport { NgControlService } from '../providers/ng-control.service';\n\n@Injectable()\nexport class IfErrorService implements OnDestroy {\n  // Implement our own status changes observable, since Angular controls don't\n  // fire on events like blur, and we want to return the boolean state instead of a string\n  private _statusChanges: Subject<boolean> = new Subject();\n  get statusChanges(): Observable<boolean> {\n    return this._statusChanges.asObservable();\n  }\n\n  private subscriptions: Subscription[] = [];\n  private control: NgControl;\n\n  constructor(private ngControlService: NgControlService) {\n    // Wait for the control to be available\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        if (control) {\n          this.control = control;\n          this.listenForChanges();\n        }\n      })\n    );\n  }\n\n  // Subscribe to the status change events, only after touched and emit the control\n  private listenForChanges() {\n    this.subscriptions.push(\n      this.control.statusChanges.subscribe(() => {\n        this.sendValidity();\n      })\n    );\n  }\n\n  private sendValidity() {\n    if (this.control.touched && this.control.invalid) {\n      this._statusChanges.next(true);\n    } else {\n      this._statusChanges.next(false);\n    }\n  }\n\n  // Allows a control to push a status check upstream, such as on blur\n  triggerStatusChange() {\n    if (this.control) {\n      this.sendValidity();\n    }\n  }\n\n  // Clean up subscriptions\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, Input, Optional, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfErrorService } from './if-error.service';\nimport { NgControlService } from '../providers/ng-control.service';\nimport { NgControl } from '@angular/forms';\n\n@Directive({ selector: '[clrIfError]' })\nexport class ClrIfError {\n  constructor(\n    @Optional() private ifErrorService: IfErrorService,\n    @Optional() private ngControlService: NgControlService,\n    private template: TemplateRef<any>,\n    private container: ViewContainerRef\n  ) {\n    if (!this.ifErrorService) {\n      throw new Error('clrIfError can only be used within a form control container element like clr-input-container');\n    } else {\n      this.displayError(false);\n    }\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        this.control = control;\n      })\n    );\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        // If there is a specific error to track, check it, otherwise check overall validity\n        if (this.error && this.control) {\n          this.displayError(this.control.hasError(this.error));\n        } else {\n          this.displayError(invalid);\n        }\n      })\n    );\n  }\n\n  @Input('clrIfError') error: string;\n\n  private subscriptions: Subscription[] = [];\n  private displayed: boolean = false;\n  private control: NgControl;\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  private displayError(invalid: boolean) {\n    if (invalid && !this.displayed) {\n      this.container.createEmbeddedView(this.template);\n      this.displayed = true;\n    } else if (!invalid) {\n      this.container.clear();\n      this.displayed = false;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\nexport enum Layouts {\n  VERTICAL = 'vertical',\n  HORIZONTAL = 'horizontal',\n  COMPACT = 'compact',\n}\n\n@Injectable()\nexport class LayoutService {\n  layout: Layouts = Layouts.HORIZONTAL;\n  // This is basically a replacement for Object.values(), which IE11 and Node <9 don't support :(\n  // String enums cannot be reverse-mapped, meaning Layouts['COMPACT'] does not return 'compact' so\n  // this exists to deal with this little caveat to get the list of the values as an array.\n  private layoutValues: string[] = Object.keys(Layouts).map(key => Layouts[key]);\n\n  isVertical(): boolean {\n    return this.layout === Layouts.VERTICAL;\n  }\n\n  isHorizontal(): boolean {\n    return this.layout === Layouts.HORIZONTAL;\n  }\n\n  isCompact(): boolean {\n    return this.layout === Layouts.COMPACT;\n  }\n\n  get layoutClass(): string {\n    return `clr-form-${this.layout}`;\n  }\n\n  isValid(layout: string): boolean {\n    return this.layoutValues.indexOf(layout) > -1;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, HostBinding, Input, OnDestroy, OnInit, Optional, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ControlIdService } from './providers/control-id.service';\nimport { LayoutService } from './providers/layout.service';\nimport { NgControlService } from './providers/ng-control.service';\n\n@Directive({ selector: 'label' })\nexport class ClrLabel implements OnInit, OnDestroy {\n  constructor(\n    @Optional() private controlIdService: ControlIdService,\n    @Optional() private layoutService: LayoutService,\n    @Optional() private ngControlService: NgControlService,\n    private renderer: Renderer2,\n    private el: ElementRef\n  ) {}\n\n  @HostBinding('attr.for')\n  @Input('for')\n  forAttr: string;\n\n  private subscriptions: Subscription[] = [];\n  private enableGrid = true;\n\n  ngOnInit() {\n    // Only add the clr-control-label if it is inside a control container\n    if (this.controlIdService || this.ngControlService) {\n      this.renderer.addClass(this.el.nativeElement, 'clr-control-label');\n    }\n    // Only set the grid column classes if we are in the right context and if they aren't already set\n    if (\n      this.enableGrid &&\n      this.layoutService &&\n      !this.layoutService.isVertical() &&\n      this.el.nativeElement &&\n      this.el.nativeElement.className.indexOf('clr-col') < 0\n    ) {\n      this.renderer.addClass(this.el.nativeElement, 'clr-col-12');\n      this.renderer.addClass(this.el.nativeElement, 'clr-col-md-2');\n    }\n    if (this.controlIdService && !this.forAttr) {\n      this.subscriptions.push(this.controlIdService.idChange.subscribe(id => (this.forAttr = id)));\n    }\n  }\n\n  disableGrid() {\n    this.enableGrid = false;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\n\n@Injectable()\nexport class MarkControlService {\n  private _touched: Subject<void> = new Subject();\n\n  get touchedChange(): Observable<void> {\n    return this._touched.asObservable();\n  }\n\n  markAsTouched() {\n    this._touched.next();\n  }\n}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive } from '@angular/core';\nimport { LayoutService } from './providers/layout.service';\nimport { MarkControlService } from './providers/mark-control.service';\n\n@Directive({\n  selector: '[clrForm]',\n  providers: [LayoutService, MarkControlService],\n  host: {\n    '[class.clr-form]': 'true',\n    '[class.clr-form-horizontal]': 'layoutService.isHorizontal()',\n    '[class.clr-form-compact]': 'layoutService.isCompact()',\n  },\n})\nexport class ClrForm {\n  constructor(public layoutService: LayoutService, private markControlService: MarkControlService) {}\n\n  /** @deprecated since 2.0 */\n  markAsDirty() {\n    this.markAsTouched();\n  }\n\n  markAsTouched() {\n    this.markControlService.markAsTouched();\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, Input, OnInit } from '@angular/core';\nimport { Layouts, LayoutService } from './providers/layout.service';\n\n@Directive({\n  selector: '[clrForm][clrLayout]',\n})\nexport class ClrLayout implements OnInit {\n  @Input('clrLayout') layout: Layouts;\n\n  constructor(public layoutService: LayoutService) {}\n\n  ngOnInit() {\n    // Only set the layout if it is a valid option\n    if (this.layout && this.layoutService.isValid(this.layout)) {\n      this.layoutService.layout = this.layout;\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ClrControlError } from './error';\nimport { ClrControlHelper } from './helper';\nimport { ClrIfError } from './if-error/if-error';\nimport { ClrLabel } from './label';\nimport { ClrForm } from './form';\nimport { ClrLayout } from './layout';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [ClrLabel, ClrControlError, ClrControlHelper, ClrIfError, ClrForm, ClrLayout],\n  exports: [ClrLabel, ClrControlError, ClrControlHelper, ClrIfError, ClrForm, ClrLayout],\n})\nexport class ClrCommonFormsModule {}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, OnInit, ContentChild, Inject, InjectionToken, OnDestroy } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ClrLabel } from '../common/label';\n\nexport const IS_TOGGLE = new InjectionToken<BehaviorSubject<boolean>>('IS_TOGGLE');\nexport function isToggleFactory() {\n  return new BehaviorSubject<boolean>(false);\n}\nexport const IS_TOGGLE_PROVIDER = { provide: IS_TOGGLE, useFactory: isToggleFactory };\n\n@Component({\n  selector: 'clr-checkbox-wrapper,clr-toggle-wrapper',\n  template: `\n    <ng-content select=\"[clrCheckbox],[clrToggle]\"></ng-content>\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label\"></label>\n  `,\n  host: {\n    '[class.clr-checkbox-wrapper]': '!toggle',\n    '[class.clr-toggle-wrapper]': 'toggle',\n  },\n  providers: [ControlIdService, IS_TOGGLE_PROVIDER],\n})\nexport class ClrCheckboxWrapper implements DynamicWrapper, OnInit, OnDestroy {\n  // We need both _dynamic for HostWrapper and ContentChild(ClrLabel) in cases where\n  // the user puts a radio inside a wrapper without a label, host wrapping doesn't apply\n  // but we'd still need to insert a label\n  _dynamic = false;\n  @ContentChild(ClrLabel, { static: true })\n  label: ClrLabel;\n  toggle = false;\n  private subscriptions: Subscription[] = [];\n\n  constructor(@Inject(IS_TOGGLE) toggleService: BehaviorSubject<boolean>) {\n    this.subscriptions.push(\n      toggleService.subscribe(state => {\n        this.toggle = state;\n      })\n    );\n  }\n\n  ngOnInit() {\n    if (this.label) {\n      this.label.disableGrid();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  ComponentFactory,\n  ComponentFactoryResolver,\n  ElementRef,\n  InjectionToken,\n  Injector,\n  Type,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport { DynamicWrapper } from './dynamic-wrapper';\nimport { EmptyAnchor } from './empty-anchor';\n\n/**\n * HostWrapper must be called in OnInit to ensure that the Views are ready. If its called in a constructor the view is\n * still undefined.\n * TODO - make sure these comment annotations do not break ng-packgr.\n */\nexport class HostWrapper<W extends DynamicWrapper> implements Injector {\n  constructor(containerType: Type<W>, vcr: ViewContainerRef, index: number = 0) {\n    this.injector = vcr.injector;\n    // If the host is already wrapped, we don't do anything\n    if (!this.injector.get(containerType, null)) {\n      const cfr = this.injector.get(ComponentFactoryResolver);\n      const el = this.injector.get(ElementRef);\n\n      // We need a new anchor, since we're projecting the current one.\n      vcr.createComponent(cfr.resolveComponentFactory(EmptyAnchor));\n      const factory: ComponentFactory<W> = cfr.resolveComponentFactory(containerType);\n      // Craft the element array based on what slot to use. Angular only uses the index to determine\n      // which ng-content to project into, so if you have more than one ng-content you'll need to set\n      // the index in the constructor appropriately\n      const element = [];\n      element[index] = [el.nativeElement];\n      // We're assuming only one projection slot, but in more complex cases we might want to provide\n      // a different array of projected elements.\n      const containerRef = vcr.createComponent(factory, undefined, undefined, element);\n      // We can now remove the useless anchor\n      vcr.remove(0);\n\n      // We note that the container was dynamically created\n      containerRef.instance._dynamic = true;\n\n      // We keep the wrapper's injector to access the dependencies that weren't available before.\n      this.injector = containerRef.injector;\n    }\n  }\n\n  private injector: Injector;\n\n  get<T>(token: Type<T> | InjectionToken<T>, notFoundValue?: T): T {\n    return this.injector.get(token, notFoundValue);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class ControlClassService {\n  className = '';\n\n  controlClass(invalid = false, grid = false, additional = '') {\n    const controlClasses = [this.className, additional];\n    if (invalid) {\n      controlClasses.push('clr-error');\n    }\n    if (grid && this.className.indexOf('clr-col') === -1) {\n      controlClasses.push('clr-col-md-10 clr-col-12');\n    }\n    return controlClasses.join(' ').trim();\n  }\n\n  // We want to remove the column classes from the input up to the container\n  initControlClass(renderer, element: HTMLElement) {\n    if (element && element.className) {\n      this.className = element.className;\n      const klasses = element.className.split(' ');\n      klasses.forEach(klass => {\n        if (klass.startsWith('clr-col')) {\n          renderer.removeClass(element, klass);\n        }\n      });\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  HostBinding,\n  InjectionToken,\n  HostListener,\n  Injector,\n  Input,\n  OnInit,\n  Type,\n  ViewContainerRef,\n  Renderer2,\n  ElementRef,\n  OnDestroy,\n} from '@angular/core';\n\nimport { HostWrapper } from '../../utils/host-wrapping/host-wrapper';\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\n\nimport { ControlIdService } from './providers/control-id.service';\nimport { NgControlService } from './providers/ng-control.service';\nimport { IfErrorService } from './if-error/if-error.service';\nimport { NgControl } from '@angular/forms';\nimport { ControlClassService } from './providers/control-class.service';\nimport { MarkControlService } from './providers/mark-control.service';\nimport { Subscription } from 'rxjs';\n\nexport class WrappedFormControl<W extends DynamicWrapper> implements OnInit, OnDestroy {\n  private ngControlService: NgControlService;\n  private ifErrorService: IfErrorService;\n  private controlClassService: ControlClassService;\n  private markControlService: MarkControlService;\n\n  protected subscriptions: Subscription[] = [];\n  protected index = 0;\n  protected controlIdService: ControlIdService;\n\n  _id: string;\n\n  // I lost way too much time trying to make this work without injecting the ViewContainerRef and the Injector,\n  // I'm giving up. So we have to inject these two manually for now.\n  constructor(\n    protected vcr: ViewContainerRef,\n    protected wrapperType: Type<W>,\n    injector: Injector,\n    private ngControl: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    try {\n      this.ngControlService = injector.get(NgControlService);\n      this.ifErrorService = injector.get(IfErrorService);\n      this.controlClassService = injector.get(ControlClassService);\n      this.markControlService = injector.get(MarkControlService);\n    } catch (e) {}\n\n    if (this.controlClassService) {\n      this.controlClassService.initControlClass(renderer, el.nativeElement);\n    }\n    if (this.markControlService) {\n      this.subscriptions.push(\n        this.markControlService.touchedChange.subscribe(() => {\n          this.ngControl.control.markAsTouched();\n          this.ngControl.control.updateValueAndValidity();\n        })\n      );\n    }\n  }\n\n  @HostBinding()\n  @Input()\n  get id() {\n    return this._id;\n  }\n  set id(value: string) {\n    this._id = value;\n    if (this.controlIdService) {\n      this.controlIdService.id = value;\n    }\n  }\n\n  @HostListener('blur')\n  triggerValidation() {\n    if (this.ifErrorService) {\n      this.ifErrorService.triggerStatusChange();\n    }\n  }\n\n  private _containerInjector: Injector;\n\n  // @TODO This method has a try/catch due to an unknown issue that came when building the clrToggle feature\n  // We need to figure out why this fails for the ClrToggle scenario but works for Date picker...\n  // To see the error, remove the try/catch here and run the ClrToggle suite to see issues getting the container\n  // injector in time, and this ONLY HAPPENS in tests and not in dev/prod mode.\n  protected getProviderFromContainer<T>(token: Type<T> | InjectionToken<T>, notFoundValue?: T): T {\n    try {\n      return this._containerInjector.get(token, notFoundValue);\n    } catch (e) {\n      return notFoundValue;\n    }\n  }\n\n  ngOnInit() {\n    this._containerInjector = new HostWrapper(this.wrapperType, this.vcr, this.index);\n    this.controlIdService = this._containerInjector.get(ControlIdService);\n    if (this._id) {\n      this.controlIdService.id = this._id;\n    } else {\n      this._id = this.controlIdService.id;\n    }\n\n    if (this.ngControlService) {\n      this.ngControlService.setControl(this.ngControl);\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, Renderer2, ElementRef, Injector, Self, Optional, ViewContainerRef, Attribute } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { ClrCheckboxWrapper, IS_TOGGLE } from './checkbox-wrapper';\nimport { WrappedFormControl } from '../common/wrapped-control';\n\n/**\n * This implements both the clrCheckbox and clrToggle functionality, since they are both just checkboxes with different\n * visual styling. The challenge is that the container needs to know which selector was used, which the @Attribute\n * decorator gets for us to determine if the toggle is used, and emits a value to the wrapper container to tell it\n * there is a toggle switch instead.\n */\n@Directive({ selector: '[clrCheckbox],[clrToggle]' })\nexport class ClrCheckbox extends WrappedFormControl<ClrCheckboxWrapper> {\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef,\n    @Attribute('clrToggle') private toggle: string\n  ) {\n    super(vcr, ClrCheckboxWrapper, injector, control, renderer, el);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    const toggleService = this.getProviderFromContainer<BehaviorSubject<boolean>>(IS_TOGGLE, null);\n\n    if (toggleService && this.toggle !== null) {\n      toggleService.next(true);\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, Input, OnDestroy, Optional } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { NgControl } from '@angular/forms';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { ClrLabel } from '../common/label';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\n\n@Component({\n  selector: 'clr-checkbox-container,clr-toggle-container',\n  template: `\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label && addGrid()\"></label>\n    <div class=\"clr-control-container\" [class.clr-control-inline]=\"clrInline\" [ngClass]=\"controlClass()\">\n      <ng-content select=\"clr-checkbox-wrapper,clr-toggle-wrapper\"></ng-content>\n      <div class=\"clr-subtext-wrapper\">\n        <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n        <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n        <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n      </div>\n    </div>\n  `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [NgControlService, ControlClassService, IfErrorService],\n})\nexport class ClrCheckboxContainer implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n  invalid = false;\n  @ContentChild(ClrLabel, { static: false })\n  label: ClrLabel;\n  private inline = false;\n  control: NgControl;\n  // private formGroup: AbstractControl;\n\n  /*\n   * Here we want to support the following cases\n   * clrInline - true by presence\n   * clrInline=\"true|false\" - unless it is explicitly false, strings are considered true\n   * [clrInline]=\"true|false\" - expect a boolean\n   */\n  @Input()\n  set clrInline(value: boolean | string) {\n    if (typeof value === 'string') {\n      this.inline = value === 'false' ? false : true;\n    } else {\n      this.inline = !!value;\n    }\n  }\n  get clrInline() {\n    return this.inline;\n  }\n\n  // @TODO Solve for group validation, which doesn't work now with ngModelGroup\n  // Blocked by https://github.com/angular/angular/issues/20268\n  // @Input()\n  // set clrFormGroup(value: FormGroup) {\n  //   this.formGroup = value;\n  // }\n\n  // @Input()\n  // set clrFormArray(value: FormArray) {\n  //   this.formGroup = value;\n  // }\n\n  constructor(\n    private ifErrorService: IfErrorService,\n    @Optional() private layoutService: LayoutService,\n    private controlClassService: ControlClassService,\n    private ngControlService: NgControlService\n  ) {\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        this.control = control;\n      })\n    );\n  }\n\n  ngOnInit() {\n    // @TODO put a solution in for form group validation\n    // if (!this.formGroup) {\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        this.invalid = invalid;\n      })\n    );\n    // } else {\n    //   // Because ngModel does this, we have to delay a tick to get the result\n    //   Promise.resolve().then(() => {\n    //     this.subscriptions.push(\n    //       this.formGroup.statusChanges.subscribe(() => {\n    //         this.invalid = this.formGroup.invalid;\n    //       })\n    //     );\n    //   });\n    // }\n  }\n\n  controlClass() {\n    return this.controlClassService.controlClass(this.invalid, this.addGrid(), this.inline ? 'clr-control-inline' : '');\n  }\n\n  addGrid() {\n    if (this.layoutService && !this.layoutService.isVertical()) {\n      return true;\n    }\n    return false;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.map(sub => sub.unsubscribe());\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ClrIconModule } from '../../icon/icon.module';\n\nimport { ClrHostWrappingModule } from '../../utils/host-wrapping/host-wrapping.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrCheckbox } from './checkbox';\nimport { ClrCheckboxContainer } from './checkbox-container';\nimport { ClrCheckboxWrapper } from './checkbox-wrapper';\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrCommonFormsModule, ClrHostWrappingModule],\n  declarations: [ClrCheckbox, ClrCheckboxContainer, ClrCheckboxWrapper],\n  exports: [ClrCommonFormsModule, ClrCheckbox, ClrCheckboxContainer, ClrCheckboxWrapper],\n  entryComponents: [ClrCheckboxWrapper],\n})\nexport class ClrCheckboxModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, InjectionToken } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nlet activeCounter = 0;\n\nexport const IF_ACTIVE_ID = new InjectionToken<number>('IF_ACTIVE_ID');\n\nexport function tokenFactory() {\n  return ++activeCounter;\n}\n\nexport const IF_ACTIVE_ID_PROVIDER = {\n  provide: IF_ACTIVE_ID,\n  useFactory: tokenFactory,\n};\n\n@Injectable()\n\n/*********\n * @class IfActiveService\n *\n * @description\n * An injectable service used by IfActive structural directives and the components that implement IfActive in their\n * templates. It holds the value of the current state and provides an Observable that both the directive and the\n * implementing component can subscribe to in order to take action on current value changes.\n *\n */\nexport class IfActiveService {\n  /********\n   * @property _currentChange\n   *\n   * @description\n   * A RXJS Subject that updates and provides subscriptions to for the current current state of a component template\n   * implemting the IfActive structural directive.\n   *\n   */\n  private _currentChange: Subject<number> = new Subject<number>();\n\n  /*********\n   * @property _current\n   *\n   * @description\n   * A property holding the current value for current/closed state of an IfActive structural directive.\n   */\n  private _current: number;\n\n  /*********\n   *\n   * @description\n   * A getter function that provides an observable for the _current Subject.\n   *\n   */\n  public get currentChange(): Observable<number> {\n    return this._currentChange.asObservable();\n  }\n\n  /*********\n   *\n   * @description\n   * A setter function that updates the current state of _current for this instance of IfActive structural directive.\n   * And, broadcasts the new value to all subscribers.\n   *\n   * @param value\n   */\n  public set current(value: number) {\n    if (this._current !== value) {\n      this._current = value;\n      this._currentChange.next(value);\n    }\n  }\n\n  /*********\n   *\n   * @description\n   * A getter that returns the current value of this IfActive instance.\n   * @returns\n   */\n  public get current(): number {\n    return this._current;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Directive,\n  EventEmitter,\n  Inject,\n  Input,\n  OnDestroy,\n  Output,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IF_ACTIVE_ID, IfActiveService } from './if-active.service';\n\n@Directive({ selector: '[clrIfActive]' })\n\n/**********\n *\n * @class ClrIfActive\n *\n * @description\n * A structural directive that controls whether or not the associated TemplateRef is instantiated or not.\n * It makes use of a Component instance level service: IfActiveService to maintain state between itself and\n * the component using it in the component template.\n *\n */\nexport class ClrIfActive implements OnDestroy {\n  private subscription: Subscription;\n  private wasActive: boolean = false;\n\n  constructor(\n    private ifActiveService: IfActiveService,\n    @Inject(IF_ACTIVE_ID) private id: number,\n    private template: TemplateRef<any>,\n    private container: ViewContainerRef\n  ) {\n    this.checkAndUpdateView(ifActiveService.current);\n\n    this.subscription = this.ifActiveService.currentChange.subscribe(newCurrentId => {\n      this.checkAndUpdateView(newCurrentId);\n    });\n  }\n\n  private checkAndUpdateView(currentId: number) {\n    const isNowActive = currentId === this.id;\n    // only emit if the new active state is changed since last time.\n    if (isNowActive !== this.wasActive) {\n      this.updateView(isNowActive);\n      this.activeChange.emit(isNowActive);\n      this.wasActive = isNowActive;\n    }\n  }\n\n  /*********\n   *\n   * @description\n   * A setter that updates IfActiveService.active with value.\n   *\n   * @param value\n   */\n  @Input('clrIfActive')\n  public set active(value: boolean) {\n    if (value) {\n      this.ifActiveService.current = this.id;\n    }\n  }\n\n  /**********\n   * @property activeChange\n   *\n   * @description\n   * An event emitter that emits when the active property is set to allow for 2way binding when the directive is\n   * used with de-structured / de-sugared syntax.\n   *\n   */\n  @Output('clrIfActiveChange') activeChange: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  /********\n   *\n   * @description\n   * A getter that returns the current IfActiveService.active value.\n   */\n  public get active() {\n    return this.ifActiveService.current === this.id;\n  }\n\n  /*********\n   *\n   * @description\n   * Function that takes a any value and either created an embedded view for the associated ViewContainerRef or,\n   * Clears all views from the ViewContainerRef\n   * @param value\n   */\n  public updateView(value: boolean) {\n    if (value) {\n      this.container.createEmbeddedView(this.template);\n    } else {\n      this.container.clear();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ElementRef, Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable()\n\n/*********\n * @class IfOpenService\n *\n * @description\n * An injectable service used by IfOpen structural directives and the components that implemnt IfOpen in their\n * templates. It holds the value of the open state and provides an Observable that both the directive and the\n * implementing component can subscribe to in order to take action on open value changes.\n *\n */\nexport class IfOpenService {\n  /********\n   * @property _openChange\n   *\n   * @description\n   * A RXJS Subject that updates and provides subscriptions to for the current open state of a component template\n   * implemting the IfOpen structural directive.\n   */\n  private _openChange: Subject<boolean> = new Subject<boolean>();\n\n  /*********\n   * @property _open\n   *\n   * @description\n   * A property holding the current value for open/closed state of an IfOpen structural directive.\n   *\n   */\n  private _open: boolean;\n\n  /*********\n   *\n   * @description\n   * A getter function that provides an observable for the _opened Subject.\n   *\n   */\n  public get openChange(): Observable<boolean> {\n    return this._openChange.asObservable();\n  }\n\n  /*********\n   *\n   * @description\n   * A setter function that updates the current state of _open for this instance of IfOpen structural directive. And,\n   * broadcasts the new value to all subscribers.\n   *\n   * @param value\n   */\n  public set open(value: boolean) {\n    value = !!value;\n    if (this._open !== value) {\n      this._open = value;\n      this._openChange.next(value);\n    }\n  }\n\n  /*********\n   *\n   * @description\n   * A getter that returns the current value of this IfOpen instance.\n   *\n   */\n  public get open(): boolean {\n    return this._open;\n  }\n\n  /**\n   * Sometimes, we need to remember the event that triggered the toggling to avoid loops.\n   * This is for instance the case of components that open on a click, but close on a click outside.\n   */\n  public originalEvent: any;\n  public toggleWithEvent(event: any) {\n    this.originalEvent = event;\n    this.open = !this.open;\n    delete this.originalEvent;\n  }\n\n  /**\n   *  Popovers might need to ignore click events on an element\n   *  (eg: popover opens on focus on an input field. Clicks should be ignored in this case)\n   */\n  private _ignoredElementChange: Subject<ElementRef> = new Subject<ElementRef>();\n\n  get ignoredElementChange(): Observable<ElementRef> {\n    return this._ignoredElementChange.asObservable();\n  }\n\n  registerIgnoredElement(element: ElementRef) {\n    this._ignoredElementChange.next(element);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, EventEmitter, Input, OnDestroy, Output, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfOpenService } from './if-open.service';\n\n@Directive({ selector: '[clrIfOpen]' })\n\n/**********\n *\n * @class ClrIfOpen\n *\n * @description\n * A structural directive that controls whether or not the associated TemplateRef is instantiated or not.\n * It makes use of a Component instance level service: IfOpenService to maintain state between itself and the component\n * using it in the component template.\n *\n */\nexport class ClrIfOpen implements OnDestroy {\n  private subscription: Subscription;\n\n  /*********\n   *\n   * @description\n   * A setter that updates IfOpenService.open with value.\n   *\n   * @param value\n   */\n  @Input('clrIfOpen')\n  public set open(value: boolean) {\n    this.ifOpenService.open = value;\n  }\n\n  /**********\n   * @property openChange\n   *\n   * @description\n   * An event emitter that emits when the open property is set to allow for 2way binding when the directive is\n   * used with de-structured / de-sugared syntax.\n   */\n  @Output('clrIfOpenChange') openChange: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  /********\n   *\n   * @description\n   * A getter that returns the current IfOpenService.open value.\n   *\n   */\n  public get open() {\n    return this.ifOpenService.open;\n  }\n\n  constructor(\n    private ifOpenService: IfOpenService,\n    private template: TemplateRef<any>,\n    private container: ViewContainerRef\n  ) {\n    this.subscription = this.ifOpenService.openChange.subscribe(change => {\n      this.updateView(change);\n      this.openChange.emit(change);\n    });\n  }\n\n  /*********\n   *\n   * @description\n   * Function that takes a boolean value and either created an embedded view for the associated ViewContainerRef or,\n   * Clears all views from the ViewContainerRef\n   * @param value\n   */\n  public updateView(value: boolean) {\n    if (value) {\n      this.container.createEmbeddedView(this.template);\n    } else {\n      this.container.clear();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nimport { LoadingListener } from '../loading/loading-listener';\nimport { ClrLoadingState } from '../loading/loading';\n\n@Injectable()\nexport class IfExpandService implements LoadingListener {\n  public expandable: number = 0;\n\n  protected _loading: boolean = false;\n  get loading(): boolean {\n    return this._loading;\n  }\n\n  set loading(value: boolean) {\n    value = !!value;\n    if (value !== this._loading) {\n      this._loading = value;\n    }\n  }\n\n  protected _expanded: boolean = false;\n  get expanded(): boolean {\n    return this._expanded;\n  }\n\n  set expanded(value: boolean) {\n    value = !!value;\n    if (value !== this._expanded) {\n      this._expanded = value;\n      this._expandChange.next(value);\n    }\n  }\n\n  public toggle() {\n    this.expanded = !this._expanded;\n  }\n\n  protected _expandChange: Subject<boolean> = new Subject<boolean>();\n  public get expandChange(): Observable<boolean> {\n    return this._expandChange.asObservable();\n  }\n\n  loadingStateChange(state: ClrLoadingState): void {\n    switch (state) {\n      case ClrLoadingState.LOADING:\n        this.loading = true;\n        break;\n      default:\n        this.loading = false;\n        break;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  Renderer2,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfExpandService } from './if-expanded.service';\n\n@Directive({ selector: '[clrIfExpanded]' })\nexport class ClrIfExpanded implements OnInit, OnDestroy {\n  private _expanded: boolean = false;\n\n  get expanded(): boolean {\n    return this._expanded;\n  }\n\n  @Input('clrIfExpanded')\n  set expanded(value: boolean) {\n    if (typeof value === 'boolean') {\n      this.expand.expanded = value;\n      this._expanded = value;\n    }\n  }\n\n  @Output('clrIfExpandedChange') expandedChange: EventEmitter<boolean> = new EventEmitter<boolean>(true);\n\n  constructor(\n    @Optional() private template: TemplateRef<any>,\n    private container: ViewContainerRef,\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private expand: IfExpandService\n  ) {\n    expand.expandable++;\n    this._subscriptions.push(\n      expand.expandChange.subscribe(() => {\n        this.updateView();\n        this.expandedChange.emit(this.expand.expanded);\n      })\n    );\n  }\n\n  /**\n   * Subscriptions to all the services and queries changes\n   */\n  private _subscriptions: Subscription[] = [];\n\n  private updateView() {\n    if (this.expand.expanded && this.container.length !== 0) {\n      return;\n    }\n    if (this.template) {\n      if (this.expand.expanded) {\n        // Should we pass a context? I don't see anything useful to pass right now,\n        // but we can come back to it in the future as a solution for additional features.\n        this.container.createEmbeddedView(this.template);\n      } else {\n        // TODO: Move when we move the animation logic to Datagrid Row Expand\n        // We clear before the animation is over. Not ideal, but doing better would involve a much heavier\n        // process for very little gain. Once Angular animations are dynamic enough, we should be able to\n        // get the optimal behavior.\n        this.container.clear();\n      }\n    } else {\n      try {\n        // If we don't have a template ref, we fallback to a crude display: none for now.\n        if (this.expand.expanded) {\n          this.renderer.setStyle(this.el.nativeElement, 'display', null);\n        } else {\n          this.renderer.setStyle(this.el.nativeElement, 'display', 'none');\n        }\n      } catch (e) {\n        // We catch the case where clrIfExpanded was put on a non-DOM element, and we just do nothing\n      }\n    }\n  }\n\n  ngOnInit() {\n    this.updateView();\n  }\n\n  ngOnDestroy() {\n    this.expand.expandable--;\n    this._subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Type } from '@angular/core';\nimport { ClrIfActive } from './if-active.directive';\nimport { ClrIfOpen } from './if-open.directive';\nimport { ClrIfExpanded } from './if-expanded.directive';\n\nexport * from './if-active.directive';\nexport * from './if-open.directive';\nexport * from './if-expanded.directive';\n\nexport const CONDITIONAL_DIRECTIVES: Type<any>[] = [ClrIfActive, ClrIfOpen, ClrIfExpanded];\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { CONDITIONAL_DIRECTIVES } from './index';\n\n@NgModule({ imports: [CommonModule], declarations: [CONDITIONAL_DIRECTIVES], exports: [CONDITIONAL_DIRECTIVES] })\nexport class ClrConditionalModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { FocusTrapDirective } from './focus-trap.directive';\n\n@Injectable({ providedIn: 'root' })\nexport class FocusTrapTracker {\n  private _previousFocusTraps: FocusTrapDirective[] = [];\n  private _current: FocusTrapDirective;\n\n  get current(): FocusTrapDirective {\n    return this._current;\n  }\n\n  set current(value: FocusTrapDirective) {\n    this._previousFocusTraps.push(this._current);\n    this._current = value;\n  }\n\n  get nbFocusTrappers(): number {\n    return this._previousFocusTraps.length;\n  }\n\n  activatePreviousTrapper() {\n    this._current = this._previousFocusTraps.pop();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  HostListener,\n  Inject,\n  Injector,\n  OnDestroy,\n  PLATFORM_ID,\n  Renderer2,\n} from '@angular/core';\n\nimport { FocusTrapTracker } from './focus-trap-tracker.service';\n\n@Directive({ selector: '[clrFocusTrap]' })\nexport class FocusTrapDirective implements AfterViewInit, OnDestroy {\n  private previousActiveElement: any;\n  private document: Document;\n\n  private topReboundEl: any;\n  private bottomReboundEl: any;\n\n  constructor(\n    private el: ElementRef,\n    private injector: Injector,\n    private focusTrapsTracker: FocusTrapTracker,\n    private renderer: Renderer2,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    this.document = this.injector.get(DOCUMENT);\n    this.focusTrapsTracker.current = this;\n\n    this.renderer.setAttribute(this.el.nativeElement, 'tabindex', '0');\n  }\n\n  @HostListener('document:focusin', ['$event'])\n  onFocusIn(event: any) {\n    const nativeElement: HTMLElement = this.el.nativeElement;\n\n    if (this.focusTrapsTracker.current === this && event.target && !nativeElement.contains(event.target)) {\n      nativeElement.focus();\n    }\n  }\n\n  private createFocusableOffScreenEl(): any {\n    // Not using Renderer2's createElement method because that leads to DOM leakage.\n    // https://github.com/angular/angular/issues/26954\n    const offScreenSpan = this.document.createElement('span');\n    this.renderer.setAttribute(offScreenSpan, 'tabindex', '0');\n    this.renderer.addClass(offScreenSpan, 'offscreen-focus-rebounder');\n\n    return offScreenSpan;\n  }\n\n  private addReboundEls() {\n    // We will add these focus rebounding elements only in the following conditions:\n    // 1. It should be running inside browser platform as it accesses document.body element\n    // 2. We should NOT add them more than once. Hence, we are counting a number of focus trappers\n    //    and only add on the first focus trapper.\n\n    if (isPlatformBrowser(this.platformId) && this.focusTrapsTracker.nbFocusTrappers === 1) {\n      this.topReboundEl = this.createFocusableOffScreenEl();\n      this.bottomReboundEl = this.createFocusableOffScreenEl();\n      // Add reboundBeforeTrapEl to the document body as the first child\n      this.renderer.insertBefore(this.document.body, this.topReboundEl, this.document.body.firstChild);\n      // Add reboundAfterTrapEl to the document body as the last child\n      this.renderer.appendChild(this.document.body, this.bottomReboundEl);\n    }\n  }\n\n  private removeReboundEls() {\n    if (\n      isPlatformBrowser(this.platformId) &&\n      this.focusTrapsTracker.nbFocusTrappers === 1 &&\n      this.topReboundEl &&\n      this.bottomReboundEl\n    ) {\n      this.renderer.removeChild(this.document.body, this.topReboundEl);\n      this.renderer.removeChild(this.document.body, this.bottomReboundEl);\n\n      // These are here to to make sure that\n      // we completely delete all traces of the removed DOM objects.\n      delete this.topReboundEl;\n      delete this.bottomReboundEl;\n    }\n  }\n\n  public setPreviousFocus(): void {\n    if (this.previousActiveElement && this.previousActiveElement.focus) {\n      this.previousActiveElement.focus();\n    }\n  }\n\n  ngAfterViewInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.previousActiveElement = <HTMLElement>this.document.activeElement;\n    }\n\n    this.addReboundEls();\n  }\n\n  ngOnDestroy() {\n    this.removeReboundEls();\n    this.setPreviousFocus();\n    this.focusTrapsTracker.activatePreviousTrapper();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Type } from '@angular/core';\nimport { FocusTrapDirective } from './focus-trap.directive';\n\nexport const FOCUS_TRAP_DIRECTIVES: Type<any>[] = [FocusTrapDirective];\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { FOCUS_TRAP_DIRECTIVES } from './index';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [FOCUS_TRAP_DIRECTIVES],\n  exports: [FOCUS_TRAP_DIRECTIVES],\n})\nexport class ClrFocusTrapModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/**\n * This is the en-001 short locale date format. Setting as default.\n */\nexport const DEFAULT_LOCALE_FORMAT: string = 'dd/MM/y';\n\n// https://en.wikipedia.org/wiki/Date_format_by_country\nexport const LITTLE_ENDIAN_REGEX: RegExp = /d+.+m+.+y+/i;\nexport const MIDDLE_ENDIAN_REGEX: RegExp = /m+.+d+.+y+/i;\n// No need for BIG_ENDIAN_REGEX because anything that doesn't satisfy the above 2\n// is automatically BIG_ENDIAN\n\nexport const DELIMITER_REGEX: RegExp = /d+|m+|y+/i;\n\nexport const USER_INPUT_REGEX: RegExp = /\\d+/g;\n\nexport const MOBILE_USERAGENT_REGEX: RegExp = /Mobi/i;\n\nexport const RTL_REGEX: RegExp = /\\u200f/g;\n\nexport const YEAR: string = 'YYYY';\nexport const MONTH: string = 'MM';\nexport const DATE: string = 'DD';\n\nexport type FormatType = 'LITTLE_ENDIAN' | 'MIDDLE_ENDIAN' | 'BIG_ENDIAN';\n\nexport type InputDateDisplayFormat = {\n  readonly name: FormatType;\n  readonly format: [string, string, string];\n};\n\nexport const LITTLE_ENDIAN: InputDateDisplayFormat = {\n  name: 'LITTLE_ENDIAN',\n  format: [DATE, MONTH, YEAR],\n};\n\nexport const MIDDLE_ENDIAN: InputDateDisplayFormat = {\n  name: 'MIDDLE_ENDIAN',\n  format: [MONTH, DATE, YEAR],\n};\n\nexport const BIG_ENDIAN: InputDateDisplayFormat = {\n  name: 'BIG_ENDIAN',\n  format: [YEAR, MONTH, DATE],\n};\n\nexport const NO_OF_DAYS_IN_A_WEEK: number = 7;\nexport const NO_OF_ROWS_IN_CALENDAR_VIEW: number = 6;\nexport const TOTAL_DAYS_IN_DAYS_VIEW: number = NO_OF_DAYS_IN_A_WEEK * NO_OF_ROWS_IN_CALENDAR_VIEW;\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { WeekDay } from '@angular/common';\n\n/**\n * Returns the number of days in a month.\n */\nexport function getNumberOfDaysInTheMonth(year: number, month: number): number {\n  // If we go to the next month, but use a day of 0, it returns the last day from the previous month\n  return new Date(year, month + 1, 0).getDate();\n}\n\n/**\n * Returns the day for the corresponding date where 0 represents Sunday.\n */\nexport function getDay(year: number, month: number, date: number): WeekDay {\n  return new Date(year, month, date).getDay();\n}\n\n/**\n * Takes in a year and if it is a 2 digit year, returns the corresponding 4 digit year.\n * Window of 80 years before and 20 years after the present year.\n * Credit: https://github.com/globalizejs/globalize/blob/e1b31cd6a4f1cff75b185b68b7a32220aac5196f/src/date/parse.js\n */\nexport function parseToFourDigitYear(year: number): number {\n  if (year > 9999 || (year > 100 && year < 999) || year < 10) {\n    return -1;\n  }\n  if (year > 999) {\n    return year;\n  }\n  const currYear: number = new Date().getFullYear();\n  const century: number = Math.floor(currYear / 100) * 100;\n  let result: number = year + century;\n  if (result > currYear + 20) {\n    result = result - 100;\n  }\n  return result;\n}\n\nexport function datesAreEqual(date1: Date, date2: Date) {\n  if (date1 instanceof Date && date2 instanceof Date) {\n    return (\n      date1.getFullYear() === date2.getFullYear() &&\n      date1.getMonth() === date2.getMonth() &&\n      date1.getDate() === date2.getDate()\n    );\n  } else {\n    return false;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { DayModel } from './day.model';\n\nexport class DayViewModel {\n  constructor(\n    public dayModel: DayModel,\n    public isTodaysDate: boolean = false,\n    public isDisabled: boolean = false,\n    public isSelected: boolean = false,\n    public isFocusable: boolean = false\n  ) {}\n\n  /**\n   * Gets the tab index based on the isFocusable flag.\n   */\n  get tabIndex(): number {\n    return this.isFocusable ? 0 : -1;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { getNumberOfDaysInTheMonth } from '../utils/date-utils';\n\nimport { DayModel } from './day.model';\n\nexport class CalendarModel {\n  constructor(public readonly year: number, public readonly month: number) {\n    this.initializeDaysInCalendar();\n  }\n\n  days: DayModel[];\n\n  /**\n   * Populates the days array with the DayModels in the current Calendar.\n   */\n  private initializeDaysInCalendar(): void {\n    const noOfDaysInCalendar: number = getNumberOfDaysInTheMonth(this.year, this.month);\n    this.days = Array(noOfDaysInCalendar)\n      .fill(null)\n      .map((date, index) => {\n        return new DayModel(this.year, this.month, index + 1);\n      });\n  }\n\n  /**\n   * Checks if the calendar passed is equal to the current calendar.\n   */\n  isEqual(calendar: CalendarModel) {\n    if (calendar) {\n      return this.year === calendar.year && this.month === calendar.month;\n    }\n    return false;\n  }\n\n  /**\n   * Checks if a DayModel is in the Calendar\n   */\n  isDayInCalendar(day: DayModel): boolean {\n    if (day) {\n      return this.year === day.year && this.month === day.month;\n    }\n    return false;\n  }\n\n  /**\n   * Returns CalendarModel of the previous month.\n   */\n  previousMonth(): CalendarModel {\n    if (this.month === 0) {\n      return new CalendarModel(this.year - 1, 11);\n    } else {\n      return new CalendarModel(this.year, this.month - 1);\n    }\n  }\n\n  /**\n   * Returns CalendarModel of the next month.\n   */\n  nextMonth(): CalendarModel {\n    if (this.month === 11) {\n      return new CalendarModel(this.year + 1, 0);\n    } else {\n      return new CalendarModel(this.year, this.month + 1);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CalendarModel } from './calendar.model';\n\nexport class DayModel {\n  constructor(public readonly year: number, public readonly month: number, public readonly date: number) {}\n\n  /**\n   * Returns the Calendar for the current DayModel.\n   */\n  get calendar(): CalendarModel {\n    return new CalendarModel(this.year, this.month);\n  }\n\n  /**\n   * Checks if the passed CalendarDate is equal to itself.\n   */\n  isEqual(day: DayModel) {\n    if (day) {\n      return this.year === day.year && this.month === day.month && this.date === day.date;\n    }\n    return false;\n  }\n\n  /**\n   * Converts the CalendarDate into the Javascript Date object.\n   */\n  toDate(): Date {\n    return new Date(this.year, this.month, this.date);\n  }\n\n  /**\n   * Returns a new DayModel which is incremented based on the value passed.\n   */\n  incrementBy(value: number): DayModel {\n    // Creating new Javascript Date object to increment because\n    // it will automatically take care of switching to next or previous\n    // months & years without we having to worry about it.\n    const date: Date = new Date(this.year, this.month, this.date + value);\n    return new DayModel(date.getFullYear(), date.getMonth(), date.getDate());\n  }\n\n  /**\n   * Clones the current day model.\n   */\n  clone(): DayModel {\n    return new DayModel(this.year, this.month, this.date);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { NO_OF_DAYS_IN_A_WEEK, NO_OF_ROWS_IN_CALENDAR_VIEW, TOTAL_DAYS_IN_DAYS_VIEW } from '../utils/constants';\nimport { getDay } from '../utils/date-utils';\n\nimport { CalendarModel } from './calendar.model';\nimport { DayViewModel } from './day-view.model';\nimport { DayModel } from './day.model';\n\nexport class CalendarViewModel {\n  constructor(\n    public calendar: CalendarModel,\n    private selectedDay: DayModel,\n    private focusableDay: DayModel,\n    private today: DayModel,\n    public firstDayOfWeek: number\n  ) {\n    this.initializeCalendarView();\n  }\n\n  private currMonthDayViews: DayViewModel[] = [];\n\n  private _calendarView: DayViewModel[][];\n\n  /**\n   * DayViewModel matrix. Size 6x7\n   */\n  get calendarView(): DayViewModel[][] {\n    return this._calendarView;\n  }\n\n  /**\n   * Generates a 6x7 matrix of DayViewModel based on the Calendar.\n   * The 6x7 matrix is structured according to the first day of the week.\n   * 6 rows to accommodate months which might have dates spanning over 6 weeks.\n   * 7 columns because there are 7 days in a week :P :D\n   */\n  private initializeCalendarView(): void {\n    // Generate prev and next month calendar models.\n    const prevMonthCalendar: CalendarModel = this.calendar.previousMonth();\n    const nextMonthCalendar: CalendarModel = this.calendar.nextMonth();\n\n    // Get no of days from prev and next months.\n    const daysFromPrevMonthInCalView: number = this.numDaysFromPrevMonthInCalView(\n      this.calendar.year,\n      this.calendar.month\n    );\n    const daysFromNextMonthInCalView: number =\n      TOTAL_DAYS_IN_DAYS_VIEW - (this.calendar.days.length + daysFromPrevMonthInCalView);\n\n    // Generate prev, curr and next day view models\n    let prevMonthDayViews: DayViewModel[] = [];\n    let nextMonthDayViews: DayViewModel[] = [];\n\n    if (daysFromPrevMonthInCalView > 0) {\n      prevMonthDayViews = this.generateDayViewModels(\n        prevMonthCalendar.days.slice(-1 * daysFromPrevMonthInCalView),\n        true,\n        false\n      );\n    }\n\n    this.currMonthDayViews = this.generateDayViewModels(this.calendar.days, false, true);\n\n    if (daysFromNextMonthInCalView > 0) {\n      nextMonthDayViews = this.generateDayViewModels(\n        nextMonthCalendar.days.slice(0, daysFromNextMonthInCalView),\n        true,\n        false\n      );\n    }\n\n    // Generate calendar view and initialize flags\n    this._calendarView = this.generateCalendarView(prevMonthDayViews, this.currMonthDayViews, nextMonthDayViews);\n    this.initializeSelectedDay();\n    this.initializeFocusableDay();\n  }\n\n  /**\n   * Generates a DayViewModel array based on the DayModel passed\n   */\n  private generateDayViewModels(days: DayModel[], isDisabled: boolean, isCurrentCalendar: boolean): DayViewModel[] {\n    const dayViews: DayViewModel[] = days.map(day => {\n      return new DayViewModel(day, false, isDisabled, false, false);\n    });\n    if (isCurrentCalendar && this.calendar.isDayInCalendar(this.today)) {\n      dayViews[this.today.date - 1].isTodaysDate = true;\n    }\n    return dayViews;\n  }\n\n  /**\n   * Gets the first day of the current month to figure out how many dates of previous month\n   * are needed to complete the Calendar View based on the first day of the week.\n   * eg: Assuming locale en-US, the first day of the week is Sunday,\n   * if first day of the current month lands on Wednesday, then\n   * (this.getDay function would return 3 since\n   * first day of the week is 0), we need the 3 days from the previous month.\n   */\n  private numDaysFromPrevMonthInCalView(currentYear: number, currentMonth: number): number {\n    const firstDayOfCurrMonth: number = getDay(currentYear, currentMonth, 1);\n\n    if (firstDayOfCurrMonth >= this.firstDayOfWeek) {\n      return firstDayOfCurrMonth - this.firstDayOfWeek;\n    } else {\n      return NO_OF_DAYS_IN_A_WEEK + firstDayOfCurrMonth - this.firstDayOfWeek;\n    }\n  }\n\n  /**\n   * Checks if the Day passed is in the CalendarView.\n   */\n  private isDayInCalendarView(day: DayModel): boolean {\n    if (!this.calendar.isDayInCalendar(day)) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Using the DayViewModels from the previous, current and next month, this function\n   * generates the CalendarView.\n   */\n  private generateCalendarView(prev: DayViewModel[], curr: DayViewModel[], next: DayViewModel[]): DayViewModel[][] {\n    const combinationArr: DayViewModel[] = [...prev, ...curr, ...next];\n\n    const calendarView: DayViewModel[][] = [];\n    for (let i = 0; i < NO_OF_ROWS_IN_CALENDAR_VIEW; i++) {\n      calendarView[i] = combinationArr.slice(i * NO_OF_DAYS_IN_A_WEEK, (i + 1) * NO_OF_DAYS_IN_A_WEEK);\n    }\n    return calendarView;\n  }\n\n  /**\n   * Initialize the selected day if the day is in the calendar.\n   */\n  private initializeSelectedDay(): void {\n    if (this.selectedDay && this.isDayInCalendarView(this.selectedDay)) {\n      this.currMonthDayViews[this.selectedDay.date - 1].isSelected = true;\n    }\n  }\n\n  /**\n   * Initializes the focusable day if the day is in the calendar. If focusable day is not set, then\n   * we check for the selected day. If selected day is not set then check if today is in the current\n   * calendar. If not then just set the 15th of the current calendar month.\n   */\n  private initializeFocusableDay(): void {\n    if (this.focusableDay && this.isDayInCalendarView(this.focusableDay)) {\n      this.setFocusableFlag(this.focusableDay, true);\n    } else if (this.selectedDay && this.isDayInCalendarView(this.selectedDay)) {\n      this.setFocusableFlag(this.selectedDay, true);\n      this.focusableDay = this.selectedDay.clone();\n    } else if (this.isDayInCalendarView(this.today)) {\n      this.setFocusableFlag(this.today, true);\n      this.focusableDay = this.today.clone();\n    } else {\n      this.focusableDay = new DayModel(this.calendar.year, this.calendar.month, 15);\n      this.setFocusableFlag(this.focusableDay, true);\n    }\n  }\n\n  private setFocusableFlag(day: DayModel, flag: boolean): void {\n    if (day) {\n      this.currMonthDayViews[day.date - 1].isFocusable = flag;\n    }\n  }\n\n  /**\n   * Updates the focusable day in the calendar.\n   */\n  updateFocusableDay(day: DayModel): void {\n    this.setFocusableFlag(this.focusableDay, false);\n    this.setFocusableFlag(day, true);\n    this.focusableDay = day;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { CalendarModel } from '../model/calendar.model';\nimport { DayModel } from '../model/day.model';\n\n/**\n * This service is responsible for:\n * 1. Initializing the displayed calendar.\n * 2. Moving the calendar to the next, previous or current months\n * 3. Managing the focused and selected day models.\n */\n@Injectable()\nexport class DateNavigationService {\n  private _displayedCalendar: CalendarModel;\n\n  get displayedCalendar(): CalendarModel {\n    return this._displayedCalendar;\n  }\n\n  // not a setter because i want this to remain private\n  private setDisplayedCalendar(value: CalendarModel) {\n    if (!this._displayedCalendar.isEqual(value)) {\n      this._displayedCalendar = value;\n      this._displayedCalendarChange.next();\n    }\n  }\n\n  /**\n   * Variable to store today's date.\n   */\n  private _todaysFullDate: Date = new Date();\n  private _today: DayModel;\n\n  private initializeTodaysDate(): void {\n    this._todaysFullDate = new Date();\n    this._today = new DayModel(\n      this._todaysFullDate.getFullYear(),\n      this._todaysFullDate.getMonth(),\n      this._todaysFullDate.getDate()\n    );\n  }\n\n  get today(): DayModel {\n    return this._today;\n  }\n\n  public selectedDay: DayModel;\n\n  private _selectedDayChange: Subject<DayModel> = new Subject<DayModel>();\n\n  get selectedDayChange(): Observable<DayModel> {\n    return this._selectedDayChange.asObservable();\n  }\n\n  /**\n   * Notifies that the selected day has changed so that the date can be emitted to the user.\n   * Note: Only to be called from day.ts\n   */\n  notifySelectedDayChanged(dayModel: DayModel) {\n    this.selectedDay = dayModel;\n    this._selectedDayChange.next(dayModel);\n  }\n\n  public focusedDay: DayModel;\n\n  /**\n   * Initializes the calendar based on the selected day.\n   */\n  initializeCalendar(): void {\n    this.focusedDay = null; // Can be removed later on the store focus\n    this.initializeTodaysDate();\n    if (this.selectedDay) {\n      this._displayedCalendar = new CalendarModel(this.selectedDay.year, this.selectedDay.month);\n    } else {\n      this._displayedCalendar = new CalendarModel(this.today.year, this.today.month);\n    }\n  }\n\n  changeMonth(month: number): void {\n    this.setDisplayedCalendar(new CalendarModel(this._displayedCalendar.year, month));\n  }\n\n  changeYear(year: number): void {\n    this.setDisplayedCalendar(new CalendarModel(year, this._displayedCalendar.month));\n  }\n\n  /**\n   * Moves the displayed calendar to the next month.\n   */\n  moveToNextMonth(): void {\n    this.setDisplayedCalendar(this._displayedCalendar.nextMonth());\n  }\n\n  /**\n   * Moves the displayed calendar to the previous month.\n   */\n  moveToPreviousMonth(): void {\n    this.setDisplayedCalendar(this._displayedCalendar.previousMonth());\n  }\n\n  /**\n   * Moves the displayed calendar to the current month and year.\n   */\n  moveToCurrentMonth(): void {\n    if (!this.displayedCalendar.isDayInCalendar(this.today)) {\n      this.setDisplayedCalendar(new CalendarModel(this.today.year, this.today.month));\n    }\n    this._focusOnCalendarChange.next();\n  }\n\n  incrementFocusDay(value: number): void {\n    this.focusedDay = this.focusedDay.incrementBy(value);\n    if (this._displayedCalendar.isDayInCalendar(this.focusedDay)) {\n      this._focusedDayChange.next(this.focusedDay);\n    } else {\n      this.setDisplayedCalendar(this.focusedDay.calendar);\n    }\n    this._focusOnCalendarChange.next();\n  }\n\n  private _displayedCalendarChange: Subject<void> = new Subject<void>();\n\n  /**\n   * This observable lets the subscriber know that the displayed calendar has changed.\n   */\n  get displayedCalendarChange(): Observable<void> {\n    return this._displayedCalendarChange.asObservable();\n  }\n\n  private _focusOnCalendarChange: Subject<void> = new Subject<void>();\n\n  /**\n   * This observable lets the subscriber know that the focus should be applied on the calendar.\n   */\n  get focusOnCalendarChange(): Observable<void> {\n    return this._focusOnCalendarChange.asObservable();\n  }\n\n  private _focusedDayChange: Subject<DayModel> = new Subject<DayModel>();\n\n  /**\n   * This observable lets the subscriber know that the focused day in the displayed calendar has changed.\n   */\n  get focusedDayChange(): Observable<DayModel> {\n    return this._focusedDayChange.asObservable();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { isPlatformBrowser } from '@angular/common';\nimport { ElementRef, Inject, Injectable, NgZone, PLATFORM_ID } from '@angular/core';\nimport { first, filter } from 'rxjs/operators';\n\n/**\n * This service focuses the day that is focusable in the calendar.\n */\n@Injectable()\nexport class DatepickerFocusService {\n  constructor(private _ngZone: NgZone, @Inject(PLATFORM_ID) private platformId: Object) {}\n\n  focusCell(elRef: ElementRef): void {\n    this._ngZone.runOutsideAngular(() => {\n      this.ngZoneIsStableInBrowser().subscribe(() => {\n        const focusEl = elRef.nativeElement.querySelector('[tabindex=\"0\"]');\n        if (focusEl) {\n          focusEl.focus();\n        }\n      });\n    });\n  }\n\n  focusInput(element: HTMLInputElement): void {\n    this._ngZone.runOutsideAngular(() => this.ngZoneIsStableInBrowser().subscribe(() => element.focus()));\n  }\n\n  elementIsFocused(element: HTMLInputElement) {\n    return isPlatformBrowser(this.platformId) && document.activeElement === element;\n  }\n\n  private ngZoneIsStableInBrowser() {\n    // Credit: Material: https://github.com/angular/material2/blob/master/src/lib/datepicker/calendar.ts\n    return this._ngZone.onStable.asObservable().pipe(first(), filter(() => isPlatformBrowser(this.platformId)));\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  FormatWidth,\n  FormStyle,\n  getLocaleDateFormat,\n  getLocaleDayNames,\n  getLocaleFirstDayOfWeek,\n  getLocaleMonthNames,\n  TranslationWidth,\n} from '@angular/common';\nimport { Inject, Injectable, LOCALE_ID } from '@angular/core';\n\n/**\n * This service extracts the Angular CLDR data needed by the datepicker.\n */\n@Injectable()\nexport class LocaleHelperService {\n  constructor(@Inject(LOCALE_ID) public locale: string) {\n    this.initializeLocaleData();\n  }\n\n  private _firstDayOfWeek: number = 0;\n  private _localeDaysNarrow: ReadonlyArray<string>;\n  private _localeMonthsAbbreviated: ReadonlyArray<string>;\n  private _localeMonthsWide: ReadonlyArray<string>;\n  private _localeDateFormat: string;\n\n  get firstDayOfWeek(): number {\n    return this._firstDayOfWeek;\n  }\n\n  get localeDaysNarrow(): ReadonlyArray<string> {\n    return this._localeDaysNarrow;\n  }\n\n  get localeMonthsAbbreviated(): ReadonlyArray<string> {\n    return this._localeMonthsAbbreviated;\n  }\n\n  get localeMonthsWide(): ReadonlyArray<string> {\n    return this._localeMonthsWide;\n  }\n\n  get localeDateFormat(): string {\n    return this._localeDateFormat;\n  }\n\n  /**\n   * Initializes the locale data.\n   */\n  private initializeLocaleData(): void {\n    // Order in which these functions is called is very important.\n    this.initializeFirstDayOfWeek();\n    this.initializeLocaleDateFormat();\n    this.initializeLocaleMonthsAbbreviated();\n    this.initializeLocaleMonthsWide();\n    this.initializeLocaleDaysNarrow();\n  }\n\n  /**\n   * Initialize day names in the TranslationWidth.Narrow format based on the locale.\n   * eg: [S, M, T...] for en-US.\n   */\n  private initializeLocaleDaysNarrow(): void {\n    // Get locale day names starting with Sunday\n    const tempArr: string[] = getLocaleDayNames(this.locale, FormStyle.Standalone, TranslationWidth.Narrow).slice();\n    // Get first day of the week based on the locale\n    const firstDayOfWeek: number = this.firstDayOfWeek;\n    // Rearrange the tempArr to start with the first day of the week based on the locale.\n    if (firstDayOfWeek > 0) {\n      const prevDays: string[] = tempArr.splice(0, firstDayOfWeek);\n      tempArr.push(...prevDays);\n    }\n    this._localeDaysNarrow = tempArr;\n  }\n\n  /**\n   * Initializes the array of month names in the TranslationWidth.Abbreviated format.\n   * e.g. `[Jan, Feb, ...]` for en-US\n   */\n  private initializeLocaleMonthsAbbreviated(): void {\n    this._localeMonthsAbbreviated = getLocaleMonthNames(\n      this.locale,\n      FormStyle.Standalone,\n      TranslationWidth.Abbreviated\n    ).slice();\n  }\n\n  /**\n   * Initializes the array of month names in the TranslationWidth.Wide format.\n   * e.g. `[January, February, ...]` for en-US\n   */\n  private initializeLocaleMonthsWide(): void {\n    this._localeMonthsWide = getLocaleMonthNames(this.locale, FormStyle.Standalone, TranslationWidth.Wide).slice();\n  }\n\n  /**\n   * Initializes the first day of the week based on the locale.\n   */\n  private initializeFirstDayOfWeek(): void {\n    this._firstDayOfWeek = getLocaleFirstDayOfWeek(this.locale);\n  }\n\n  private initializeLocaleDateFormat(): void {\n    this._localeDateFormat = getLocaleDateFormat(this.locale, FormatWidth.Short);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ElementRef, HostListener, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, UP_ARROW } from '../../utils/key-codes/key-codes';\n\nimport { CalendarViewModel } from './model/calendar-view.model';\nimport { CalendarModel } from './model/calendar.model';\nimport { DayModel } from './model/day.model';\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { DatepickerFocusService } from './providers/datepicker-focus.service';\nimport { LocaleHelperService } from './providers/locale-helper.service';\nimport { NO_OF_DAYS_IN_A_WEEK } from './utils/constants';\n\n@Component({ selector: 'clr-calendar', templateUrl: './calendar.html' })\nexport class ClrCalendar implements OnDestroy {\n  private _subs: Subscription[] = [];\n\n  constructor(\n    private _localeHelperService: LocaleHelperService,\n    private _dateNavigationService: DateNavigationService,\n    private _datepickerFocusService: DatepickerFocusService,\n    private _elRef: ElementRef\n  ) {\n    this.generateCalendarView();\n    this.initializeSubscriptions();\n  }\n\n  /**\n   * Calendar View Model to generate the Calendar.\n   */\n  calendarViewModel: CalendarViewModel;\n\n  /**\n   * Gets the locale days according to the TranslationWidth.Narrow format.\n   */\n  get localeDaysNarrow(): ReadonlyArray<string> {\n    return this._localeHelperService.localeDaysNarrow;\n  }\n\n  get calendar(): CalendarModel {\n    return this._dateNavigationService.displayedCalendar;\n  }\n\n  get selectedDay(): DayModel {\n    return this._dateNavigationService.selectedDay;\n  }\n\n  get focusedDay(): DayModel {\n    return this._dateNavigationService.focusedDay;\n  }\n\n  get today(): DayModel {\n    return this._dateNavigationService.today;\n  }\n\n  /**\n   * Initialize subscriptions to:\n   * 1. update the calendar view model.\n   * 2. update the focusable day in the calendar view model.\n   * 3. focus on the focusable day in the calendar.\n   */\n  private initializeSubscriptions(): void {\n    this._subs.push(\n      this._dateNavigationService.displayedCalendarChange.subscribe(() => {\n        this.generateCalendarView();\n      })\n    );\n\n    this._subs.push(\n      this._dateNavigationService.focusedDayChange.subscribe((focusedDay: DayModel) => {\n        this.calendarViewModel.updateFocusableDay(focusedDay);\n      })\n    );\n\n    this._subs.push(\n      this._dateNavigationService.focusOnCalendarChange.subscribe(() => {\n        this._datepickerFocusService.focusCell(this._elRef);\n      })\n    );\n  }\n\n  /**\n   * Generates the Calendar View based on the calendar retrieved from the DateNavigationService.\n   */\n  private generateCalendarView(): void {\n    this.calendarViewModel = new CalendarViewModel(\n      this.calendar,\n      this.selectedDay,\n      this.focusedDay,\n      this.today,\n      this._localeHelperService.firstDayOfWeek\n    );\n  }\n\n  /**\n   * Delegates Keyboard arrow navigation to the DateNavigationService.\n   */\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    if (event && this.focusedDay) {\n      switch (event.keyCode) {\n        case UP_ARROW:\n          event.preventDefault();\n          this._dateNavigationService.incrementFocusDay(-1 * NO_OF_DAYS_IN_A_WEEK);\n          break;\n        case DOWN_ARROW:\n          event.preventDefault();\n          this._dateNavigationService.incrementFocusDay(NO_OF_DAYS_IN_A_WEEK);\n          break;\n        case LEFT_ARROW:\n          event.preventDefault();\n          this._dateNavigationService.incrementFocusDay(-1);\n          break;\n        case RIGHT_ARROW:\n          event.preventDefault();\n          this._dateNavigationService.incrementFocusDay(1);\n          break;\n        default:\n          break; // No default case. TSLint x-(\n      }\n    }\n  }\n\n  /**\n   * Focuses on the focusable day when the Calendar View is initialized.\n   */\n  ngAfterViewInit() {\n    this._datepickerFocusService.focusCell(this._elRef);\n  }\n\n  /**\n   * Unsubscribe from subscriptions.\n   */\n  ngOnDestroy(): void {\n    this._subs.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2017 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport const UP_ARROW: number = 38;\nexport const DOWN_ARROW: number = 40;\nexport const RIGHT_ARROW: number = 39;\nexport const LEFT_ARROW: number = 37;\nexport const ENTER: number = 13;\nexport const SPACE: number = 32;\nexport const TAB: number = 9;\nexport const ESC: number = 27;\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable()\nexport class FocusService {\n  private _focused: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  get focusChange(): Observable<boolean> {\n    return this._focused.asObservable();\n  }\n  set focused(state: boolean) {\n    this._focused.next(state);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class DateFormControlService {\n  private _touchedChange: Subject<void> = new Subject<void>();\n\n  get touchedChange(): Observable<void> {\n    return this._touchedChange.asObservable();\n  }\n\n  private _dirtyChange: Subject<void> = new Subject<void>();\n\n  get dirtyChange(): Observable<void> {\n    return this._dirtyChange.asObservable();\n  }\n\n  markAsTouched(): void {\n    this._touchedChange.next();\n  }\n\n  markAsDirty(): void {\n    this._dirtyChange.next();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\nimport {\n  BIG_ENDIAN,\n  DEFAULT_LOCALE_FORMAT,\n  DELIMITER_REGEX,\n  InputDateDisplayFormat,\n  LITTLE_ENDIAN,\n  LITTLE_ENDIAN_REGEX,\n  MIDDLE_ENDIAN,\n  MIDDLE_ENDIAN_REGEX,\n  RTL_REGEX,\n  USER_INPUT_REGEX,\n} from '../utils/constants';\nimport { getNumberOfDaysInTheMonth, parseToFourDigitYear } from '../utils/date-utils';\n\nimport { LocaleHelperService } from './locale-helper.service';\n\n@Injectable()\nexport class DateIOService {\n  public cldrLocaleDateFormat: string = DEFAULT_LOCALE_FORMAT;\n  private localeDisplayFormat: InputDateDisplayFormat = LITTLE_ENDIAN;\n  private delimiters: [string, string] = ['/', '/'];\n\n  constructor(private _localeHelperService: LocaleHelperService) {\n    this.cldrLocaleDateFormat = this._localeHelperService.localeDateFormat;\n    this.initializeLocaleDisplayFormat();\n  }\n\n  private initializeLocaleDisplayFormat(): void {\n    const format: string = this.cldrLocaleDateFormat.toLocaleLowerCase();\n    if (LITTLE_ENDIAN_REGEX.test(format)) {\n      this.localeDisplayFormat = LITTLE_ENDIAN;\n    } else if (MIDDLE_ENDIAN_REGEX.test(format)) {\n      this.localeDisplayFormat = MIDDLE_ENDIAN;\n    } else {\n      // everything else is set to BIG-ENDIAN FORMAT\n      this.localeDisplayFormat = BIG_ENDIAN;\n    }\n    this.extractDelimiters();\n  }\n\n  private extractDelimiters(): void {\n    if (this.cldrLocaleDateFormat) {\n      // Sanitize Date Format. Remove RTL characters.\n      // FIXME: When we support RTL, remove this and handle it correctly.\n      const localeFormat: string = this.cldrLocaleDateFormat.replace(RTL_REGEX, '');\n      const delimiters: string[] = localeFormat.split(DELIMITER_REGEX);\n\n      // NOTE: The split from the CLDR date format should always result\n      // in an arary with 4 elements. The 1st and the 2nd values are the delimiters\n      // we will use in order.\n      // Eg: \"dd/MM/y\".split(/d+|m+|y+/i) results in [\"\", \"/\", \"/\", \"\"]\n      if (delimiters && delimiters.length === 4) {\n        this.delimiters = [delimiters[1], delimiters[2]];\n      } else {\n        console.error('Unexpected date format received. Delimiters extracted: ', delimiters);\n      }\n    }\n  }\n\n  toLocaleDisplayFormatString(date: Date): string {\n    if (date) {\n      if (isNaN(date.getTime())) {\n        return '';\n      }\n      const dateNo: number = date.getDate();\n      const monthNo: number = date.getMonth() + 1;\n      const dateStr: string = dateNo > 9 ? dateNo.toString() : '0' + dateNo;\n      const monthStr: string = monthNo > 9 ? monthNo.toString() : '0' + monthNo;\n      if (this.localeDisplayFormat === LITTLE_ENDIAN) {\n        return dateStr + this.delimiters[0] + monthStr + this.delimiters[1] + date.getFullYear();\n      } else if (this.localeDisplayFormat === MIDDLE_ENDIAN) {\n        return monthStr + this.delimiters[0] + dateStr + this.delimiters[1] + date.getFullYear();\n      } else {\n        return date.getFullYear() + this.delimiters[0] + monthStr + this.delimiters[1] + dateStr;\n      }\n    }\n    return '';\n  }\n\n  get placeholderText(): string {\n    const format: [string, string, string] = this.localeDisplayFormat.format;\n    return format[0] + this.delimiters[0] + format[1] + this.delimiters[1] + format[2];\n  }\n\n  /**\n   * Checks if the month entered by the user is valid or not.\n   * Note: Month is 0 based.\n   */\n  private isValidMonth(month: number): boolean {\n    return month > -1 && month < 12;\n  }\n\n  /**\n   * Checks if the date is valid depending on the year and month provided.\n   */\n  private isValidDate(year: number, month: number, date: number): boolean {\n    return date > 0 && date <= getNumberOfDaysInTheMonth(year, month);\n  }\n\n  /**\n   * Validates the parameters provided and returns the date.\n   * If the parameters are not\n   * valid then return null.\n   * NOTE: (Month here is 1 based since the user has provided that as an input)\n   */\n  private validateAndGetDate(year: string, month: string, date: string): Date {\n    // I don't know whats wrong with the TS compiler. It throws an error if I write\n    // the below if statement. The error is:\n    // Operator '!==' cannot be applied to types '2' and '4'\n    // More info here: https://github.com/Microsoft/TypeScript/issues/12794#issuecomment-270342936\n    /*\n        if (year.length !== 2 || year.length !== 4) {\n            return null;\n        }\n        */\n\n    // Instead I have to write the logic like this x-(\n    const y: number = +year;\n    const m: number = +month - 1; // month is 0 based\n    const d: number = +date;\n    if (!this.isValidMonth(m) || !this.isValidDate(y, m, d)) {\n      return null;\n    }\n    const result: number = parseToFourDigitYear(y);\n    return result !== -1 ? new Date(result, m, d) : null;\n  }\n\n  getDateValueFromDateString(date: string): Date {\n    if (!date) {\n      return null;\n    }\n    const dateParts: string[] = date.match(USER_INPUT_REGEX);\n    if (!dateParts || dateParts.length !== 3) {\n      return null;\n    }\n    const [firstPart, secondPart, thirdPart] = dateParts;\n    if (this.localeDisplayFormat === LITTLE_ENDIAN) {\n      // secondPart is month && firstPart is date\n      return this.validateAndGetDate(thirdPart, secondPart, firstPart);\n    } else if (this.localeDisplayFormat === MIDDLE_ENDIAN) {\n      // firstPart is month && secondPart is date\n      return this.validateAndGetDate(thirdPart, firstPart, secondPart);\n    } else {\n      // secondPart is month && thirdPart is date\n      return this.validateAndGetDate(firstPart, secondPart, thirdPart);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\n\nimport { DATEPICKER_ENABLE_BREAKPOINT } from '../../../utils/breakpoints/breakpoints';\nimport { MOBILE_USERAGENT_REGEX } from '../utils/constants';\n\n@Injectable()\nexport class DatepickerEnabledService {\n  constructor(@Inject(DOCUMENT) private _document: any) {\n    if (this._document) {\n      this._isUserAgentMobile = MOBILE_USERAGENT_REGEX.test(_document.defaultView.navigator.userAgent);\n      this._innerWidth = _document.defaultView.innerWidth;\n    }\n  }\n\n  private _isUserAgentMobile: boolean = false;\n  private _innerWidth: number;\n\n  /**\n   * Returns if the calendar should be active or not.\n   * If the user agent is mobile and the screen width is less than DATEPICKER_ACTIVE_BREAKPOINT\n   * then the calendar is inactive.\n   */\n  get isEnabled(): boolean {\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n    // What they recommend is:\n    //\"In summary, we recommend looking for the string 'Mobi'\n    // anywhere in the User Agent to detect a mobile device.\"\n    if (this._document) {\n      if (this._innerWidth < DATEPICKER_ENABLE_BREAKPOINT && this._isUserAgentMobile) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n// iPad mini screen width\n// http://stephen.io/mediaqueries/#iPadMini\nexport const DATEPICKER_ENABLE_BREAKPOINT: number = 768;\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, OnDestroy, Optional, ContentChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { NgControl } from '@angular/forms';\n\nimport { IfOpenService } from '../../utils/conditional/if-open.service';\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { FocusService } from '../common/providers/focus.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { ClrLabel } from '../common/label';\n\nimport { DateFormControlService } from './providers/date-form-control.service';\nimport { DateIOService } from './providers/date-io.service';\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { DatepickerEnabledService } from './providers/datepicker-enabled.service';\nimport { LocaleHelperService } from './providers/locale-helper.service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n@Component({\n  selector: 'clr-date-container',\n  template: `\n      <ng-content select=\"label\"></ng-content>\n      <label *ngIf=\"!label && addGrid()\"></label>\n      <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n        <div class=\"clr-input-wrapper\">\n          <div class=\"clr-input-group\" [class.clr-focus]=\"focus\">\n            <ng-content select=\"[clrDate]\"></ng-content>\n            <button type=\"button\" class=\"clr-input-group-icon-action\" (click)=\"toggleDatepicker($event)\" *ngIf=\"isEnabled\" [attr.title]=\"commonStrings.open\" [disabled]=\"control?.disabled\">\n              <clr-icon shape=\"calendar\"></clr-icon>\n            </button>\n            <clr-datepicker-view-manager *clrIfOpen clrFocusTrap></clr-datepicker-view-manager>\n          </div>\n          <clr-icon class=\"clr-validate-icon\" shape=\"exclamation-circle\"></clr-icon>\n        </div>\n        <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n        <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n      </div>\n    `,\n  providers: [\n    ControlIdService,\n    IfOpenService,\n    LocaleHelperService,\n    IfErrorService,\n    ControlClassService,\n    FocusService,\n    NgControlService,\n    DateIOService,\n    DateNavigationService,\n    DatepickerEnabledService,\n    DateFormControlService,\n  ],\n  host: {\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-form-control]': 'true',\n    '[class.clr-row]': 'addGrid()',\n  },\n})\nexport class ClrDateContainer implements DynamicWrapper, OnDestroy {\n  _dynamic: boolean = false;\n  invalid = false;\n  focus = false;\n  control: NgControl;\n  @ContentChild(ClrLabel, { static: false })\n  label: ClrLabel;\n\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    private _ifOpenService: IfOpenService,\n    private _dateNavigationService: DateNavigationService,\n    private _datepickerEnabledService: DatepickerEnabledService,\n    private dateFormControlService: DateFormControlService,\n    public commonStrings: ClrCommonStrings,\n    private ifErrorService: IfErrorService,\n    private focusService: FocusService,\n    private controlClassService: ControlClassService,\n    @Optional() private layoutService: LayoutService,\n    private ngControlService: NgControlService\n  ) {\n    this.subscriptions.push(\n      this._ifOpenService.openChange.subscribe(open => {\n        if (open) {\n          this.initializeCalendar();\n        }\n      })\n    );\n    this.subscriptions.push(\n      this.focusService.focusChange.subscribe(state => {\n        this.focus = state;\n      })\n    );\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        this.control = control;\n      })\n    );\n  }\n\n  ngOnInit() {\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        this.invalid = invalid;\n      })\n    );\n  }\n\n  /**\n   * Returns the classes to apply to the control\n   */\n  controlClass() {\n    return this.controlClassService.controlClass(this.invalid, this.addGrid());\n  }\n\n  /**\n   * Determines if the control needs to add grid classes\n   */\n  addGrid() {\n    if (this.layoutService && !this.layoutService.isVertical()) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Returns if the Datepicker is enabled or not. If disabled, hides the datepicker trigger.\n   */\n  get isEnabled(): boolean {\n    return this._datepickerEnabledService.isEnabled;\n  }\n\n  /**\n   * Processes the user input and Initializes the Calendar everytime the datepicker popover is open.\n   */\n  private initializeCalendar(): void {\n    this._dateNavigationService.initializeCalendar();\n  }\n\n  /**\n   * Toggles the Datepicker Popover.\n   */\n  toggleDatepicker(event: MouseEvent) {\n    this._ifOpenService.toggleWithEvent(event);\n    this.dateFormControlService.markAsTouched();\n  }\n\n  /**\n   * Unsubscribe from subscriptions.\n   */\n  ngOnDestroy() {\n    this.subscriptions.map(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { isPlatformBrowser } from '@angular/common';\nimport {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Inject,\n  Injector,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  PLATFORM_ID,\n  Renderer2,\n  Self,\n  ViewContainerRef,\n} from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { filter, switchMap } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\nimport { FocusService } from '../common/providers/focus.service';\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { ClrDateContainer } from './date-container';\nimport { DayModel } from './model/day.model';\nimport { DateFormControlService } from './providers/date-form-control.service';\nimport { DateIOService } from './providers/date-io.service';\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { DatepickerEnabledService } from './providers/datepicker-enabled.service';\nimport { DatepickerFocusService } from './providers/datepicker-focus.service';\nimport { datesAreEqual } from './utils/date-utils';\n\n// There are four ways the datepicker value is set\n// 1. Value set by user typing into text input as a string ex: '01/28/2015'\n// 2. Value set explicitly by Angular Forms APIs as a string ex: '01/28/2015'\n// 3. Value set by user via datepicker UI as a Date Object\n// 4. Value set via `clrDate` input as a Date Object\n\n@Directive({\n  selector: '[clrDate]',\n  host: {\n    '[class.clr-input]': 'true',\n  },\n  providers: [DatepickerFocusService],\n})\nexport class ClrDateInput extends WrappedFormControl<ClrDateContainer> implements OnInit, AfterViewInit, OnDestroy {\n  @Input() placeholder: string;\n  @Output('clrDateChange') dateChange: EventEmitter<Date> = new EventEmitter<Date>(false);\n  @Input('clrDate')\n  set date(date: Date) {\n    if (this.previousDateChange !== date) {\n      this.updateDate(this.getValidDateValueFromDate(date));\n    }\n\n    if (!this.initialClrDateInputValue) {\n      this.initialClrDateInputValue = date;\n    }\n  }\n\n  protected index = 1;\n  private initialClrDateInputValue: Date;\n  private previousDateChange: Date;\n\n  constructor(\n    viewContainerRef: ViewContainerRef,\n    injector: Injector,\n    protected el: ElementRef,\n    protected renderer: Renderer2,\n    @Self()\n    @Optional()\n    protected control: NgControl,\n    @Optional() private container: ClrDateContainer,\n    @Optional() private dateIOService: DateIOService,\n    @Optional() private dateNavigationService: DateNavigationService,\n    @Optional() private datepickerEnabledService: DatepickerEnabledService,\n    @Optional() private dateFormControlService: DateFormControlService,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Optional() private focusService: FocusService,\n    private datepickerFocusService: DatepickerFocusService\n  ) {\n    super(viewContainerRef, ClrDateContainer, injector, control, renderer, el);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.populateServicesFromContainerComponent();\n\n    this.subscriptions.push(\n      this.listenForUserSelectedDayChanges(),\n      this.listenForControlValueChanges(),\n      this.listenForTouchChanges(),\n      this.listenForDirtyChanges(),\n      this.listenForInputRefocus()\n    );\n  }\n\n  ngAfterViewInit() {\n    // I don't know why I have to do this but after using the new HostWrapping Module I have to delay the processing\n    // of the initial Input set by the user to here. If I do not 2 issues occur:\n    // 1. The Input setter is called before ngOnInit. ngOnInit initializes the services without which the setter fails.\n    // 2. The Renderer doesn't work before ngAfterViewInit (It used to before the new HostWrapping Module for some reason).\n    // I need the renderer to set the value property on the input to make sure that if the user has supplied a Date\n    // input object, we reflect it with the right date on the input field using the IO service. I am not sure if\n    // these are major issues or not but just noting them down here.\n    this.processInitialInputs();\n  }\n\n  @HostListener('focus')\n  setFocusStates() {\n    this.setFocus(true);\n  }\n\n  @HostListener('blur')\n  triggerValidation() {\n    super.triggerValidation();\n    this.setFocus(false);\n  }\n\n  @HostBinding('attr.placeholder')\n  get placeholderText(): string {\n    return this.placeholder ? this.placeholder : this.dateIOService.placeholderText;\n  }\n\n  @HostBinding('attr.type')\n  get inputType(): string {\n    return isPlatformBrowser(this.platformId) && this.usingNativeDatepicker() ? 'date' : 'text';\n  }\n\n  @HostListener('change', ['$event.target'])\n  onValueChange(target: HTMLInputElement) {\n    const validDateValue = this.dateIOService.getDateValueFromDateString(target.value);\n    if (this.usingClarityDatepicker() && validDateValue) {\n      this.updateDate(validDateValue, true);\n    } else if (this.usingNativeDatepicker()) {\n      const [year, month, day] = target.value.split('-');\n      this.updateDate(new Date(+year, +month - 1, +day), true);\n    } else {\n      this.emitDateOutput(null);\n    }\n  }\n\n  private usingClarityDatepicker() {\n    return this.datepickerEnabledService.isEnabled;\n  }\n\n  private usingNativeDatepicker() {\n    return !this.datepickerEnabledService.isEnabled;\n  }\n\n  private setFocus(focus: boolean) {\n    if (this.focusService) {\n      this.focusService.focused = focus;\n    }\n  }\n\n  private populateServicesFromContainerComponent() {\n    if (!this.container) {\n      this.dateIOService = this.getProviderFromContainer(DateIOService);\n      this.dateNavigationService = this.getProviderFromContainer(DateNavigationService);\n      this.datepickerEnabledService = this.getProviderFromContainer(DatepickerEnabledService);\n      this.dateFormControlService = this.getProviderFromContainer(DateFormControlService);\n    }\n  }\n\n  private processInitialInputs() {\n    if (this.datepickerHasFormControl()) {\n      this.updateDate(this.dateIOService.getDateValueFromDateString(this.control.value));\n    } else {\n      this.updateDate(this.initialClrDateInputValue);\n    }\n  }\n\n  private updateDate(value: Date, setByUserInteraction = false) {\n    const date = this.getValidDateValueFromDate(value);\n\n    if (setByUserInteraction) {\n      this.emitDateOutput(date);\n    } else {\n      this.previousDateChange = date;\n    }\n\n    if (this.dateNavigationService) {\n      this.dateNavigationService.selectedDay = date\n        ? new DayModel(date.getFullYear(), date.getMonth(), date.getDate())\n        : null;\n    }\n\n    this.updateInput(date);\n  }\n\n  private updateInput(date: Date) {\n    if (date) {\n      const dateString = this.dateIOService.toLocaleDisplayFormatString(date);\n\n      if (this.datepickerHasFormControl() && dateString !== this.control.value) {\n        this.control.control.setValue(dateString);\n      } else if (this.usingNativeDatepicker()) {\n        this.renderer.setProperty(this.el.nativeElement, 'valueAsDate', date);\n      } else {\n        this.renderer.setProperty(this.el.nativeElement, 'value', dateString);\n      }\n    } else {\n      this.renderer.setProperty(this.el.nativeElement, 'value', '');\n    }\n  }\n\n  private getValidDateValueFromDate(date: Date) {\n    if (this.dateIOService) {\n      const dateString = this.dateIOService.toLocaleDisplayFormatString(date);\n      return this.dateIOService.getDateValueFromDateString(dateString);\n    } else {\n      return null;\n    }\n  }\n\n  private emitDateOutput(date: Date) {\n    if (!datesAreEqual(date, this.previousDateChange)) {\n      this.dateChange.emit(date);\n      this.previousDateChange = date;\n    } else if (!date && this.previousDateChange) {\n      this.dateChange.emit(null);\n      this.previousDateChange = null;\n    }\n  }\n\n  private datepickerHasFormControl() {\n    return !!this.control;\n  }\n\n  private listenForControlValueChanges() {\n    return of(this.datepickerHasFormControl())\n      .pipe(\n        filter(hasControl => hasControl),\n        switchMap(() => this.control.valueChanges),\n        // only update date value if not being set by user\n        filter(() => !this.datepickerFocusService.elementIsFocused(this.el.nativeElement))\n      )\n      .subscribe((value: string) => this.updateDate(this.dateIOService.getDateValueFromDateString(value)));\n  }\n\n  private listenForUserSelectedDayChanges() {\n    return this.dateNavigationService.selectedDayChange.subscribe(dayModel => this.updateDate(dayModel.toDate(), true));\n  }\n\n  private listenForTouchChanges() {\n    return this.dateFormControlService.touchedChange\n      .pipe(filter(() => this.datepickerHasFormControl()))\n      .subscribe(() => this.control.control.markAsTouched());\n  }\n\n  private listenForDirtyChanges() {\n    return this.dateFormControlService.dirtyChange\n      .pipe(filter(() => this.datepickerHasFormControl()))\n      .subscribe(() => this.control.control.markAsDirty());\n  }\n\n  private listenForInputRefocus() {\n    return this.dateNavigationService.selectedDayChange\n      .pipe(filter(date => !!date))\n      .subscribe(v => this.datepickerFocusService.focusInput(this.el.nativeElement));\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterViewChecked,\n  ElementRef,\n  HostBinding,\n  Injectable,\n  Injector,\n  OnDestroy,\n  Renderer2,\n  SkipSelf,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfOpenService } from '../../utils/conditional/if-open.service';\nimport { ESC } from '../../utils/key-codes/key-codes';\n\nimport { Point, Popover } from './popover';\nimport { PopoverOptions } from './popover-options.interface';\n\n// Literally any annotation would work here, but writing our own @HoneyBadger annotation feels overkill.\n@Injectable()\nexport abstract class AbstractPopover implements AfterViewChecked, OnDestroy {\n  constructor(injector: Injector, @SkipSelf() protected parentHost: ElementRef) {\n    this.el = injector.get(ElementRef);\n    this.ifOpenService = injector.get(IfOpenService);\n    this.renderer = injector.get(Renderer2);\n    // Default anchor is the parent host\n    this.anchorElem = parentHost.nativeElement;\n\n    this.popoverInstance = new Popover(this.el.nativeElement);\n    this.subscription = this.ifOpenService.openChange.subscribe(change => {\n      if (change) {\n        this.anchor();\n        this.attachESCListener();\n      } else {\n        this.release();\n        this.detachESCListener();\n      }\n    });\n    if (this.ifOpenService.open) {\n      this.anchor();\n      this.attachESCListener();\n    }\n  }\n\n  protected el: ElementRef;\n  protected ifOpenService: IfOpenService;\n  protected renderer: Renderer2;\n\n  private popoverInstance: Popover;\n  private subscription: Subscription;\n\n  private updateAnchor = false;\n\n  protected anchorElem: any;\n  protected anchorPoint: Point;\n  protected popoverPoint: Point;\n  protected popoverOptions: PopoverOptions = {};\n\n  protected ignoredElement: any;\n\n  protected anchor() {\n    this.updateAnchor = true;\n    // Ugh\n    this.ignore = this.ifOpenService.originalEvent;\n  }\n\n  protected release() {\n    this.detachOutsideClickListener();\n    this.popoverInstance.release();\n  }\n\n  ngAfterViewChecked() {\n    if (this.updateAnchor) {\n      this.updateAnchor = false;\n      this.popoverInstance\n        .anchor(this.anchorElem, this.anchorPoint, this.popoverPoint, this.popoverOptions)\n        .subscribe(() => {\n          // if a scroll event is detected, close the popover\n          this.ifOpenService.open = false;\n        });\n      this.attachOutsideClickListener();\n    }\n  }\n\n  ngOnDestroy() {\n    this.release();\n    this.detachESCListener();\n    this.subscription.unsubscribe();\n  }\n\n  /*\n     * Fallback to hide when *clrIfOpen is not being used\n     */\n\n  @HostBinding('class.is-off-screen')\n  get isOffScreen() {\n    return this.ifOpenService.open ? false : true;\n  }\n\n  /*\n     * Until https://github.com/angular/angular/issues/8785 is supported, we don't have any way to instantiate\n     * a separate directive on the host. So let's do dirty but performant for now.\n     */\n  public closeOnOutsideClick = false;\n  private hostClickListener: () => void;\n  private documentClickListener: () => void;\n  private documentESCListener: () => void;\n  private ignoredElementClickListener: () => void;\n  private ignore: any;\n\n  private attachESCListener(): void {\n    this.documentESCListener = this.renderer.listen('document', 'keydown', event => {\n      if (event && event.keyCode === ESC) {\n        this.ifOpenService.open = false;\n      }\n    });\n  }\n\n  private detachESCListener(): void {\n    if (this.documentESCListener) {\n      this.documentESCListener();\n      delete this.documentESCListener;\n    }\n  }\n\n  private attachOutsideClickListener() {\n    if (this.closeOnOutsideClick) {\n      this.hostClickListener = this.renderer.listen(this.el.nativeElement, 'click', event => (this.ignore = event));\n      if (this.ignoredElement) {\n        this.ignoredElementClickListener = this.renderer.listen(\n          this.ignoredElement,\n          'click',\n          event => (this.ignore = event)\n        );\n      }\n      this.documentClickListener = this.renderer.listen('document', 'click', event => {\n        if (event === this.ignore) {\n          delete this.ignore;\n        } else {\n          this.ifOpenService.open = false;\n        }\n      });\n    }\n  }\n\n  private detachOutsideClickListener() {\n    if (this.closeOnOutsideClick) {\n      if (this.hostClickListener) {\n        this.hostClickListener();\n        delete this.hostClickListener;\n      }\n      if (this.ignoredElementClickListener) {\n        this.ignoredElementClickListener();\n        delete this.ignoredElementClickListener;\n      }\n      if (this.documentClickListener) {\n        this.documentClickListener();\n        delete this.documentClickListener;\n      }\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\nconst enum DatepickerViewEnum {\n  MONTHVIEW = 'MONTHVIEW',\n  YEARVIEW = 'YEARVIEW',\n  DAYVIEW = 'DAYVIEW',\n}\n\n/**\n * This service manages which view is visible in the datepicker popover.\n */\n@Injectable()\nexport class ViewManagerService {\n  private _currentView: DatepickerViewEnum = DatepickerViewEnum.DAYVIEW;\n\n  get isDayView(): boolean {\n    return this._currentView === DatepickerViewEnum.DAYVIEW;\n  }\n\n  get isYearView(): boolean {\n    return this._currentView === DatepickerViewEnum.YEARVIEW;\n  }\n\n  get isMonthView(): boolean {\n    return this._currentView === DatepickerViewEnum.MONTHVIEW;\n  }\n\n  changeToMonthView(): void {\n    this._currentView = DatepickerViewEnum.MONTHVIEW;\n  }\n\n  changeToYearView(): void {\n    this._currentView = DatepickerViewEnum.YEARVIEW;\n  }\n\n  changeToDayView(): void {\n    this._currentView = DatepickerViewEnum.DAYVIEW;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ElementRef, Injector, SkipSelf } from '@angular/core';\n\nimport { AbstractPopover } from '../../popover/common/abstract-popover';\nimport { Point } from '../../popover/common/popover';\n\nimport { DatepickerFocusService } from './providers/datepicker-focus.service';\nimport { ViewManagerService } from './providers/view-manager.service';\n\n@Component({\n  selector: 'clr-datepicker-view-manager',\n  templateUrl: './datepicker-view-manager.html',\n  providers: [ViewManagerService, DatepickerFocusService],\n  host: { '[class.datepicker]': 'true' },\n})\nexport class ClrDatepickerViewManager extends AbstractPopover {\n  constructor(@SkipSelf() parent: ElementRef, _injector: Injector, private _viewManagerService: ViewManagerService) {\n    super(_injector, parent);\n    this.configurePopover();\n  }\n\n  /**\n   * Configure Popover Direction and Close indicators\n   */\n  private configurePopover(): void {\n    this.anchorPoint = Point.BOTTOM_LEFT;\n    this.popoverPoint = Point.LEFT_TOP;\n    this.closeOnOutsideClick = true;\n  }\n\n  /**\n   * Returns if the current view is the monthpicker.\n   */\n  get isMonthView(): boolean {\n    return this._viewManagerService.isMonthView;\n  }\n\n  /**\n   * Returns if the current view is the yearpicker.\n   */\n  get isYearView(): boolean {\n    return this._viewManagerService.isYearView;\n  }\n\n  /**\n   * Returns if the current view is the daypicker.\n   */\n  get isDayView(): boolean {\n    return this._viewManagerService.isDayView;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input } from '@angular/core';\n\nimport { IfOpenService } from '../../utils/conditional/if-open.service';\n\nimport { DayViewModel } from './model/day-view.model';\nimport { DayModel } from './model/day.model';\nimport { DateFormControlService } from './providers/date-form-control.service';\nimport { DateNavigationService } from './providers/date-navigation.service';\n\n@Component({\n  selector: 'clr-day',\n  template: `\n        <button\n            class=\"day-btn\"\n            type=\"button\"\n            [class.is-today]=\"dayView.isTodaysDate\"\n            [class.is-disabled]=\"dayView.isDisabled\"\n            [class.is-selected]=\"dayView.isSelected\"\n            [attr.tabindex]=\"dayView.tabIndex\"\n            (click)=\"selectDay()\"\n            (focus)=\"onDayViewFocus()\">\n            {{dayView.dayModel.date}}\n        </button>\n    `,\n  host: { '[class.day]': 'true' },\n})\nexport class ClrDay {\n  constructor(\n    private _dateNavigationService: DateNavigationService,\n    private _ifOpenService: IfOpenService,\n    private dateFormControlService: DateFormControlService\n  ) {}\n\n  /**\n   * DayViewModel input which is used to build the Day View.\n   */\n  @Input('clrDayView') dayView: DayViewModel;\n\n  /**\n   * Updates the focusedDay in the DateNavigationService when the ClrDay is focused.\n   */\n  onDayViewFocus() {\n    this._dateNavigationService.focusedDay = this.dayView.dayModel;\n  }\n\n  /**\n   * Updates the selectedDay when the ClrDay is selected and closes the datepicker popover.\n   */\n  selectDay(): void {\n    const day: DayModel = this.dayView.dayModel;\n    this._dateNavigationService.notifySelectedDayChanged(day);\n    this.dateFormControlService.markAsDirty();\n    this._ifOpenService.open = false;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\n\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { LocaleHelperService } from './providers/locale-helper.service';\nimport { ViewManagerService } from './providers/view-manager.service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n@Component({ selector: 'clr-daypicker', templateUrl: './daypicker.html', host: { '[class.daypicker]': 'true' } })\nexport class ClrDaypicker {\n  constructor(\n    private _viewManagerService: ViewManagerService,\n    private _dateNavigationService: DateNavigationService,\n    private _localeHelperService: LocaleHelperService,\n    public commonStrings: ClrCommonStrings\n  ) {}\n\n  /**\n   * Calls the ViewManagerService to change to the monthpicker view.\n   */\n  changeToMonthView(): void {\n    this._viewManagerService.changeToMonthView();\n  }\n\n  /**\n   * Calls the ViewManagerService to change to the yearpicker view.\n   */\n  changeToYearView(): void {\n    this._viewManagerService.changeToYearView();\n  }\n\n  /**\n   * Returns the month value of the calendar in the TranslationWidth.Abbreviated format.\n   */\n  get calendarMonth(): string {\n    return this._localeHelperService.localeMonthsAbbreviated[this._dateNavigationService.displayedCalendar.month];\n  }\n\n  /**\n   * Returns the year value of the calendar.\n   */\n  get calendarYear(): number {\n    return this._dateNavigationService.displayedCalendar.year;\n  }\n\n  /**\n   * Calls the DateNavigationService to move to the next month.\n   */\n  nextMonth(): void {\n    this._dateNavigationService.moveToNextMonth();\n  }\n\n  /**\n   * Calls the DateNavigationService to move to the previous month.\n   */\n  previousMonth(): void {\n    this._dateNavigationService.moveToPreviousMonth();\n  }\n\n  /**\n   * Calls the DateNavigationService to move to the current month.\n   */\n  currentMonth(): void {\n    this._dateNavigationService.moveToCurrentMonth();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, ElementRef, HostListener } from '@angular/core';\n\nimport { DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, UP_ARROW } from '../../utils/key-codes/key-codes';\n\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { DatepickerFocusService } from './providers/datepicker-focus.service';\nimport { LocaleHelperService } from './providers/locale-helper.service';\nimport { ViewManagerService } from './providers/view-manager.service';\n\n@Component({\n  selector: 'clr-monthpicker',\n  template: `\n        <button\n            type=\"button\"\n            class=\"calendar-btn month\"\n            *ngFor=\"let month of monthNames; let monthIndex = index\"\n            (click)=\"changeMonth(monthIndex)\"\n            [class.is-selected]=\"monthIndex === calendarMonthIndex\"\n            [attr.tabindex]=\"getTabIndex(monthIndex)\">\n            {{month}}\n        </button>\n    `,\n  host: {\n    '[class.monthpicker]': 'true',\n  },\n})\nexport class ClrMonthpicker implements AfterViewInit {\n  constructor(\n    private _viewManagerService: ViewManagerService,\n    private _localeHelperService: LocaleHelperService,\n    private _dateNavigationService: DateNavigationService,\n    private _datepickerFocusService: DatepickerFocusService,\n    private _elRef: ElementRef\n  ) {\n    this._focusedMonthIndex = this.calendarMonthIndex;\n  }\n\n  /**\n   * Keeps track of the current focused month.\n   */\n  private _focusedMonthIndex: number;\n\n  /**\n   * Gets the months array which is used to rendered the monthpicker view.\n   * Months are in the TranslationWidth.Wide format.\n   */\n  get monthNames(): ReadonlyArray<string> {\n    return this._localeHelperService.localeMonthsWide;\n  }\n\n  /**\n   * Gets the month value of the Calendar.\n   */\n  get calendarMonthIndex(): number {\n    return this._dateNavigationService.displayedCalendar.month;\n  }\n\n  /**\n   * Calls the DateNavigationService to update the month value of the calendar.\n   * Also changes the view to the daypicker.\n   */\n  changeMonth(monthIndex: number) {\n    this._dateNavigationService.changeMonth(monthIndex);\n    this._viewManagerService.changeToDayView();\n  }\n\n  /**\n   * Compares the month passed to the focused month and returns the tab index.\n   */\n  getTabIndex(monthIndex: number): number {\n    return monthIndex === this._focusedMonthIndex ? 0 : -1;\n  }\n\n  /**\n   * Handles the Keyboard arrow navigation for the monthpicker.\n   */\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    // NOTE: Didn't move this to the date navigation service because\n    // the logic is fairly simple and it didn't make sense for me\n    // to create extra observables just to move this logic to the service.\n    if (event) {\n      const keyCode: number = event.keyCode;\n      if (keyCode === UP_ARROW && this._focusedMonthIndex > 0) {\n        event.preventDefault();\n        this._focusedMonthIndex--;\n        this._datepickerFocusService.focusCell(this._elRef);\n      } else if (keyCode === DOWN_ARROW && this._focusedMonthIndex < 11) {\n        event.preventDefault();\n        this._focusedMonthIndex++;\n        this._datepickerFocusService.focusCell(this._elRef);\n      } else if (keyCode === RIGHT_ARROW && this._focusedMonthIndex < 6) {\n        event.preventDefault();\n        this._focusedMonthIndex = this._focusedMonthIndex + 6;\n        this._datepickerFocusService.focusCell(this._elRef);\n      } else if (keyCode === LEFT_ARROW && this._focusedMonthIndex > 5) {\n        event.preventDefault();\n        this._focusedMonthIndex = this._focusedMonthIndex - 6;\n        this._datepickerFocusService.focusCell(this._elRef);\n      }\n    }\n  }\n\n  /**\n   * Focuses on the current calendar month when the View is initialized.\n   */\n  ngAfterViewInit() {\n    this._datepickerFocusService.focusCell(this._elRef);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nconst YEARS_TO_DISPLAY: number = 10;\n\nexport class YearRangeModel {\n  constructor(private readonly year: number) {\n    this.generateYearRange();\n  }\n\n  yearRange: number[] = [];\n\n  /**\n   * Gets the number in the middle of the range.\n   */\n  get middleYear(): number {\n    return this.yearRange[Math.floor(this.yearRange.length / 2)];\n  }\n\n  /**\n   * Generates the year range based on the year parameter.\n   * eg: If 2018 is passed the output will be [2010, 2011, ..., 2019]\n   */\n  private generateYearRange() {\n    const remainder: number = this.year % YEARS_TO_DISPLAY;\n    const floor: number = this.year - remainder;\n    const ceil: number = floor + YEARS_TO_DISPLAY;\n    this.yearRange = this.generateRange(floor, ceil);\n  }\n\n  /**\n   * Function which generate a range of numbers from floor to ceil.\n   */\n  private generateRange(floor: number, ceil: number): number[] {\n    return Array.from({ length: ceil - floor }, (v, k) => k + floor);\n  }\n\n  /**\n   * Generates the YearRangeModel for the next decade.\n   */\n  nextDecade(): YearRangeModel {\n    return new YearRangeModel(this.year + 10);\n  }\n\n  /**\n   * Generates the YearRangeModel for the previous decade.\n   */\n  previousDecade(): YearRangeModel {\n    return new YearRangeModel(this.year - 10);\n  }\n\n  /**\n   * Generates the YearRangeModel for the current decade.\n   */\n  currentDecade(): YearRangeModel {\n    return new YearRangeModel(new Date().getFullYear());\n  }\n\n  /**\n   * Checks if the value is in the YearRangeModel.\n   */\n  inRange(value: number): boolean {\n    return this.yearRange.indexOf(value) > -1;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, ElementRef, HostListener } from '@angular/core';\n\nimport { DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, UP_ARROW } from '../../utils/key-codes/key-codes';\n\nimport { YearRangeModel } from './model/year-range.model';\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { DatepickerFocusService } from './providers/datepicker-focus.service';\nimport { ViewManagerService } from './providers/view-manager.service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n@Component({\n  selector: 'clr-yearpicker',\n  template: `\n        <div class=\"year-switchers\">\n            <button class=\"calendar-btn switcher\" type=\"button\" (click)=\"previousDecade()\">\n                <clr-icon shape=\"angle\" dir=\"left\" [attr.title]=\"commonStrings.previous\"></clr-icon>\n            </button>\n            <button class=\"calendar-btn switcher\" type=\"button\" (click)=\"currentDecade()\">\n                <clr-icon shape=\"event\" [attr.title]=\"commonStrings.current\"></clr-icon>\n            </button>\n            <button class=\"calendar-btn switcher\" type=\"button\" (click)=\"nextDecade()\">\n                <clr-icon shape=\"angle\" dir=\"right\" [attr.title]=\"commonStrings.next\"></clr-icon>\n            </button>\n        </div>\n        <div class=\"years\">\n            <button\n                *ngFor=\"let year of yearRangeModel.yearRange\"\n                type=\"button\"\n                class=\"calendar-btn year\"\n                [attr.tabindex]=\"getTabIndex(year)\"\n                [class.is-selected]=\"year === calendarYear\"\n                (click)=\"changeYear(year)\">\n                {{year}}\n            </button>\n        </div>\n    `,\n  host: {\n    '[class.yearpicker]': 'true',\n  },\n})\nexport class ClrYearpicker implements AfterViewInit {\n  constructor(\n    private _dateNavigationService: DateNavigationService,\n    private _viewManagerService: ViewManagerService,\n    private _datepickerFocusService: DatepickerFocusService,\n    private _elRef: ElementRef,\n    public commonStrings: ClrCommonStrings\n  ) {\n    this.yearRangeModel = new YearRangeModel(this.calendarYear);\n    this._focusedYear = this.calendarYear;\n  }\n\n  /**\n   * YearRangeModel which is used to build the YearPicker view.\n   */\n  yearRangeModel: YearRangeModel;\n\n  /**\n   * Keeps track of the current focused year.\n   */\n  private _focusedYear: number;\n\n  /**\n   * Gets the year which the user is currently on.\n   */\n  get calendarYear(): number {\n    return this._dateNavigationService.displayedCalendar.year;\n  }\n\n  /**\n   * Increments the focus year by the value passed. Updates the YearRangeModel if the\n   * new value is not in the current decade.\n   */\n  private incrementFocusYearBy(value: number): void {\n    this._focusedYear = this._focusedYear + value;\n    if (!this.yearRangeModel.inRange(this._focusedYear)) {\n      if (value > 0) {\n        this.yearRangeModel = this.yearRangeModel.nextDecade();\n      } else {\n        this.yearRangeModel = this.yearRangeModel.previousDecade();\n      }\n    }\n    this._datepickerFocusService.focusCell(this._elRef);\n  }\n\n  /**\n   * Calls the DateNavigationService to update the year value of the calendar.\n   * Also changes the view to the daypicker.\n   */\n  changeYear(year: number): void {\n    this._dateNavigationService.changeYear(year);\n    this._viewManagerService.changeToDayView();\n  }\n\n  /**\n   * Updates the YearRangeModel to the previous decade.\n   */\n  previousDecade(): void {\n    this.yearRangeModel = this.yearRangeModel.previousDecade();\n    // Year in the yearpicker is not focused because while navigating to a different decade,\n    // you want the focus to remain on the decade switcher arrows.\n  }\n\n  /**\n   * Updates the YearRangeModel to the current decade.\n   */\n  currentDecade(): void {\n    if (!this.yearRangeModel.inRange(this._dateNavigationService.today.year)) {\n      this.yearRangeModel = this.yearRangeModel.currentDecade();\n    }\n    this._datepickerFocusService.focusCell(this._elRef);\n  }\n\n  /**\n   * Updates the YearRangeModel to the next decade.\n   */\n  nextDecade(): void {\n    this.yearRangeModel = this.yearRangeModel.nextDecade();\n    // Year in the yearpicker is not focused because while navigating to a different decade,\n    // you want the focus to remain on the decade switcher arrows.\n  }\n\n  /**\n   * Compares the year passed to the focused year and returns the tab index.\n   */\n  getTabIndex(year: number): number {\n    if (!this.yearRangeModel.inRange(this._focusedYear)) {\n      if (this.yearRangeModel.inRange(this.calendarYear)) {\n        this._focusedYear = this.calendarYear;\n      } else {\n        this._focusedYear = this.yearRangeModel.middleYear;\n      }\n    }\n    return this._focusedYear === year ? 0 : -1;\n  }\n\n  /**\n   * Handles the Keyboard arrow navigation for the yearpicker.\n   */\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    // NOTE: Didn't move this to the date navigation service because\n    // the logic is fairly simple and it didn't make sense for me\n    // to create extra observables just to move this logic to the service.\n    if (event) {\n      const keyCode: number = event.keyCode;\n      if (keyCode === UP_ARROW) {\n        event.preventDefault();\n        this.incrementFocusYearBy(-1);\n      } else if (keyCode === DOWN_ARROW) {\n        event.preventDefault();\n        this.incrementFocusYearBy(1);\n      } else if (keyCode === RIGHT_ARROW) {\n        event.preventDefault();\n        this.incrementFocusYearBy(5);\n      } else if (keyCode === LEFT_ARROW) {\n        event.preventDefault();\n        this.incrementFocusYearBy(-5);\n      }\n    }\n  }\n\n  /**\n   * Focuses on the current calendar year when the View is initialized.\n   */\n  ngAfterViewInit() {\n    this._datepickerFocusService.focusCell(this._elRef);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\nimport { ClrFocusTrapModule } from '../../utils/focus-trap/focus-trap.module';\nimport { ClrHostWrappingModule } from '../../utils/host-wrapping/host-wrapping.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrCalendar } from './calendar';\nimport { ClrDateContainer } from './date-container';\nimport { ClrDateInput } from './date-input';\nimport { ClrDatepickerViewManager } from './datepicker-view-manager';\nimport { ClrDay } from './day';\nimport { ClrDaypicker } from './daypicker';\nimport { ClrMonthpicker } from './monthpicker';\nimport { ClrYearpicker } from './yearpicker';\n\nexport const CLR_DATEPICKER_DIRECTIVES: Type<any>[] = [\n  ClrDay,\n  ClrDateContainer,\n  ClrDateInput,\n  ClrDatepickerViewManager,\n  ClrMonthpicker,\n  ClrYearpicker,\n  ClrDaypicker,\n  ClrCalendar,\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ClrHostWrappingModule,\n    ClrConditionalModule,\n    ClrIconModule,\n    ClrFocusTrapModule,\n    ClrCommonFormsModule,\n  ],\n  declarations: [CLR_DATEPICKER_DIRECTIVES],\n  exports: [CLR_DATEPICKER_DIRECTIVES],\n  entryComponents: [ClrDateContainer],\n})\nexport class ClrDatepickerModule {}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, OnDestroy, Optional } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { NgControl } from '@angular/forms';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ClrLabel } from '../common/label';\nimport { ControlClassService } from '../common/providers/control-class.service';\n\n@Component({\n  selector: 'clr-input-container',\n  template: `\n        <ng-content select=\"label\"></ng-content>\n        <label *ngIf=\"!label && addGrid()\"></label>\n        <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n            <div class=\"clr-input-wrapper\">\n                <ng-content select=\"[clrInput]\"></ng-content>\n                <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n            </div>\n            <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n            <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n        </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [IfErrorService, NgControlService, ControlIdService, ControlClassService],\n})\nexport class ClrInputContainer implements DynamicWrapper, OnDestroy {\n  private subscriptions: Subscription[] = [];\n  invalid = false;\n  _dynamic = false;\n  @ContentChild(ClrLabel, { static: false })\n  label: ClrLabel;\n  control: NgControl;\n\n  constructor(\n    private ifErrorService: IfErrorService,\n    @Optional() private layoutService: LayoutService,\n    private controlClassService: ControlClassService,\n    private ngControlService: NgControlService\n  ) {\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        this.invalid = invalid;\n      })\n    );\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        this.control = control;\n      })\n    );\n  }\n\n  controlClass() {\n    return this.controlClassService.controlClass(this.invalid, this.addGrid());\n  }\n\n  addGrid() {\n    if (this.layoutService && !this.layoutService.isVertical()) {\n      return true;\n    }\n    return false;\n  }\n\n  ngOnDestroy() {\n    if (this.subscriptions) {\n      this.subscriptions.map(sub => sub.unsubscribe());\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, Optional, ViewContainerRef, Renderer2, ElementRef, Injector, Self } from '@angular/core';\nimport { NgControl } from '@angular/forms';\n\nimport { ClrInputContainer } from './input-container';\nimport { WrappedFormControl } from '../common/wrapped-control';\n\n@Directive({ selector: '[clrInput]', host: { '[class.clr-input]': 'true' } })\nexport class ClrInput extends WrappedFormControl<ClrInputContainer> {\n  protected index = 1;\n\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    super(vcr, ClrInputContainer, injector, control, renderer, el);\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrInput } from './input';\nimport { ClrInputContainer } from './input-container';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ClrIconModule, ClrCommonFormsModule],\n  declarations: [ClrInput, ClrInputContainer],\n  exports: [ClrCommonFormsModule, ClrInput, ClrInputContainer],\n  entryComponents: [ClrInputContainer],\n})\nexport class ClrInputModule {}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, Inject, InjectionToken, Input, OnDestroy, Optional } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { ClrLabel } from '../common/label';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { FocusService } from '../common/providers/focus.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\nexport const TOGGLE_SERVICE = new InjectionToken<BehaviorSubject<boolean>>(undefined);\nexport function ToggleServiceFactory() {\n  return new BehaviorSubject<boolean>(false);\n}\nexport const TOGGLE_SERVICE_PROVIDER = { provide: TOGGLE_SERVICE, useFactory: ToggleServiceFactory };\n\n@Component({\n  selector: 'clr-password-container',\n  template: `\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label && addGrid()\"></label>\n    <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n      <div class=\"clr-input-wrapper\">\n        <div class=\"clr-input-group\" [class.clr-focus]=\"focus\">\n          <ng-content select=\"[clrPassword]\"></ng-content>\n          <button\n            *ngIf=\"clrToggle\"\n            (click)=\"toggle()\"\n            [disabled]=\"control?.disabled\"\n            class=\"clr-input-group-icon-action\"\n            type=\"button\">\n            <clr-icon\n            [attr.shape]=\"show ? 'eye-hide' : 'eye'\"\n            [attr.title]=\"show ? commonStrings.hide : commonStrings.show\"></clr-icon>\n          </button>\n        </div>\n        <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n      </div>\n      <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n      <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n    </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [\n    IfErrorService,\n    NgControlService,\n    ControlIdService,\n    ControlClassService,\n    FocusService,\n    TOGGLE_SERVICE_PROVIDER,\n  ],\n})\nexport class ClrPasswordContainer implements DynamicWrapper, OnDestroy {\n  private subscriptions: Subscription[] = [];\n  invalid = false;\n  control: NgControl;\n  _dynamic = false;\n  show = false;\n  focus = false;\n  private _toggle = true;\n\n  @Input('clrToggle')\n  set clrToggle(state: boolean) {\n    this._toggle = state;\n    if (!state) {\n      this.show = false;\n    }\n  }\n  get clrToggle() {\n    return this._toggle;\n  }\n  @ContentChild(ClrLabel, { static: false })\n  label: ClrLabel;\n\n  constructor(\n    private ifErrorService: IfErrorService,\n    @Optional() private layoutService: LayoutService,\n    private controlClassService: ControlClassService,\n    public focusService: FocusService,\n    private ngControlService: NgControlService,\n    @Inject(TOGGLE_SERVICE) private toggleService: BehaviorSubject<boolean>,\n    public commonStrings: ClrCommonStrings\n  ) {\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        this.invalid = invalid;\n      })\n    );\n    this.subscriptions.push(\n      this.focusService.focusChange.subscribe(state => {\n        this.focus = state;\n      })\n    );\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        this.control = control;\n      })\n    );\n  }\n\n  toggle() {\n    this.show = !this.show;\n    this.toggleService.next(this.show);\n  }\n\n  controlClass() {\n    return this.controlClassService.controlClass(this.invalid, this.addGrid());\n  }\n\n  addGrid() {\n    if (this.layoutService && !this.layoutService.isVertical()) {\n      return true;\n    }\n    return false;\n  }\n\n  ngOnDestroy() {\n    if (this.subscriptions) {\n      this.subscriptions.map(sub => sub.unsubscribe());\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  Directive,\n  ElementRef,\n  HostListener,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Renderer2,\n  Self,\n  ViewContainerRef,\n} from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { NgControl } from '@angular/forms';\n\nimport { ClrPasswordContainer, TOGGLE_SERVICE } from './password-container';\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { FocusService } from '../common/providers/focus.service';\n\n@Directive({ selector: '[clrPassword]', host: { '[class.clr-input]': 'true' } })\nexport class ClrPassword extends WrappedFormControl<ClrPasswordContainer> implements OnInit, OnDestroy {\n  protected index = 1;\n\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef,\n    @Optional() private focusService: FocusService,\n    @Optional()\n    @Inject(TOGGLE_SERVICE)\n    private toggleService: BehaviorSubject<boolean>\n  ) {\n    super(vcr, ClrPasswordContainer, injector, control, renderer, el);\n\n    if (!this.focusService) {\n      throw new Error('clrPassword requires being wrapped in <clr-password-container>');\n    }\n\n    this.subscriptions.push(\n      this.toggleService.subscribe(toggle => {\n        renderer.setProperty(el.nativeElement, 'type', toggle ? 'text' : 'password');\n      })\n    );\n  }\n\n  @HostListener('focus')\n  triggerFocus() {\n    if (this.focusService) {\n      this.focusService.focused = true;\n    }\n  }\n\n  @HostListener('blur')\n  triggerValidation() {\n    super.triggerValidation();\n    if (this.focusService) {\n      this.focusService.focused = false;\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrPassword } from './password';\nimport { ClrPasswordContainer } from './password-container';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ClrIconModule, ClrCommonFormsModule],\n  declarations: [ClrPassword, ClrPasswordContainer],\n  exports: [ClrCommonFormsModule, ClrPassword, ClrPasswordContainer],\n  entryComponents: [ClrPasswordContainer],\n})\nexport class ClrPasswordModule {}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, OnInit } from '@angular/core';\n\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ClrLabel } from '../common/label';\n\n@Component({\n  selector: 'clr-radio-wrapper',\n  template: `\n    <ng-content select=\"[clrRadio]\"></ng-content>\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label\"></label>\n  `,\n  host: {\n    '[class.clr-radio-wrapper]': 'true',\n  },\n  providers: [ControlIdService],\n})\nexport class ClrRadioWrapper implements DynamicWrapper, OnInit {\n  // We need both _dynamic for HostWrapper and ContentChild(ClrLabel) in cases where\n  // the user puts a radio inside a wrapper without a label, host wrapping doesn't apply\n  // but we'd still need to insert a label\n  _dynamic = false;\n  @ContentChild(ClrLabel, { static: true })\n  label: ClrLabel;\n\n  ngOnInit() {\n    if (this.label) {\n      this.label.disableGrid();\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, ElementRef, Injector, Optional, Renderer2, Self, ViewContainerRef } from '@angular/core';\nimport { NgControl } from '@angular/forms';\n\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { ClrRadioWrapper } from '../radio/radio-wrapper';\n\n@Directive({ selector: '[clrRadio]' })\nexport class ClrRadio extends WrappedFormControl<ClrRadioWrapper> {\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    super(vcr, ClrRadioWrapper, injector, control, renderer, el);\n  }\n}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, Input, OnDestroy, Optional } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { Subscription } from 'rxjs';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { ClrLabel } from '../common/label';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\n\n@Component({\n  selector: 'clr-radio-container',\n  template: `\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label && addGrid()\"></label>\n    <div class=\"clr-control-container\" [class.clr-control-inline]=\"clrInline\" [ngClass]=\"controlClass()\">\n      <ng-content select=\"clr-radio-wrapper\"></ng-content>\n      <div class=\"clr-subtext-wrapper\">\n        <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n        <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n        <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n      </div>\n    </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [NgControlService, ControlClassService, IfErrorService],\n})\nexport class ClrRadioContainer implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n  invalid = false;\n  @ContentChild(ClrLabel, { static: false })\n  label: ClrLabel;\n  private inline = false;\n  control: NgControl;\n\n  /*\n   * Here we want to support the following cases\n   * clrInline - true by presence\n   * clrInline=\"true|false\" - unless it is explicitly false, strings are considered true\n   * [clrInline]=\"true|false\" - expect a boolean\n   */\n  @Input()\n  set clrInline(value: boolean | string) {\n    if (typeof value === 'string') {\n      this.inline = value === 'false' ? false : true;\n    } else {\n      this.inline = !!value;\n    }\n  }\n  get clrInline() {\n    return this.inline;\n  }\n\n  constructor(\n    private ifErrorService: IfErrorService,\n    @Optional() private layoutService: LayoutService,\n    private controlClassService: ControlClassService,\n    private ngControlService: NgControlService\n  ) {\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        this.invalid = invalid;\n      })\n    );\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        this.control = control;\n      })\n    );\n  }\n\n  controlClass() {\n    return this.controlClassService.controlClass(this.invalid, this.addGrid(), this.inline ? 'clr-control-inline' : '');\n  }\n\n  addGrid() {\n    if (this.layoutService && !this.layoutService.isVertical()) {\n      return true;\n    }\n    return false;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.map(sub => sub.unsubscribe());\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ClrIconModule } from '../../icon/icon.module';\n\nimport { ClrHostWrappingModule } from '../../utils/host-wrapping/host-wrapping.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrRadio } from './radio';\nimport { ClrRadioContainer } from './radio-container';\nimport { ClrRadioWrapper } from './radio-wrapper';\n\n@NgModule({\n  imports: [CommonModule, ClrCommonFormsModule, ClrHostWrappingModule, ClrIconModule],\n  declarations: [ClrRadio, ClrRadioContainer, ClrRadioWrapper],\n  exports: [ClrCommonFormsModule, ClrRadio, ClrRadioContainer, ClrRadioWrapper],\n  entryComponents: [ClrRadioWrapper],\n})\nexport class ClrRadioModule {}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, OnDestroy, Optional } from '@angular/core';\nimport { SelectMultipleControlValueAccessor, NgControl } from '@angular/forms';\nimport { Subscription } from 'rxjs';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ClrLabel } from '../common/label';\nimport { ControlClassService } from '../common/providers/control-class.service';\n\n@Component({\n  selector: 'clr-select-container',\n  template: `    \n        <ng-content select=\"label\"></ng-content>\n        <label *ngIf=\"!label && addGrid()\"></label>\n        <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n            <div [ngClass]=\"wrapperClass()\">\n                <ng-content select=\"[clrSelect]\"></ng-content>\n                <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n            </div>\n            <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n            <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n        </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [IfErrorService, NgControlService, ControlIdService, ControlClassService],\n})\nexport class ClrSelectContainer implements DynamicWrapper, OnDestroy {\n  private subscriptions: Subscription[] = [];\n  invalid = false;\n  _dynamic = false;\n  @ContentChild(ClrLabel, { static: false })\n  label: ClrLabel;\n  @ContentChild(SelectMultipleControlValueAccessor, { static: false })\n  multiple: SelectMultipleControlValueAccessor;\n  private multi = false;\n  control: NgControl;\n\n  constructor(\n    private ifErrorService: IfErrorService,\n    @Optional() private layoutService: LayoutService,\n    private controlClassService: ControlClassService,\n    private ngControlService: NgControlService\n  ) {\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        this.invalid = invalid;\n      })\n    );\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        if (control) {\n          this.multi = control.valueAccessor instanceof SelectMultipleControlValueAccessor;\n          this.control = control;\n        }\n      })\n    );\n  }\n\n  wrapperClass() {\n    return this.multi ? 'clr-multiselect-wrapper' : 'clr-select-wrapper';\n  }\n\n  controlClass() {\n    return this.controlClassService.controlClass(this.invalid, this.addGrid());\n  }\n\n  addGrid() {\n    if (this.layoutService && !this.layoutService.isVertical()) {\n      return true;\n    }\n    return false;\n  }\n\n  ngOnDestroy() {\n    if (this.subscriptions) {\n      this.subscriptions.map(sub => sub.unsubscribe());\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, ViewContainerRef, Renderer2, ElementRef, Injector, Optional, Self } from '@angular/core';\n\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { ClrSelectContainer } from './select-container';\nimport { NgControl } from '@angular/forms';\n\n@Directive({ selector: '[clrSelect]', host: { '[class.clr-select]': 'true' } })\nexport class ClrSelect extends WrappedFormControl<ClrSelectContainer> {\n  protected index = 1;\n\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    super(vcr, ClrSelectContainer, injector, control, renderer, el);\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrSelect } from './select';\nimport { ClrSelectContainer } from './select-container';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ClrIconModule, ClrCommonFormsModule],\n  declarations: [ClrSelect, ClrSelectContainer],\n  exports: [ClrCommonFormsModule, ClrSelect, ClrSelectContainer],\n  entryComponents: [ClrSelectContainer],\n})\nexport class ClrSelectModule {}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, OnDestroy, Optional } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { NgControl } from '@angular/forms';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ClrLabel } from '../common/label';\nimport { ControlClassService } from '../common/providers/control-class.service';\n\n@Component({\n  selector: 'clr-textarea-container',\n  template: `\n        <ng-content select=\"label\"></ng-content>\n        <label *ngIf=\"!label && addGrid()\"></label>\n        <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n            <div class=\"clr-textarea-wrapper\">\n                <ng-content select=\"[clrTextarea]\"></ng-content>\n                <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n            </div>\n            <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n            <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n        </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [IfErrorService, NgControlService, ControlIdService, ControlClassService],\n})\nexport class ClrTextareaContainer implements DynamicWrapper, OnDestroy {\n  private subscriptions: Subscription[] = [];\n  invalid = false;\n  _dynamic = false;\n  @ContentChild(ClrLabel, { static: false })\n  label: ClrLabel;\n  control: NgControl;\n\n  constructor(\n    private ifErrorService: IfErrorService,\n    @Optional() private layoutService: LayoutService,\n    private controlClassService: ControlClassService,\n    private ngControlService: NgControlService\n  ) {\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        this.invalid = invalid;\n      })\n    );\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        this.control = control;\n      })\n    );\n  }\n\n  controlClass() {\n    return this.controlClassService.controlClass(this.invalid, this.addGrid());\n  }\n\n  addGrid() {\n    if (this.layoutService && !this.layoutService.isVertical()) {\n      return true;\n    }\n    return false;\n  }\n\n  ngOnDestroy() {\n    if (this.subscriptions) {\n      this.subscriptions.map(sub => sub.unsubscribe());\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, ViewContainerRef, Renderer2, ElementRef, Injector, Optional, Self } from '@angular/core';\nimport { NgControl } from '@angular/forms';\n\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { ClrTextareaContainer } from './textarea-container';\n\n@Directive({ selector: '[clrTextarea]', host: { '[class.clr-textarea]': 'true' } })\nexport class ClrTextarea extends WrappedFormControl<ClrTextareaContainer> {\n  protected index = 1;\n\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    super(vcr, ClrTextareaContainer, injector, control, renderer, el);\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrTextarea } from './textarea';\nimport { ClrTextareaContainer } from './textarea-container';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ClrIconModule, ClrCommonFormsModule],\n  declarations: [ClrTextarea, ClrTextareaContainer],\n  exports: [ClrCommonFormsModule, ClrTextarea, ClrTextareaContainer],\n  entryComponents: [ClrTextareaContainer],\n})\nexport class ClrTextareaModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ClrCheckboxModule } from './checkbox/checkbox.module';\nimport { ClrCommonFormsModule } from './common/common.module';\nimport { ClrDatepickerModule } from './datepicker/datepicker.module';\nimport { ClrInputModule } from './input/input.module';\nimport { ClrPasswordModule } from './password/password.module';\nimport { ClrRadioModule } from './radio/radio.module';\nimport { ClrSelectModule } from './select/select.module';\nimport { ClrTextareaModule } from './textarea/textarea.module';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [\n    ClrCommonFormsModule,\n    ClrCheckboxModule,\n    ClrDatepickerModule,\n    ClrInputModule,\n    ClrPasswordModule,\n    ClrRadioModule,\n    ClrSelectModule,\n    ClrTextareaModule,\n  ],\n})\nexport class ClrFormsModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrLoading } from './loading';\n\nexport const CLR_LOADING_DIRECTIVES: Type<any>[] = [ClrLoading];\n\n@NgModule({ imports: [CommonModule], declarations: [CLR_LOADING_DIRECTIVES], exports: [CLR_LOADING_DIRECTIVES] })\nexport class ClrLoadingModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, EventEmitter, HostListener, Input, Output } from '@angular/core';\n\n@Directive({ selector: '[clrOutsideClick]' })\nexport class OutsideClick {\n  constructor(private el: ElementRef) {}\n\n  @Input('clrStrict') strict = false;\n\n  @Output('clrOutsideClick') outsideClick = new EventEmitter<any>(false);\n\n  @HostListener('document:click', ['$event'])\n  documentClick(event: MouseEvent) {\n    const target = event.target; // Get the element in the DOM on which the mouse was clicked\n    const host = this.el.nativeElement; // Get the current actionMenu native HTML element\n\n    if (target === host) {\n      return;\n    }\n    if (!this.strict && host.contains(target)) {\n      return;\n    }\n    this.outsideClick.emit(event);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Type } from '@angular/core';\nimport { OutsideClick } from './outside-click';\n\nexport * from './outside-click';\n\nexport const OUSTIDE_CLICK_DIRECTIVES: Type<any>[] = [OutsideClick];\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OUSTIDE_CLICK_DIRECTIVES } from './index';\n\n@NgModule({ imports: [CommonModule], declarations: [OUSTIDE_CLICK_DIRECTIVES], exports: [OUSTIDE_CLICK_DIRECTIVES] })\nexport class ClrOutsideClickModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/*\n * If we someday want to be able to render the datagrid in a webworker,\n * this is where we would test if we're in headless mode. Right now it's not testing anything, but any access\n * to native DOM elements' methods and properties in the Datagrid happens here.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class DomAdapter {\n  userDefinedWidth(element: HTMLElement): number {\n    element.classList.add('datagrid-cell-width-zero');\n    const userDefinedWidth = this.clientRect(element).width;\n    element.classList.remove('datagrid-cell-width-zero');\n    return userDefinedWidth;\n  }\n\n  scrollBarWidth(element: any) {\n    return element.offsetWidth - element.clientWidth;\n  }\n\n  scrollWidth(element: any) {\n    return element.scrollWidth || 0;\n  }\n\n  computedHeight(element: any): number {\n    return parseInt(getComputedStyle(element).getPropertyValue('height'), 10);\n  }\n\n  clientRect(element: any): ClientRect {\n    const elementClientRect = element.getBoundingClientRect();\n    return {\n      top: parseInt(elementClientRect.top, 10),\n      bottom: parseInt(elementClientRect.bottom, 10),\n      left: parseInt(elementClientRect.left, 10),\n      right: parseInt(elementClientRect.right, 10),\n      width: parseInt(elementClientRect.width, 10),\n      height: parseInt(elementClientRect.height, 10),\n    };\n  }\n\n  minWidth(element: any): number {\n    return parseInt(getComputedStyle(element).getPropertyValue('min-width'), 10);\n  }\n\n  focus(element: any): void {\n    element.focus();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { DragEventInterface, DragPointPosition } from './interfaces/drag-event.interface';\n\n// This class is used to convert an internal event\n// to an external event to be emitted.\nexport class ClrDragEvent<T> {\n  public dragPosition: DragPointPosition;\n  public group: string | string[];\n  public dragDataTransfer: T;\n  public dropPointPosition: { pageX: number; pageY: number };\n\n  constructor(dragEvent: DragEventInterface<T>) {\n    this.dragPosition = dragEvent.dragPosition;\n    this.group = dragEvent.group;\n    this.dragDataTransfer = dragEvent.dragDataTransfer;\n    this.dropPointPosition = dragEvent.dropPointPosition;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport enum DragEventType {\n  DRAG_START,\n  DRAG_MOVE,\n  DRAG_END,\n  DRAG_ENTER,\n  DRAG_LEAVE,\n  DROP,\n}\n\nexport interface DragPointPosition {\n  pageX: number;\n  pageY: number;\n  moveX: number;\n  moveY: number;\n}\n\nexport interface DragEventInterface<T> {\n  type: DragEventType;\n  group?: string | string[];\n  ghostElement?: any;\n  dragPosition: DragPointPosition;\n  dragDataTransfer?: T;\n  // For default ghosts, this dropPointPosition denotes the center point of the ghost element.\n  // This center point is used to determine whether the ghost is over droppable elements or not.\n  dropPointPosition?: { pageX: number; pageY: number };\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nimport { DragEventInterface, DragEventType } from '../interfaces/drag-event.interface';\n\n@Injectable({ providedIn: 'root' })\nexport class DragAndDropEventBusService<T> {\n  private dragStart: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n  private dragMove: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n  private dragEnd: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n  private drop: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n\n  get dragStarted(): Observable<DragEventInterface<T>> {\n    return this.dragStart.asObservable();\n  }\n\n  get dragMoved(): Observable<DragEventInterface<T>> {\n    return this.dragMove.asObservable();\n  }\n\n  get dragEnded(): Observable<DragEventInterface<T>> {\n    return this.dragEnd.asObservable();\n  }\n\n  get dropped(): Observable<DragEventInterface<T>> {\n    return this.drop.asObservable();\n  }\n\n  broadcast(event: DragEventInterface<T>): void {\n    switch (event.type) {\n      case DragEventType.DRAG_START:\n        this.dragStart.next(event);\n        break;\n      case DragEventType.DRAG_MOVE:\n        this.dragMove.next(event);\n        break;\n      case DragEventType.DRAG_END:\n        this.dragEnd.next(event);\n        break;\n      case DragEventType.DROP:\n        this.drop.next(event);\n        break;\n      default:\n        break;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, NgZone, Renderer2 } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nimport { DragEventInterface, DragEventType } from '../interfaces/drag-event.interface';\nimport { DragAndDropEventBusService } from './drag-and-drop-event-bus.service';\n\n@Injectable()\nexport class DragEventListenerService<T> {\n  private draggableEl: any;\n\n  // contains the starting events such as mousedown and touchstart\n  private listeners: (() => void)[];\n  // contains the nested events that happens after/inside the starting events\n  // such as selectstart, mousemove/touchmove, mouseup/touchend\n  private nestedListeners: (() => void)[];\n\n  private dragStart: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n  private dragMove: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n  private dragEnd: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n\n  private hasDragStarted: boolean = false;\n\n  get dragStarted(): Observable<DragEventInterface<T>> {\n    return this.dragStart.asObservable();\n  }\n\n  get dragMoved(): Observable<DragEventInterface<T>> {\n    return this.dragMove.asObservable();\n  }\n\n  get dragEnded(): Observable<DragEventInterface<T>> {\n    return this.dragEnd.asObservable();\n  }\n\n  constructor(private ngZone: NgZone, private renderer: Renderer2, private eventBus: DragAndDropEventBusService<T>) {}\n\n  private initialPosition: { pageX: number; pageY: number };\n\n  // Draggable component sets these properties:\n  public dragDataTransfer?: T;\n  public group?: string | string[];\n\n  // DraggableGhost component sets these properties:\n  public ghostElement?: any;\n  public dropPointPosition?: { pageX: number; pageY: number };\n\n  public attachDragListeners(draggableEl: Node) {\n    this.draggableEl = draggableEl;\n    this.listeners = [\n      this.customDragEvent(this.draggableEl, 'mousedown', 'mousemove', 'mouseup'),\n      this.customDragEvent(this.draggableEl, 'touchstart', 'touchmove', 'touchend'),\n    ];\n  }\n\n  public detachDragListeners() {\n    if (this.listeners) {\n      this.listeners.map(event => event());\n    }\n\n    // In most cases, once users start dragging with mousedown/touchstart events,\n    // they will end dragging at one point with mouseup/touchend.\n    // However, there might be a few cases where mousedown/touchstart events get registered,\n    // but the draggable element gets removed before user ends dragging.\n    // In that case, we need to remove the attached listeners that happened during the mousedown/touchstart events.\n    if (this.nestedListeners) {\n      this.nestedListeners.map(event => event());\n    }\n  }\n\n  private getNativeEventObject(event: MouseEvent | TouchEvent): any {\n    if ((<TouchEvent>event).hasOwnProperty('changedTouches')) {\n      return (<TouchEvent>event).changedTouches[0];\n    } else {\n      return event;\n    }\n  }\n\n  private customDragEvent(element: Node, startOnEvent: string, moveOnEvent: string, endOnEvent: string): () => void {\n    return this.renderer.listen(element, startOnEvent, (startEvent: MouseEvent | TouchEvent) => {\n      // save the initial point to initialPosition\n      // this will be used to calculate how far the draggable has been dragged from its initial position\n      this.initialPosition = {\n        pageX: this.getNativeEventObject(startEvent).pageX,\n        pageY: this.getNativeEventObject(startEvent).pageY,\n      };\n\n      // Initialize nested listeners' property with a new empty array;\n      this.nestedListeners = [];\n\n      // This is needed to disable selection during dragging (especially in EDGE/IE11).\n      this.nestedListeners.push(\n        this.renderer.listen('document', 'selectstart', (selectEvent: Event) => {\n          selectEvent.preventDefault();\n          selectEvent.stopImmediatePropagation();\n        })\n      );\n\n      // Listen to mousemove/touchmove events outside of angular zone.\n      this.nestedListeners.push(\n        this.ngZone.runOutsideAngular(() => {\n          return this.renderer.listen('document', moveOnEvent, (moveEvent: MouseEvent | TouchEvent) => {\n            // Event.stopImmediatePropagation() is needed here to prevent nested draggables from getting dragged\n            // altogether. We shouldn't use Event.stopPropagation() here as we are listening to the events\n            // on the global element level.\n\n            // With Event.stopImmediatePropagation(), it registers the events sent from the inner most draggable\n            // first. Then immediately after that, it stops listening to the same type of events on the same\n            // element. So this will help us to not register the same events that would come from the parent\n            // level draggables eventually.\n\n            moveEvent.stopImmediatePropagation();\n\n            if (!this.hasDragStarted) {\n              this.hasDragStarted = true;\n              // Fire \"dragstart\"\n              this.broadcast(moveEvent, DragEventType.DRAG_START);\n            } else {\n              // Fire \"dragmove\"\n              this.broadcast(moveEvent, DragEventType.DRAG_MOVE);\n            }\n          });\n        })\n      );\n\n      // Listen to mouseup/touchend events.\n      this.nestedListeners.push(\n        this.renderer.listen('document', endOnEvent, (endEvent: MouseEvent | TouchEvent) => {\n          if (this.hasDragStarted) {\n            // Fire \"dragend\" only if dragstart is registered\n            this.hasDragStarted = false;\n            this.broadcast(endEvent, DragEventType.DRAG_END);\n          }\n\n          // We must remove the the nested listeners every time drag completes.\n          if (this.nestedListeners) {\n            this.nestedListeners.map(event => event());\n          }\n        })\n      );\n    });\n  }\n\n  private broadcast(event: MouseEvent | TouchEvent, eventType: DragEventType): void {\n    const dragEvent: DragEventInterface<T> = this.generateDragEvent(event, eventType);\n\n    switch (dragEvent.type) {\n      case DragEventType.DRAG_START:\n        this.dragStart.next(dragEvent);\n        break;\n      case DragEventType.DRAG_MOVE:\n        this.dragMove.next(dragEvent);\n        break;\n      case DragEventType.DRAG_END:\n        this.dragEnd.next(dragEvent);\n        break;\n      default:\n        break;\n    }\n\n    // The following properties are set after they are broadcasted to the DraggableGhost component.\n    dragEvent.ghostElement = this.ghostElement;\n    dragEvent.dropPointPosition = this.dropPointPosition;\n\n    this.eventBus.broadcast(dragEvent);\n  }\n\n  private generateDragEvent(event: MouseEvent | TouchEvent, eventType: DragEventType): DragEventInterface<T> {\n    const nativeEvent: any = this.getNativeEventObject(event);\n\n    return {\n      type: eventType,\n      dragPosition: {\n        pageX: nativeEvent.pageX,\n        pageY: nativeEvent.pageY,\n        moveX: nativeEvent.pageX - this.initialPosition.pageX,\n        moveY: nativeEvent.pageY - this.initialPosition.pageY,\n      },\n      group: this.group,\n      dragDataTransfer: this.dragDataTransfer,\n      ghostElement: this.ghostElement,\n    };\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { DomAdapter } from '../../dom-adapter/dom-adapter';\nimport { DragEventInterface } from '../interfaces/drag-event.interface';\n\n// This service is used to capture the state of clrDraggable element\n// at a certain event and passes it to clrDraggableGhost component.\n@Injectable()\nexport class DraggableSnapshotService<T> {\n  constructor(private domAdapter: DomAdapter) {}\n\n  private draggableElClientRect: ClientRect;\n  private snapshotDragEvent: DragEventInterface<T>;\n\n  public capture(el: Node, event: DragEventInterface<T>): void {\n    this.draggableElClientRect = this.domAdapter.clientRect(el);\n    this.snapshotDragEvent = event;\n  }\n  public discard(): void {\n    delete this.draggableElClientRect;\n    delete this.snapshotDragEvent;\n  }\n  get hasDraggableState(): boolean {\n    return !!this.snapshotDragEvent && !!this.draggableElClientRect;\n  }\n  get clientRect(): ClientRect {\n    return this.draggableElClientRect;\n  }\n  get dragEvent(): DragEventInterface<T> {\n    return this.snapshotDragEvent;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { Component, ElementRef, HostBinding, NgZone, OnDestroy, Optional, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DragEventInterface } from './interfaces/drag-event.interface';\nimport { DragEventListenerService } from './providers/drag-event-listener.service';\nimport { DraggableSnapshotService } from './providers/draggable-snapshot.service';\n\ntype PagePosition = {\n  pageX: number;\n  pageY: number;\n};\ntype OffsetPosition = {\n  top: number;\n  left: number;\n};\n\n@Component({\n  selector: 'clr-draggable-ghost',\n  template: `<ng-content></ng-content>`,\n  animations: [\n    trigger('leaveAnimation', [\n      transition(':leave', [\n        style({ left: '*', top: '*' }),\n        animate('0.2s ease-in-out', style({ top: '{{top}}', left: '{{left}}' })),\n      ]),\n    ]),\n  ],\n})\nexport class ClrDraggableGhost<T> implements OnDestroy {\n  private draggableGhostEl: any;\n\n  private subscriptions: Subscription[] = [];\n\n  @HostBinding('@leaveAnimation') leaveAnimConfig = { value: 0, params: { top: '0px', left: '0px' } };\n\n  constructor(\n    private el: ElementRef,\n    @Optional() private dragEventListener: DragEventListenerService<T>,\n    @Optional() private draggableSnapshot: DraggableSnapshotService<T>,\n    private renderer: Renderer2,\n    private ngZone: NgZone\n  ) {\n    if (!this.dragEventListener || !this.draggableSnapshot) {\n      throw new Error('The clr-draggable-ghost component can only be used inside of a clrDraggable directive.');\n    }\n\n    this.draggableGhostEl = this.el.nativeElement;\n\n    // Need to use Renderer2 as it runs outside of NgZone\n    this.renderer.addClass(this.draggableGhostEl, 'draggable-ghost');\n\n    // Register the ghost element in DragEventListener to pass in a ClrDragEvent.\n    this.dragEventListener.ghostElement = this.draggableGhostEl;\n\n    // Default ghost size gets the size of ClrDraggable element.\n    this.setDefaultGhostSize(this.draggableGhostEl);\n\n    const offset: OffsetPosition = {\n      top: this.draggableSnapshot.hasDraggableState\n        ? this.draggableSnapshot.dragEvent.dragPosition.pageY - this.draggableSnapshot.clientRect.top\n        : 0,\n      left: this.draggableSnapshot.hasDraggableState\n        ? this.draggableSnapshot.dragEvent.dragPosition.pageX - this.draggableSnapshot.clientRect.left\n        : 0,\n    };\n\n    let isAnimationConfigured: boolean = false;\n\n    this.subscriptions.push(\n      this.dragEventListener.dragMoved.subscribe((event: DragEventInterface<T>) => {\n        // On the first drag move event, we configure the animation as it's dependent on the first drag event.\n        if (!isAnimationConfigured) {\n          if (this.draggableSnapshot.hasDraggableState) {\n            this.animateToOnLeave(\n              `${this.draggableSnapshot.clientRect.top}px`,\n              `${this.draggableSnapshot.clientRect.left}px`\n            );\n          } else {\n            this.animateToOnLeave(`${event.dragPosition.pageY}px`, `${event.dragPosition.pageX}px`);\n          }\n          isAnimationConfigured = true;\n        }\n\n        // Position the draggable ghost.\n        const topLeftPosition: PagePosition = this.findTopLeftPosition(event.dragPosition, offset);\n        this.setPositionStyle(this.draggableGhostEl, topLeftPosition.pageX, topLeftPosition.pageY);\n        this.dragEventListener.dropPointPosition = this.findDropPointPosition(topLeftPosition);\n      })\n    );\n  }\n\n  private setDefaultGhostSize(el: Node): void {\n    if (this.draggableSnapshot.hasDraggableState) {\n      this.setSizeStyle(el, this.draggableSnapshot.clientRect.width, this.draggableSnapshot.clientRect.height);\n    }\n  }\n\n  private animateToOnLeave(top: string, left: string): void {\n    this.ngZone.run(() => {\n      this.leaveAnimConfig = { value: 0, params: { top: top, left: left } };\n    });\n  }\n\n  private findTopLeftPosition(dragPosition: PagePosition, offset: OffsetPosition): PagePosition {\n    return { pageX: dragPosition.pageX - offset.left, pageY: dragPosition.pageY - offset.top };\n  }\n\n  private findDropPointPosition(topLeftPosition: PagePosition): PagePosition {\n    if (this.draggableSnapshot.hasDraggableState) {\n      return {\n        pageX: topLeftPosition.pageX + this.draggableSnapshot.clientRect.width / 2,\n        pageY: topLeftPosition.pageY + this.draggableSnapshot.clientRect.height / 2,\n      };\n    } else {\n      return topLeftPosition;\n    }\n  }\n\n  private setSizeStyle(el: Node, width: number, height: number): void {\n    this.renderer.setStyle(el, 'width', `${width}px`);\n    this.renderer.setStyle(el, 'height', `${height}px`);\n  }\n\n  private setPositionStyle(el: Node, left: number, top: number): void {\n    this.renderer.setStyle(el, 'left', `${left}px`);\n    this.renderer.setStyle(el, 'top', `${top}px`);\n    this.renderer.setStyle(el, 'visibility', 'visible');\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, OnDestroy, Optional, SkipSelf, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DragEventInterface } from './interfaces/drag-event.interface';\nimport { DragEventListenerService } from './providers/drag-event-listener.service';\n\n// This structural directive will be used mainly together with `clr-draggable-ghost` directive inside of clrDraggable\n// directive. The directive is responsible for instantiating `clr-draggable-ghost` directive only during dragging so\n// that Angular Change Detection is prevented from running if a component or directive is placed inside of the\n// `clr-draggable-ghost` directive.\n\n@Directive({ selector: '[clrIfDragged]' })\nexport class ClrIfDragged<T> implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n  constructor(\n    private template: TemplateRef<any>,\n    @Optional()\n    @SkipSelf()\n    private container: ViewContainerRef,\n    @Optional() private dragEventListener: DragEventListenerService<T>\n  ) {\n    if (!this.dragEventListener || !this.container) {\n      throw new Error('The *clrIfDragged directive can only be used inside of a clrDraggable directive.');\n    }\n\n    this.subscriptions.push(\n      this.dragEventListener.dragStarted.subscribe((event: DragEventInterface<T>) => {\n        this.container.createEmbeddedView(this.template);\n      })\n    );\n    this.subscriptions.push(\n      this.dragEventListener.dragEnded.subscribe((event: DragEventInterface<T>) => {\n        this.container.clear();\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, Renderer2 } from '@angular/core';\n\nimport { DragEventListenerService } from './drag-event-listener.service';\n\n// This provider registers the drag handle element.\n// When it registers a element as a drag handle, it attaches that element to the listeners from ClrDragEventListener.\n// Also, it adds the \"drag-handle\" css class to the registered element through Renderer.\n@Injectable()\nexport class DragHandleRegistrarService<T> {\n  private _customHandleEl: any;\n  private _defaultHandleEl: any;\n\n  get defaultHandleEl() {\n    return this._defaultHandleEl;\n  }\n\n  set defaultHandleEl(el: Node) {\n    this._defaultHandleEl = el; // defaultHandleEl will be usually the clrDraggable element.\n\n    // If the customHandleEl has been registered,\n    // don't make the defaultHandleEl the drag handle yet until the customHandleEl is unregistered.\n    if (!this._customHandleEl) {\n      this.makeElementHandle(this._defaultHandleEl);\n    }\n  }\n\n  constructor(private dragEventListener: DragEventListenerService<T>, private renderer: Renderer2) {}\n\n  private makeElementHandle(el: Node) {\n    if (this._defaultHandleEl && this._defaultHandleEl !== el) {\n      // Before making an element the custom handle element,\n      // we should remove the existing drag-handle class from the draggable element.\n      this.renderer.removeClass(this._defaultHandleEl, 'drag-handle');\n    }\n    this.dragEventListener.attachDragListeners(el);\n    this.renderer.addClass(el, 'drag-handle');\n  }\n\n  get customHandleEl() {\n    return this._customHandleEl;\n  }\n\n  public registerCustomHandle(el: Node) {\n    this.dragEventListener.detachDragListeners(); // removes the existing listeners\n    this._customHandleEl = el;\n    this.makeElementHandle(this._customHandleEl);\n  }\n\n  public unregisterCustomHandle() {\n    this.dragEventListener.detachDragListeners(); // removes the existing listeners\n    this.renderer.removeClass(this._customHandleEl, 'drag-handle');\n    delete this._customHandleEl;\n    // if default handle is set, make that handle\n    if (this._defaultHandleEl) {\n      this.makeElementHandle(this._defaultHandleEl);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, Renderer2 } from '@angular/core';\n\n// This service class adds and removes the \"in-drag\" class to the document body element\n// through its public enter() and exit() methods.\n@Injectable()\nexport class GlobalDragModeService {\n  constructor(private renderer: Renderer2) {}\n\n  enter(): void {\n    this.renderer.addClass(document.body, 'in-drag');\n  }\n\n  exit(): void {\n    this.renderer.removeClass(document.body, 'in-drag');\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterContentInit,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  ContentChild,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  OnDestroy,\n  Output,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Input } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DomAdapter } from '../../dom-adapter/dom-adapter';\nimport { ClrDragEvent } from '../drag-event';\nimport { ClrDraggableGhost } from '../draggable-ghost';\nimport { ClrIfDragged } from '../if-dragged';\nimport { DragEventInterface } from '../interfaces/drag-event.interface';\nimport { DragEventListenerService } from '../providers/drag-event-listener.service';\nimport { DragHandleRegistrarService } from '../providers/drag-handle-registrar.service';\nimport { DraggableSnapshotService } from '../providers/draggable-snapshot.service';\nimport { GlobalDragModeService } from '../providers/global-drag-mode.service';\n\n@Directive({\n  selector: '[clrDraggable]',\n  providers: [\n    DragEventListenerService,\n    DragHandleRegistrarService,\n    DraggableSnapshotService,\n    GlobalDragModeService,\n    DomAdapter,\n  ],\n  host: { '[class.draggable]': 'true', '[class.being-dragged]': 'dragOn' },\n})\nexport class ClrDraggable<T> implements AfterContentInit, OnDestroy {\n  private draggableEl: any;\n  private subscriptions: Subscription[] = [];\n  private componentFactory: ComponentFactory<ClrDraggableGhost<T>>;\n  public dragOn: boolean = false;\n\n  constructor(\n    private el: ElementRef,\n    private dragEventListener: DragEventListenerService<T>,\n    private dragHandleRegistrar: DragHandleRegistrarService<T>,\n    private viewContainerRef: ViewContainerRef,\n    private cfr: ComponentFactoryResolver,\n    private injector: Injector,\n    private draggableSnapshot: DraggableSnapshotService<T>,\n    private globalDragMode: GlobalDragModeService\n  ) {\n    this.draggableEl = this.el.nativeElement;\n    this.componentFactory = this.cfr.resolveComponentFactory<ClrDraggableGhost<T>>(ClrDraggableGhost);\n  }\n\n  @ContentChild(ClrIfDragged, { static: false })\n  customGhost: ClrIfDragged<T>;\n\n  @Input('clrDraggable')\n  set dataTransfer(value: T) {\n    this.dragEventListener.dragDataTransfer = value;\n  }\n\n  @Input('clrGroup')\n  set group(value: string | string[]) {\n    this.dragEventListener.group = value;\n  }\n\n  private createDefaultGhost(event: DragEventInterface<T>) {\n    this.draggableSnapshot.capture(this.draggableEl, event);\n    // NOTE: The default ghost element will appear\n    // next to the clrDraggable in the DOM as a sibling element.\n    this.viewContainerRef.createComponent(this.componentFactory, 0, this.injector, [\n      [this.draggableEl.cloneNode(true)],\n    ]);\n  }\n\n  private destroyDefaultGhost() {\n    this.viewContainerRef.clear();\n    this.draggableSnapshot.discard();\n  }\n\n  @Output('clrDragStart') dragStartEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragMove') dragMoveEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragEnd') dragEndEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n\n  ngAfterContentInit() {\n    this.dragHandleRegistrar.defaultHandleEl = this.draggableEl;\n\n    this.subscriptions.push(\n      this.dragEventListener.dragStarted.subscribe((event: DragEventInterface<T>) => {\n        this.globalDragMode.enter();\n        this.dragOn = true;\n        if (!this.customGhost) {\n          this.createDefaultGhost(event);\n        }\n\n        this.dragStartEmitter.emit(new ClrDragEvent(event));\n      })\n    );\n    this.subscriptions.push(\n      this.dragEventListener.dragMoved.subscribe((event: DragEventInterface<T>) => {\n        this.dragMoveEmitter.emit(new ClrDragEvent(event));\n      })\n    );\n    this.subscriptions.push(\n      this.dragEventListener.dragEnded.subscribe((event: DragEventInterface<T>) => {\n        this.globalDragMode.exit();\n        this.dragOn = false;\n        if (!this.customGhost) {\n          this.destroyDefaultGhost();\n        }\n        this.dragEndEmitter.emit(new ClrDragEvent(event));\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n    this.dragEventListener.detachDragListeners();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DomAdapter } from '../../dom-adapter/dom-adapter';\nimport { ClrDragEvent } from '../drag-event';\nimport { DragEventInterface, DragEventType } from '../interfaces/drag-event.interface';\nimport { ClrDropToleranceInterface } from '../interfaces/drop-tolerance.interface';\nimport { DragAndDropEventBusService } from '../providers/drag-and-drop-event-bus.service';\n\n@Directive({\n  selector: '[clrDroppable]',\n  providers: [DomAdapter],\n  host: { '[class.droppable]': 'true', '[class.draggable-match]': 'isDraggableMatch' },\n})\nexport class ClrDroppable<T> implements OnInit, OnDestroy {\n  private dragStartSubscription: Subscription;\n  private dragMoveSubscription: Subscription;\n  private dragEndSubscription: Subscription;\n\n  private droppableEl: any;\n  private clientRect: ClientRect;\n\n  constructor(\n    private el: ElementRef,\n    private eventBus: DragAndDropEventBusService<T>,\n    private domAdapter: DomAdapter,\n    private renderer: Renderer2\n  ) {\n    this.droppableEl = this.el.nativeElement;\n  }\n\n  private isDraggableMatch: boolean = false;\n  private _isDraggableOver: boolean = false;\n\n  set isDraggableOver(value: boolean) {\n    // We need to add/remove this draggable-over class via Renderer2\n    // because isDraggableOver is set outside of NgZone.\n    if (value) {\n      this.renderer.addClass(this.droppableEl, 'draggable-over');\n    } else {\n      this.renderer.removeClass(this.droppableEl, 'draggable-over');\n    }\n    this._isDraggableOver = value;\n  }\n\n  private _group: string | string[];\n\n  @Input('clrGroup')\n  set group(value: string | string[]) {\n    this._group = value;\n  }\n\n  private _dropTolerance: ClrDropToleranceInterface = { top: 0, right: 0, bottom: 0, left: 0 };\n\n  private dropToleranceGenerator(top = 0, right = top, bottom = top, left = right): ClrDropToleranceInterface {\n    return { top, right, bottom, left };\n  }\n\n  @Input('clrDropTolerance')\n  set dropTolerance(value: number | string | ClrDropToleranceInterface) {\n    // If user provides an object here and wants to manipulate/update properties individually,\n    // the object must be immutable as we generate new object based user's given object.\n    if (typeof value === 'number') {\n      this._dropTolerance = this.dropToleranceGenerator(value);\n    } else if (typeof value === 'string') {\n      const toleranceValues = value\n        .trim()\n        .split(/\\s+/)\n        .map(tolerance => parseInt(tolerance, 10));\n      this._dropTolerance = this.dropToleranceGenerator(...toleranceValues);\n    } else if (value) {\n      // The value could be passed in as {left: 20, top: 30 }\n      // In this case, the rest of the direction properties should be 0.\n      // That's why we initialize properties with 0 first, then override with user's given value.\n      this._dropTolerance = { ...this.dropToleranceGenerator(0), ...value };\n    }\n  }\n\n  @Output('clrDragStart') dragStartEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragMove') dragMoveEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragEnd') dragEndEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragLeave') dragLeaveEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragEnter') dragEnterEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDrop') dropEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n\n  private unsubscribeFrom(subscription: Subscription): void {\n    if (subscription) {\n      subscription.unsubscribe();\n    }\n  }\n\n  private checkGroupMatch(draggableGroup: string | string[]): boolean {\n    // Both Draggable and Droppable have clrGroup input.\n    // The clrGroup input can be both a string key or array of string keys in Draggable and Droppable.\n\n    // It's not match if Draggable has no defined value assigned to clrGroup, but Droppable has a defined clrGroup.\n    if (!draggableGroup && this._group) {\n      return false;\n    }\n    // The same is true the other way round.\n    if (!this._group && draggableGroup) {\n      return false;\n    }\n\n    // It's match if both Draggable and Droppable have no assigned value for clrGroup.\n    if (!this._group && !draggableGroup) {\n      return true;\n    }\n\n    // It's match if both Draggable and Droppable have simple string keys that are matching.\n    // It's match if Draggable's simple clrGroup key is matching with one of the clrGroup keys of Droppable. The\n    // same is true the other way round.\n    // it's match if one of the clrGroup keys of Droppable is matching with one of the clrGroup keys of Draggable.\n    if (typeof draggableGroup === 'string') {\n      if (typeof this._group === 'string') {\n        return this._group === draggableGroup;\n      } else {\n        return this._group.indexOf(draggableGroup) > -1;\n      }\n    } else {\n      if (typeof this._group === 'string') {\n        return draggableGroup.indexOf(this._group) > -1;\n      } else {\n        return (this._group as string[]).some(groupKey => draggableGroup.indexOf(groupKey) > -1);\n      }\n    }\n  }\n\n  private isInDropArea(point: { pageX: number; pageY: number }): boolean {\n    if (!point) {\n      return false;\n    }\n\n    if (!this.clientRect) {\n      this.clientRect = this.domAdapter.clientRect(this.droppableEl);\n    }\n\n    if (\n      point.pageX >= this.clientRect.left - this._dropTolerance.left &&\n      point.pageX <= this.clientRect.right + this._dropTolerance.right &&\n      point.pageY >= this.clientRect.top - this._dropTolerance.top &&\n      point.pageY <= this.clientRect.bottom + this._dropTolerance.bottom\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private onDragStart(dragStartEvent: DragEventInterface<T>): void {\n    // Check draggable and droppable have a matching group key.\n    this.isDraggableMatch = this.checkGroupMatch(dragStartEvent.group);\n\n    // Subscribe to dragMoved and dragEnded only if draggable and droppable have a matching group key.\n    if (this.isDraggableMatch) {\n      this.dragStartEmitter.emit(new ClrDragEvent(dragStartEvent));\n      this.dragMoveSubscription = this.eventBus.dragMoved.subscribe((dragMoveEvent: DragEventInterface<T>) => {\n        this.onDragMove(dragMoveEvent);\n      });\n      this.dragEndSubscription = this.eventBus.dragEnded.subscribe((dragEndEvent: DragEventInterface<T>) => {\n        this.onDragEnd(dragEndEvent);\n      });\n    }\n  }\n\n  private onDragMove(dragMoveEvent: DragEventInterface<T>): void {\n    const isInDropArea = this.isInDropArea(dragMoveEvent.dropPointPosition);\n    if (!this._isDraggableOver && isInDropArea) {\n      this.isDraggableOver = true;\n      const dragEnterEvent = { ...dragMoveEvent, type: DragEventType.DRAG_ENTER };\n      this.eventBus.broadcast(dragEnterEvent);\n      this.dragEnterEmitter.emit(new ClrDragEvent(dragEnterEvent));\n    } else if (this._isDraggableOver && !isInDropArea) {\n      this.isDraggableOver = false;\n      const dragLeaveEvent = { ...dragMoveEvent, type: DragEventType.DRAG_LEAVE };\n      this.eventBus.broadcast(dragLeaveEvent);\n      this.dragLeaveEmitter.emit(new ClrDragEvent(dragLeaveEvent));\n    }\n\n    this.dragMoveEmitter.emit(new ClrDragEvent(dragMoveEvent));\n  }\n\n  private onDragEnd(dragEndEvent: DragEventInterface<T>): void {\n    if (this._isDraggableOver) {\n      if (dragEndEvent.ghostElement) {\n        // By this point, the draggable ghost component is destroyed,\n        // but the element would be active until its animation completes.\n        // As such, once the ghost is dropped over, we will give it \"dropped\" class.\n\n        // This process cannot be done in the ghost component\n        // because any subscription to the drop event is ineffective or invalid\n        // as the component had been already destroyed.\n        this.renderer.addClass(dragEndEvent.ghostElement, 'dropped');\n      }\n\n      const dropEvent = { ...dragEndEvent, type: DragEventType.DROP };\n      this.eventBus.broadcast(dropEvent);\n      this.dropEmitter.emit(new ClrDragEvent(dropEvent));\n      this.isDraggableOver = false;\n    }\n    this.dragEndEmitter.emit(new ClrDragEvent(dragEndEvent));\n    this.unsubscribeFrom(this.dragMoveSubscription);\n    this.unsubscribeFrom(this.dragEndSubscription);\n    this.isDraggableMatch = false;\n    delete this.clientRect;\n  }\n\n  ngOnInit() {\n    this.dragStartSubscription = this.eventBus.dragStarted.subscribe((dragStartEvent: DragEventInterface<T>) => {\n      this.onDragStart(dragStartEvent);\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeFrom(this.dragStartSubscription);\n    this.unsubscribeFrom(this.dragMoveSubscription);\n    this.unsubscribeFrom(this.dragEndSubscription);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, ElementRef, OnDestroy, Optional } from '@angular/core';\nimport { DragHandleRegistrarService } from './providers/drag-handle-registrar.service';\n\n@Directive({ selector: '[clrDragHandle]', host: { '[class.drag-handle]': 'true' } })\nexport class ClrDragHandle<T> implements OnDestroy {\n  constructor(private el: ElementRef, @Optional() private dragHandleRegistrar: DragHandleRegistrarService<T>) {\n    if (!this.dragHandleRegistrar) {\n      // ClrDragHandleRegistrar is provided in ClrDraggable so we expect it to be present here\n      // as clrDragHandle is required to be used only inside of a clrDraggable directive.\n      throw new Error('The clrDragHandle directive can only be used inside of a clrDraggable directive.');\n    }\n    this.dragHandleRegistrar.registerCustomHandle(this.el.nativeElement);\n  }\n\n  ngOnDestroy() {\n    this.dragHandleRegistrar.unregisterCustomHandle();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrDraggable } from './draggable/draggable';\nimport { ClrDroppable } from './droppable/droppable';\nimport { ClrIfDragged } from './if-dragged';\nimport { ClrDragHandle } from './drag-handle';\nimport { ClrDraggableGhost } from './draggable-ghost';\n\nexport const CLR_DRAG_AND_DROP_DIRECTIVES: Type<any>[] = [\n  ClrDraggable,\n  ClrDroppable,\n  ClrIfDragged,\n  ClrDragHandle,\n  ClrDraggableGhost,\n];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [CLR_DRAG_AND_DROP_DIRECTIVES],\n  entryComponents: [ClrDraggableGhost],\n  exports: [CLR_DRAG_AND_DROP_DIRECTIVES],\n})\nexport class ClrDragAndDropModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\n\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\nimport { ClrLoadingState } from '../../utils/loading/loading';\n\n@Injectable()\nexport class DatagridIfExpandService extends IfExpandService {\n  // due to the es5 spec if the set is overridden on base class the getter must also be overridden\n  get expanded(): boolean {\n    return this._expanded;\n  }\n\n  set expanded(value: boolean) {\n    value = !!value;\n    if (value !== this._expanded) {\n      this._expanded = value;\n      this._animate.next();\n      this._expandChange.next(value);\n    }\n  }\n\n  loadingStateChange(state: ClrLoadingState) {\n    super.loadingStateChange(state);\n    if (state !== ClrLoadingState.LOADING) {\n      this._animate.next();\n    }\n  }\n\n  private _replace: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  get replace(): Observable<boolean> {\n    return this._replace.asObservable();\n  }\n\n  setReplace(replaceValue: boolean) {\n    this._replace.next(replaceValue);\n  }\n\n  private _animate: Subject<boolean> = new Subject<boolean>();\n  get animate(): Observable<boolean> {\n    return this._animate.asObservable();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/*\n * This is a hack that we have to write for now because of bugs and limitations in Angular,\n * please do not use this as an example.\n */\n\nimport { Directive, ElementRef, Renderer2, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DomAdapter } from '../../../utils/dom-adapter/dom-adapter';\nimport { DatagridIfExpandService } from '../datagrid-if-expanded.service';\n\n@Directive({ selector: 'clr-dg-row' })\nexport class DatagridRowExpandAnimation implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    private el: ElementRef,\n    private domAdapter: DomAdapter,\n    private renderer: Renderer2,\n    private expand: DatagridIfExpandService\n  ) {\n    if (expand && expand.animate) {\n      this.subscriptions.push(\n        expand.animate.subscribe(() => {\n          // We already had an animation waiting, so we just have to run in, not prepare again\n          if (this.oldHeight) {\n            setTimeout(() => this.run());\n          } else {\n            this.animate();\n          }\n        })\n      );\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  private running: any;\n  private oldHeight: number;\n\n  /*\n     * Dirty manual animation handling, but we have no way to use dynamic heights in Angular's current API.\n     * They're working on it, but have no ETA.\n     */\n  private animate() {\n    // Check if we do have web-animations available. If not, just skip the animation.\n    if (!this.el.nativeElement.animate) {\n      return;\n    }\n\n    // We had an animation running, we skip to the end\n    if (this.running) {\n      this.running.finish();\n    }\n\n    this.oldHeight = this.domAdapter.computedHeight(this.el.nativeElement);\n    // In case height has not yet been set. When starting expanded, for example.\n    // See https://github.com/vmware/clarity/issues/2904\n    if (isNaN(this.oldHeight)) {\n      this.oldHeight = 0;\n    }\n    // We set the height of the element immediately to avoid a flicker before the animation starts.\n    this.renderer.setStyle(this.el.nativeElement, 'height', this.oldHeight + 'px');\n    this.renderer.setStyle(this.el.nativeElement, 'overflow-y', 'hidden');\n    setTimeout(() => {\n      if (this.expand.loading) {\n        return;\n      }\n      this.run();\n    });\n  }\n\n  private run() {\n    this.renderer.setStyle(this.el.nativeElement, 'height', null);\n    const newHeight = this.domAdapter.computedHeight(this.el.nativeElement);\n    this.running = this.el.nativeElement.animate(\n      { height: [this.oldHeight + 'px', newHeight + 'px'], easing: 'ease-in-out' },\n      { duration: 200 }\n    );\n    this.running.onfinish = () => {\n      this.renderer.setStyle(this.el.nativeElement, 'overflow-y', null);\n      delete this.running;\n    };\n    delete this.oldHeight;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport abstract class CustomFilter {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n/*\n * This provider implements some form of synchronous debouncing through a lock pattern\n * to avoid emitting multiple state changes for a single user action.\n */\n@Injectable()\nexport class StateDebouncer {\n  /**\n   * The Observable that lets other classes subscribe to global state changes\n   */\n  private _change = new Subject<void>();\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<void> {\n    return this._change.asObservable();\n  }\n\n  /*\n     * This is the lock, to only emit once all the changes have finished processing\n     */\n  private nbChanges = 0;\n\n  public changeStart() {\n    this.nbChanges++;\n  }\n\n  public changeDone() {\n    if (--this.nbChanges === 0) {\n      this._change.next();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { StateDebouncer } from './state-debouncer.provider';\n\n@Injectable()\nexport class Page {\n  constructor(private stateDebouncer: StateDebouncer) {}\n\n  public activated = false;\n\n  /**\n   * Page size, a value of 0 means no pagination\n   */\n  private _size = 0;\n  public get size(): number {\n    return this._size;\n  }\n  public set size(size: number) {\n    const oldSize = this._size;\n    if (size !== oldSize) {\n      this.stateDebouncer.changeStart();\n      this._size = size;\n      if (size === 0) {\n        this._current = 1;\n      } else {\n        // Yeap. That's the formula to keep the first item from the old page still\n        // displayed in the new one.\n        this._current = Math.floor(oldSize / size * (this._current - 1)) + 1;\n      }\n      // We always emit an event even if the current page index didn't change, because\n      // the size changing means the items inside the page are different\n      this._change.next(this._current);\n      this._sizeChange.next(this._size);\n      this.stateDebouncer.changeDone();\n    }\n  }\n\n  /**\n   * Total items (needed to guess the last page)\n   */\n  private _totalItems?: number;\n  public get totalItems(): number {\n    return this._totalItems || 0; // remains 0 if not set to avoid breaking change\n  }\n  public set totalItems(total: number) {\n    this._totalItems = total;\n    // If we have less items than before, we might need to change the current page\n    if (this.current > this.last) {\n      this.current = this.last;\n    }\n  }\n\n  /**\n   * Last page\n   */\n  private _last: number;\n  public get last(): number {\n    if (this._last) {\n      return this._last;\n    }\n    // If the last page isn't known, we compute it from the last item's index\n    if (this.size > 0 && this.totalItems) {\n      return Math.ceil(this.totalItems / this.size);\n    }\n    return 1;\n  }\n  public set last(page: number) {\n    this._last = page;\n  }\n\n  /**\n   * The Observable that lets other classes subscribe to page changes\n   */\n  private _change = new Subject<number>();\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<number> {\n    return this._change.asObservable();\n  }\n\n  private _sizeChange = new Subject<number>();\n\n  public get sizeChange(): Observable<number> {\n    return this._sizeChange.asObservable();\n  }\n\n  /**\n   * Current page\n   */\n  private _current = 1;\n  public get current(): number {\n    return this._current;\n  }\n  public set current(page: number) {\n    if (page !== this._current) {\n      this.stateDebouncer.changeStart();\n      this._current = page;\n      this._change.next(page);\n      this.stateDebouncer.changeDone();\n    }\n  }\n\n  /**\n   * Moves to the previous page if it exists\n   */\n  public previous() {\n    if (this.current > 1) {\n      this.current--;\n    }\n  }\n\n  /**\n   * Moves to the next page if it exists\n   */\n  public next() {\n    if (this.current < this.last) {\n      this.current++;\n    }\n  }\n\n  /**\n   * Index of the first item displayed on the current page, starting at 0, -1 if none displayed\n   */\n  public get firstItem(): number {\n    if (this._totalItems === 0) {\n      return -1;\n    }\n\n    if (this.size === 0) {\n      return 0;\n    }\n    return (this.current - 1) * this.size;\n  }\n\n  /**\n   * Index of the last item displayed on the current page, starting at 0, -1 if none displayed\n   */\n  public get lastItem(): number {\n    if (this._totalItems === 0) {\n      return -1;\n    }\n\n    if (this.size === 0) {\n      return this.totalItems - 1;\n    }\n    let lastInPage = this.current * this.size - 1;\n    if (this.totalItems) {\n      lastInPage = Math.min(lastInPage, this.totalItems - 1);\n    }\n    return lastInPage;\n  }\n\n  /**\n   * Resets the page size to 0\n   */\n  public resetPageSize(): void {\n    this.size = 0;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nimport { ClrDatagridFilterInterface } from '../interfaces/filter.interface';\nimport { Page } from './page';\nimport { StateDebouncer } from './state-debouncer.provider';\n\n@Injectable()\nexport class FiltersProvider<T = any> {\n  constructor(private _page: Page, private stateDebouncer: StateDebouncer) {}\n  /**\n   * This subject is the list of filters that changed last, not the whole list.\n   * We emit a list rather than just one filter to allow batch changes to several at once.\n   */\n  private _change = new Subject<ClrDatagridFilterInterface<T>[]>();\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<ClrDatagridFilterInterface<T>[]> {\n    return this._change.asObservable();\n  }\n\n  /**\n   * List of all filters, whether they're active or not\n   */\n  private _all: RegisteredFilter<T, ClrDatagridFilterInterface<T>>[] = [];\n\n  /**\n   * Tests if at least one filter is currently active\n   */\n  public hasActiveFilters(): boolean {\n    // We do not use getActiveFilters() because this function will be called much more often\n    // and stopping the loop early might be relevant.\n    for (const { filter } of this._all) {\n      if (filter && filter.isActive()) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Returns a list of all currently active filters\n   */\n  public getActiveFilters(): ClrDatagridFilterInterface<T>[] {\n    const ret: ClrDatagridFilterInterface<T>[] = [];\n    for (const { filter } of this._all) {\n      if (filter && filter.isActive()) {\n        ret.push(filter);\n      }\n    }\n    return ret;\n  }\n\n  /**\n   * Registers a filter, and returns a deregistration function\n   */\n  public add<F extends ClrDatagridFilterInterface<T>>(filter: F): RegisteredFilter<T, F> {\n    const index = this._all.length;\n    const subscription = filter.changes.subscribe(() => this.resetPageAndEmitFilterChange([filter]));\n    let hasUnregistered = false;\n    const registered = new RegisteredFilter(filter, () => {\n      if (hasUnregistered) {\n        return;\n      }\n      subscription.unsubscribe();\n      this._all.splice(index, 1);\n      if (filter.isActive()) {\n        this.resetPageAndEmitFilterChange([]);\n      }\n      hasUnregistered = true;\n    });\n    this._all.push(registered);\n    if (filter.isActive()) {\n      this.resetPageAndEmitFilterChange([filter]);\n    }\n    return registered;\n  }\n\n  /**\n   * Accepts an item if it is accepted by all currently active filters\n   */\n  public accepts(item: T): boolean {\n    for (const { filter } of this._all) {\n      if (filter && filter.isActive() && !filter.accepts(item)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private resetPageAndEmitFilterChange(filters: ClrDatagridFilterInterface<T>[]) {\n    this.stateDebouncer.changeStart();\n    // filtering may change the page number such that current page number doesn't exist in the filtered dataset.\n    // So here we always set the current page to 1 so that it'll fetch first page's data with the given filter.\n    this._page.current = 1;\n    this._change.next(filters);\n    this.stateDebouncer.changeDone();\n  }\n}\n\nexport class RegisteredFilter<T, F extends ClrDatagridFilterInterface<T>> {\n  constructor(public filter: F, public unregister: () => void) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { OnDestroy } from '@angular/core';\nimport { ClrDatagridFilterInterface } from '../interfaces/filter.interface';\nimport { FiltersProvider, RegisteredFilter } from '../providers/filters';\n\nexport abstract class DatagridFilterRegistrar<T, F extends ClrDatagridFilterInterface<T>> implements OnDestroy {\n  constructor(private filters: FiltersProvider<T>) {}\n\n  public registered: RegisteredFilter<T, F>;\n\n  public get filter(): F {\n    return this.registered && this.registered.filter;\n  }\n\n  public setFilter(filter: F | RegisteredFilter<T, F>) {\n    // If we previously had another filter, we unregister it\n    this.deleteFilter();\n    if (filter instanceof RegisteredFilter) {\n      this.registered = filter;\n    } else if (filter) {\n      this.registered = this.filters.add(filter);\n    }\n  }\n\n  public deleteFilter() {\n    if (this.registered) {\n      this.registered.unregister();\n      delete this.registered;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.deleteFilter();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\n\nimport { Point } from '../../popover/common/popover';\nimport { PopoverOptions } from '../../popover/common/popover-options.interface';\n\nimport { ClrDatagridFilterInterface } from './interfaces/filter.interface';\nimport { CustomFilter } from './providers/custom-filter';\nimport { FiltersProvider, RegisteredFilter } from './providers/filters';\nimport { DatagridFilterRegistrar } from './utils/datagrid-filter-registrar';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n/**\n * Custom filter that can be added in any column to override the default object property string filter.\n * The reason this is not just an input on DatagridColumn is because we need the filter's template to be projected,\n * since it can be anything (not just a text input).\n */\n@Component({\n  selector: 'clr-dg-filter',\n  // We register this component as a CustomFilter, for the parent column to detect it.\n  providers: [{ provide: CustomFilter, useExisting: ClrDatagridFilter }],\n  template: `\n        <button #anchor \n                (click)=\"toggle()\"\n                class=\"datagrid-filter-toggle\"\n                [class.datagrid-filter-open]=\"open\" \n                [class.datagrid-filtered]=\"active\"\n                type=\"button\">\n            <clr-icon [attr.shape]=\"active ? 'filter-grid-circle': 'filter-grid'\" class=\"is-solid\"></clr-icon>\n        </button>\n\n        <ng-template [(clrPopoverOld)]=\"open\" [clrPopoverOldAnchor]=\"anchor\" [clrPopoverOldAnchorPoint]=\"anchorPoint\"\n             [clrPopoverOldPopoverPoint]=\"popoverPoint\" [clrPopoverOldOptions]=\"popoverOptions\">\n            <div class=\"datagrid-filter\">\n                <!-- FIXME: this whole filter part needs a final design before we can try to have a cleaner DOM -->\n                <div class=\"datagrid-filter-close-wrapper\">\n                    <button type=\"button\" class=\"close\" (click)=\"open = false\">\n                        <clr-icon shape=\"close\" [attr.title]=\"commonStrings.close\"></clr-icon>\n                    </button>\n                </div>\n    \n                <ng-content></ng-content>\n            </div>\n        </ng-template>\n    `,\n})\nexport class ClrDatagridFilter<T = any> extends DatagridFilterRegistrar<T, ClrDatagridFilterInterface<T>>\n  implements CustomFilter {\n  constructor(_filters: FiltersProvider<T>, public commonStrings: ClrCommonStrings) {\n    super(_filters);\n  }\n\n  public anchorPoint: Point = Point.RIGHT_BOTTOM;\n  public popoverPoint: Point = Point.RIGHT_TOP;\n  public popoverOptions: PopoverOptions = { allowMultipleOpen: true };\n  /**\n   * Tracks whether the filter dropdown is open or not\n   */\n  private _open = false;\n  public get open() {\n    return this._open;\n  }\n\n  @Input('clrDgFilterOpen')\n  public set open(open: boolean) {\n    const boolOpen = !!open;\n    if (boolOpen !== this._open) {\n      this._open = boolOpen;\n      this.openChanged.emit(boolOpen);\n    }\n  }\n\n  @Output('clrDgFilterOpenChange') public openChanged = new EventEmitter<boolean>(false);\n\n  @Input('clrDgFilter')\n  public set customFilter(filter: ClrDatagridFilterInterface<T> | RegisteredFilter<T, ClrDatagridFilterInterface<T>>) {\n    this.setFilter(filter);\n  }\n\n  /**\n   * Indicates if the filter is currently active\n   */\n  public get active() {\n    return !!this.filter && this.filter.isActive();\n  }\n\n  /**\n   * Shows/hides the filter dropdown\n   */\n  public toggle() {\n    this.open = !this.open;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n/**\n * Generic accessor for deep object properties\n * that can be specified as simple dot-separated strings.\n */\nexport class NestedProperty<T = any> {\n  private splitProp: string[];\n\n  constructor(private prop: string) {\n    if (prop.indexOf('.') >= 0) {\n      this.splitProp = prop.split('.');\n    }\n  }\n\n  // Safe getter for a deep object property, will not throw an error but return\n  // undefined if one of the intermediate properties is null or undefined.\n  public getPropValue(item: T): any {\n    if (this.splitProp) {\n      let value = item;\n      for (const nestedProp of this.splitProp) {\n        if (value == null || typeof value === 'undefined' || typeof value[nestedProp] === 'undefined') {\n          return undefined;\n        }\n        value = value[nestedProp];\n      }\n      return value;\n    } else {\n      return item[this.prop];\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ClrDatagridStringFilterInterface } from '../../interfaces/string-filter.interface';\nimport { NestedProperty } from '../nested-property';\n\nexport class DatagridPropertyStringFilter<T = any> implements ClrDatagridStringFilterInterface<T> {\n  private nestedProp: NestedProperty<T>;\n\n  constructor(public prop: string, public exact = false) {\n    this.nestedProp = new NestedProperty(prop);\n  }\n\n  accepts(item: T, search: string): boolean {\n    const propValue = this.nestedProp.getPropValue(item);\n    if (typeof propValue === 'undefined') {\n      return false;\n    } else if (this.exact) {\n      return ('' + propValue).toLowerCase() === search;\n    } else {\n      return ('' + propValue).toLowerCase().indexOf(search) >= 0;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { ClrDatagridFilterInterface } from '../../interfaces/filter.interface';\nimport { ClrDatagridStringFilterInterface } from '../../interfaces/string-filter.interface';\nimport { DatagridPropertyStringFilter } from './datagrid-property-string-filter';\n\nexport class DatagridStringFilterImpl<T = any> implements ClrDatagridFilterInterface<T> {\n  constructor(public filterFn: ClrDatagridStringFilterInterface<T>) {}\n\n  /**\n   * The Observable required as part of the Filter interface\n   */\n  private _changes = new Subject<string>();\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get changes(): Observable<string> {\n    return this._changes.asObservable();\n  }\n\n  /**\n   * Raw input value\n   */\n  private _rawValue: string = '';\n  public get value(): string {\n    return this._rawValue;\n  }\n  /**\n   * Input value converted to lowercase\n   */\n  private _lowerCaseValue: string = '';\n  public get lowerCaseValue() {\n    return this._lowerCaseValue;\n  }\n  /**\n   * Common setter for the input value\n   */\n  public set value(value: string) {\n    if (!value) {\n      value = '';\n    }\n    if (value !== this._rawValue) {\n      this._rawValue = value;\n      this._lowerCaseValue = value.toLowerCase().trim();\n      this._changes.next(value);\n    }\n  }\n\n  /**\n   * Indicates if the filter is currently active, meaning the input is not empty\n   */\n  public isActive(): boolean {\n    return !!this.value;\n  }\n\n  /**\n   * Tests if an item matches a search text\n   */\n  public accepts(item: T): boolean {\n    // We always test with the lowercase value of the input, to stay case insensitive\n    return this.filterFn.accepts(item, this.lowerCaseValue);\n  }\n\n  public get state() {\n    if (this.filterFn instanceof DatagridPropertyStringFilter) {\n      return {\n        property: this.filterFn.prop,\n        value: this.value,\n      };\n    }\n    return this;\n  }\n\n  public equals(other: ClrDatagridFilterInterface<T, any>): boolean {\n    if (other instanceof DatagridStringFilterImpl) {\n      if (other.filterFn instanceof DatagridPropertyStringFilter) {\n        return (\n          this.filterFn instanceof DatagridPropertyStringFilter &&\n          other.filterFn.prop === this.filterFn.prop &&\n          other.value === this.value\n        );\n      }\n      return other === this;\n    }\n    return false;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, ElementRef, EventEmitter, Input, Output, ViewChild } from '@angular/core';\n\nimport { ClrDatagridFilter } from '../../datagrid-filter';\nimport { ClrDatagridStringFilterInterface } from '../../interfaces/string-filter.interface';\nimport { CustomFilter } from '../../providers/custom-filter';\nimport { FiltersProvider, RegisteredFilter } from '../../providers/filters';\nimport { DomAdapter } from '../../../../utils/dom-adapter/dom-adapter';\nimport { DatagridFilterRegistrar } from '../../utils/datagrid-filter-registrar';\n\nimport { DatagridStringFilterImpl } from './datagrid-string-filter-impl';\n\n@Component({\n  selector: 'clr-dg-string-filter',\n  providers: [{ provide: CustomFilter, useExisting: DatagridStringFilter }],\n  template: `\n        <clr-dg-filter [clrDgFilter]=\"registered\" [(clrDgFilterOpen)]=\"open\">\n            <!--\n                Even though this *ngIf looks useless because the filter container already has one,\n                it prevents NgControlStatus and other directives automatically added by Angular\n                on inputs with NgModel from freaking out because of their host binding changing\n                mid-change detection when the input is destroyed.\n            -->\n            <input #input type=\"text\" name=\"search\" [(ngModel)]=\"value\" *ngIf=\"open\"\n                (keyup.enter)=\"close()\" (keyup.escape)=\"close()\" class=\"clr-input\" />\n        </clr-dg-filter>\n    `,\n})\nexport class DatagridStringFilter<T = any> extends DatagridFilterRegistrar<T, DatagridStringFilterImpl<T>>\n  implements CustomFilter, AfterViewInit {\n  constructor(filters: FiltersProvider<T>, private domAdapter: DomAdapter) {\n    super(filters);\n  }\n\n  /**\n   * Customizable filter logic based on a search text\n   */\n  @Input('clrDgStringFilter')\n  set customStringFilter(\n    value: ClrDatagridStringFilterInterface<T> | RegisteredFilter<T, DatagridStringFilterImpl<T>>\n  ) {\n    if (value instanceof RegisteredFilter) {\n      this.setFilter(value);\n    } else {\n      this.setFilter(new DatagridStringFilterImpl(value));\n    }\n  }\n\n  /**\n   * Indicates if the filter dropdown is open\n   */\n  public open: boolean = false;\n\n  /**\n   * We need the actual input element to automatically focus on it\n   */\n  @ViewChild('input', { static: false })\n  public input: ElementRef;\n\n  /**\n   * We grab the ClrDatagridFilter we wrap to register this StringFilter to it.\n   */\n  @ViewChild(ClrDatagridFilter, { static: false })\n  public filterContainer: ClrDatagridFilter<T>;\n  ngAfterViewInit() {\n    this.filterContainer.openChanged.subscribe((open: boolean) => {\n      if (open) {\n        // We need the timeout because at the time this executes, the input isn't\n        // displayed yet.\n        setTimeout(() => {\n          this.domAdapter.focus(this.input.nativeElement);\n        });\n      }\n    });\n  }\n\n  /**\n   * Common setter for the input value\n   */\n  public get value() {\n    return this.filter.value;\n  }\n  @Input('clrFilterValue')\n  public set value(value: string) {\n    if (!this.filter) {\n      return;\n    }\n    if (!value) {\n      value = '';\n    }\n    if (value !== this.filter.value) {\n      this.filter.value = value;\n      this.filterValueChange.emit(value);\n    }\n  }\n\n  @Output('clrFilterValueChange') filterValueChange = new EventEmitter();\n\n  public close() {\n    this.open = false;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterContentChecked, ChangeDetectorRef, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { WillyWonka } from './willy-wonka';\n\nexport abstract class OompaLoompa implements AfterContentChecked, OnDestroy {\n  // FIXME: Request Injector once we move to Angular 4.2+, it'll allow easier refactors\n  constructor(cdr: ChangeDetectorRef, willyWonka: WillyWonka) {\n    this.subscription = willyWonka.chocolate.subscribe(() => {\n      if (this.latestFlavor !== this.flavor) {\n        cdr.detectChanges();\n      }\n    });\n  }\n\n  private subscription: Subscription;\n\n  private latestFlavor: any;\n\n  abstract get flavor(): any;\n\n  ngAfterContentChecked() {\n    this.latestFlavor = this.flavor;\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class RowActionService {\n  private actionableCount = 0;\n\n  public register() {\n    this.actionableCount++;\n  }\n\n  public unregister() {\n    this.actionableCount--;\n  }\n\n  /**\n   * false means no rows with action\n   */\n  public get hasActionableRow(): boolean {\n    return this.actionableCount > 0;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewChecked } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n/*\n * After a conversation with the Angular core team, it turns out we don't have much of a choice for our\n * declarative API, we need to fight against change detection and its one-way flow. This is\n * currently the least dirty solution to do what we want.\n *\n * Do not modify or even use this class unless you know exactly what you're doing.\n * It has the potential to trigger change detection loops or kill app performances.\n */\nexport class WillyWonka implements AfterViewChecked {\n  private _chocolate = new Subject<void>();\n\n  public get chocolate(): Observable<void> {\n    return this._chocolate.asObservable();\n  }\n\n  ngAfterViewChecked() {\n    this._chocolate.next();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive } from '@angular/core';\nimport { WillyWonka } from '../../../utils/chocolate/willy-wonka';\n\n@Directive({ selector: 'clr-datagrid' })\nexport class DatagridWillyWonka extends WillyWonka {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Directive, Optional } from '@angular/core';\nimport { OompaLoompa } from '../../../utils/chocolate/oompa-loompa';\nimport { RowActionService } from '../providers/row-action-service';\nimport { DatagridWillyWonka } from './datagrid-willy-wonka';\n\n@Directive({ selector: 'clr-datagrid, clr-dg-row' })\nexport class ActionableOompaLoompa extends OompaLoompa {\n  private rowActions: RowActionService;\n\n  constructor(cdr: ChangeDetectorRef, @Optional() willyWonka: DatagridWillyWonka, rowActions: RowActionService) {\n    if (!willyWonka) {\n      throw new Error('clr-dg-row should only be used inside of a clr-datagrid');\n    }\n    super(cdr, willyWonka);\n    this.rowActions = rowActions;\n  }\n\n  get flavor() {\n    return this.rowActions.hasActionableRow;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class ExpandableRowsCount {\n  private expandableCount = 0;\n\n  public register() {\n    this.expandableCount++;\n  }\n\n  public unregister() {\n    this.expandableCount--;\n  }\n\n  /**\n   * false means no rows with action\n   */\n  public get hasExpandableRow(): boolean {\n    return this.expandableCount > 0;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Directive, Optional } from '@angular/core';\nimport { OompaLoompa } from '../../../utils/chocolate/oompa-loompa';\nimport { ExpandableRowsCount } from '../providers/global-expandable-rows';\nimport { DatagridWillyWonka } from './datagrid-willy-wonka';\n\n@Directive({ selector: 'clr-datagrid, clr-dg-row' })\nexport class ExpandableOompaLoompa extends OompaLoompa {\n  private expandableCount: ExpandableRowsCount;\n\n  constructor(\n    cdr: ChangeDetectorRef,\n    @Optional() willyWonka: DatagridWillyWonka,\n    expandableCount: ExpandableRowsCount\n  ) {\n    if (!willyWonka) {\n      throw new Error('clr-dg-row should only be used inside of a clr-datagrid');\n    }\n    super(cdr, willyWonka);\n    this.expandableCount = expandableCount;\n  }\n\n  get flavor() {\n    return this.expandableCount.hasExpandableRow;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ClrDatagridComparatorInterface } from '../../interfaces/comparator.interface';\nimport { NestedProperty } from '../nested-property';\n\nexport class DatagridPropertyComparator<T = any> implements ClrDatagridComparatorInterface<T> {\n  private nestedProp: NestedProperty<T>;\n\n  constructor(public prop: string) {\n    this.nestedProp = new NestedProperty(prop);\n  }\n\n  public compare(a: T, b: T): number {\n    let propA = this.nestedProp.getPropValue(a);\n    let propB = this.nestedProp.getPropValue(b);\n\n    if (typeof propA === 'string') {\n      propA = propA.toLowerCase();\n    }\n\n    if (typeof propB === 'string') {\n      propB = propB.toLowerCase();\n    }\n\n    if (typeof propA === 'undefined' || propA === null) {\n      if (typeof propB === 'undefined' || propB === null) {\n        return 0;\n      } else {\n        return 1;\n      }\n    } else {\n      if (typeof propB === 'undefined' || propB === null) {\n        return -1;\n      } else if (propA < propB) {\n        return -1;\n      } else if (propA > propB) {\n        return 1;\n      } else {\n        return 0;\n      }\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/**\n * Enumeration representing the sorting order of a datagrid column. It is a constant Enum,\n * i.e. each value needs to be treated as a `number`, starting at index 0.\n *\n * @export\n * @enum {number}\n */\nexport enum ClrDatagridSortOrder {\n  UNSORTED = 0,\n  ASC = 1,\n  DESC = -1,\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nimport { ClrDatagridComparatorInterface } from '../interfaces/comparator.interface';\nimport { StateDebouncer } from './state-debouncer.provider';\n\n@Injectable()\nexport class Sort<T = any> {\n  constructor(private stateDebouncer: StateDebouncer) {}\n\n  /**\n   * Currently active comparator\n   */\n  private _comparator: ClrDatagridComparatorInterface<T>;\n  public get comparator(): ClrDatagridComparatorInterface<T> {\n    return this._comparator;\n  }\n  public set comparator(value: ClrDatagridComparatorInterface<T>) {\n    this.stateDebouncer.changeStart();\n    this._comparator = value;\n    this.emitChange();\n    this.stateDebouncer.changeDone();\n  }\n\n  /**\n   * Ascending order if false, descending if true\n   */\n  private _reverse: boolean = false;\n  public get reverse(): boolean {\n    return this._reverse;\n  }\n  public set reverse(value: boolean) {\n    this.stateDebouncer.changeStart();\n    this._reverse = value;\n    this.emitChange();\n    this.stateDebouncer.changeDone();\n  }\n\n  /**\n   * The Observable that lets other classes subscribe to sort changes\n   */\n  private _change = new Subject<Sort<T>>();\n  private emitChange() {\n    this._change.next(this);\n  }\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<Sort<T>> {\n    return this._change.asObservable();\n  }\n\n  /**\n   * Sets a comparator as the current one, or toggles reverse if the comparator is already used. The\n   * optional forceReverse input parameter allows to override that toggling behavior by sorting in\n   * reverse order if `true`.\n   *\n   * @memberof Sort\n   */\n  public toggle(sortBy: ClrDatagridComparatorInterface<T>, forceReverse?: boolean) {\n    this.stateDebouncer.changeStart();\n    // We modify private properties directly, to batch the change event\n    if (this.comparator === sortBy) {\n      this._reverse = typeof forceReverse !== 'undefined' ? forceReverse || !this._reverse : !this._reverse;\n    } else {\n      this._comparator = sortBy;\n      this._reverse = typeof forceReverse !== 'undefined' ? forceReverse : false;\n    }\n    this.emitChange();\n    this.stateDebouncer.changeDone();\n  }\n\n  /**\n   * Clears the current sorting order\n   */\n  public clear() {\n    this.comparator = null;\n  }\n\n  /**\n   * Compares two objects according to the current comparator\n   */\n  public compare(a: T, b: T): number {\n    return (this.reverse ? -1 : 1) * this.comparator.compare(a, b);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, EmbeddedViewRef, TemplateRef, ViewChild } from '@angular/core';\n\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\n\n@Component({\n  selector: 'dg-wrapped-column',\n  template: `        \n        <ng-template #columnPortal>\n            <ng-content></ng-content>\n        </ng-template>\n    `,\n})\nexport class WrappedColumn implements DynamicWrapper, AfterViewInit {\n  _dynamic = false;\n\n  @ViewChild('columnPortal', { static: false })\n  templateRef: TemplateRef<void>;\n  columnView: EmbeddedViewRef<void>; // the columns projected view (in memory)\n\n  ngAfterViewInit() {\n    // Create the cells view in memory, not the DOM.\n    this.columnView = this.templateRef.createEmbeddedView(null);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Component,\n  ContentChild,\n  EventEmitter,\n  Injector,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { HostWrapper } from '../../utils/host-wrapping/host-wrapper';\nimport { DatagridPropertyComparator } from './built-in/comparators/datagrid-property-comparator';\nimport { DatagridPropertyStringFilter } from './built-in/filters/datagrid-property-string-filter';\nimport { DatagridStringFilterImpl } from './built-in/filters/datagrid-string-filter-impl';\nimport { ClrDatagridSortOrder } from './enums/sort-order.enum';\nimport { ClrDatagridComparatorInterface } from './interfaces/comparator.interface';\nimport { CustomFilter } from './providers/custom-filter';\nimport { FiltersProvider } from './providers/filters';\nimport { Sort } from './providers/sort';\nimport { DatagridFilterRegistrar } from './utils/datagrid-filter-registrar';\nimport { WrappedColumn } from './wrapped-column';\n\n@Component({\n  selector: 'clr-dg-column',\n  template: `\n      <div class=\"datagrid-column-flex\">\n          <!-- I'm really not happy with that select since it's not very scalable -->\n          <ng-content select=\"clr-dg-filter, clr-dg-string-filter\"></ng-content>\n\n          <clr-dg-string-filter\n                  *ngIf=\"field && !customFilter\"\n                  [clrDgStringFilter]=\"registered\"\n                  [(clrFilterValue)]=\"filterValue\"></clr-dg-string-filter>\n\n          <ng-template #columnTitle>\n              <ng-content></ng-content>\n          </ng-template>\n\n          <button class=\"datagrid-column-title\" *ngIf=\"sortable\" (click)=\"sort()\" type=\"button\">\n              <ng-container *ngTemplateOutlet=\"columnTitle\"></ng-container>\n              <clr-icon\n                      *ngIf=\"sortIcon\"\n                      [attr.shape]=\"sortIcon\"\n                      class=\"sort-icon\"></clr-icon>\n          </button>\n\n          <span class=\"datagrid-column-title\" *ngIf=\"!sortable\">\n               <ng-container *ngTemplateOutlet=\"columnTitle\"></ng-container>\n            </span>\n\n          <clr-dg-column-separator></clr-dg-column-separator>\n      </div>\n  `,\n  host: {\n    '[class.datagrid-column]': 'true',\n    '[attr.aria-sort]': 'ariaSort',\n    role: 'columnheader',\n  },\n})\nexport class ClrDatagridColumn<T = any> extends DatagridFilterRegistrar<T, DatagridStringFilterImpl<T>>\n  implements OnDestroy, OnInit {\n  constructor(private _sort: Sort<T>, filters: FiltersProvider<T>, private vcr: ViewContainerRef) {\n    super(filters);\n    this._sortSubscription = _sort.change.subscribe(sort => {\n      // We're only listening to make sure we emit an event when the column goes from sorted to unsorted\n      if (this.sortOrder !== ClrDatagridSortOrder.UNSORTED && sort.comparator !== this._sortBy) {\n        this._sortOrder = ClrDatagridSortOrder.UNSORTED;\n        this.sortOrderChange.emit(this._sortOrder);\n        // removes the sortIcon when column becomes unsorted\n        this.sortIcon = null;\n      }\n      // deprecated: to be removed - START\n      if (this.sorted && sort.comparator !== this._sortBy) {\n        this._sorted = false;\n        this.sortedChange.emit(false);\n      }\n      // deprecated: to be removed - END\n    });\n  }\n\n  /**\n   * Subscription to the sort service changes\n   */\n  private _sortSubscription: Subscription;\n\n  ngOnDestroy() {\n    this._sortSubscription.unsubscribe();\n  }\n\n  /*\n     * Simple object property shortcut, activates both sorting and filtering\n     * based on native comparison of the specified property on the items.\n     */\n  private _field: string;\n  public get field() {\n    return this._field;\n  }\n\n  @Input('clrDgField')\n  public set field(field: string) {\n    if (typeof field === 'string') {\n      this._field = field;\n      if (!this.customFilter) {\n        this.setFilter(new DatagridStringFilterImpl(new DatagridPropertyStringFilter(field)));\n      }\n      if (!this._sortBy) {\n        this._sortBy = new DatagridPropertyComparator(field);\n      }\n    }\n  }\n\n  /**\n   * ClrDatagridComparatorInterface to use when sorting the column\n   */\n\n  private _sortBy: ClrDatagridComparatorInterface<T>;\n\n  public get sortBy() {\n    return this._sortBy;\n  }\n\n  @Input('clrDgSortBy')\n  public set sortBy(comparator: ClrDatagridComparatorInterface<T> | string) {\n    if (typeof comparator === 'string') {\n      this._sortBy = new DatagridPropertyComparator(comparator);\n    } else {\n      if (comparator) {\n        this._sortBy = comparator;\n      } else {\n        if (this._field) {\n          this._sortBy = new DatagridPropertyComparator(this._field);\n        } else {\n          delete this._sortBy;\n        }\n      }\n    }\n  }\n\n  /**\n   * Indicates if the column is sortable\n   */\n  public get sortable(): boolean {\n    return !!this._sortBy;\n  }\n\n  // deprecated: to be removed - START\n  /**\n   * Indicates if the column is currently sorted\n   *\n   * @deprecated This will be removed soon, in favor of the sortOrder mechanism\n   */\n  private _sorted = false;\n  public get sorted() {\n    return this._sorted;\n  }\n\n  /**\n   * @deprecated This will be removed soon, in favor of the sortOrder mechanism\n   */\n  @Input('clrDgSorted')\n  public set sorted(value: boolean) {\n    if (!value && this.sorted) {\n      this._sorted = false;\n      this._sort.clear();\n    } else if (value && !this.sorted) {\n      this.sort();\n    }\n  }\n\n  /**\n   * @deprecated This will be removed soon, in favor of the sortOrder mechanism\n   */\n  @Output('clrDgSortedChange') public sortedChange = new EventEmitter<boolean>();\n\n  // deprecated: to be removed - END\n\n  /**\n   * Indicates how the column is currently sorted\n   */\n  private _sortOrder: ClrDatagridSortOrder = ClrDatagridSortOrder.UNSORTED;\n  public get sortOrder() {\n    return this._sortOrder;\n  }\n\n  @Input('clrDgSortOrder')\n  public set sortOrder(value: ClrDatagridSortOrder) {\n    if (typeof value === 'undefined') {\n      return;\n    }\n\n    // only if the incoming order is different from the current one\n    if (this._sortOrder === value) {\n      return;\n    }\n\n    switch (value) {\n      // the Unsorted case happens when the current state is either Asc or Desc\n      default:\n      case ClrDatagridSortOrder.UNSORTED:\n        this._sort.clear();\n        break;\n      case ClrDatagridSortOrder.ASC:\n        this.sort(false);\n        break;\n      case ClrDatagridSortOrder.DESC:\n        this.sort(true);\n        break;\n    }\n  }\n\n  public get ariaSort() {\n    switch (this._sortOrder) {\n      default:\n      case ClrDatagridSortOrder.UNSORTED:\n        return 'none';\n      case ClrDatagridSortOrder.ASC:\n        return 'ascending';\n      case ClrDatagridSortOrder.DESC:\n        return 'descending';\n    }\n  }\n\n  @Output('clrDgSortOrderChange') public sortOrderChange = new EventEmitter<ClrDatagridSortOrder>();\n\n  /**\n   * Sorts the datagrid based on this column\n   */\n  public sort(reverse?: boolean) {\n    if (!this.sortable) {\n      return;\n    }\n\n    this._sort.toggle(this._sortBy, reverse);\n\n    // setting the private variable to not retrigger the setter logic\n    this._sortOrder = this._sort.reverse ? ClrDatagridSortOrder.DESC : ClrDatagridSortOrder.ASC;\n    // Sets the correct icon for current sort order\n    this.sortIcon = this._sortOrder === ClrDatagridSortOrder.DESC ? 'arrow down' : 'arrow';\n    this.sortOrderChange.emit(this._sortOrder);\n\n    // deprecated: to be removed - START\n    this._sorted = true;\n    this.sortedChange.emit(true);\n    // deprecated: to be removed - END\n  }\n\n  public sortIcon;\n\n  /**\n   * A custom filter for this column that can be provided in the projected content\n   */\n  public customFilter = false;\n\n  @ContentChild(CustomFilter, { static: false })\n  public set projectedFilter(custom: any) {\n    if (custom) {\n      this.deleteFilter();\n      this.customFilter = true;\n    }\n  }\n\n  public get filterValue() {\n    return this.filter.value;\n  }\n\n  @Input('clrFilterValue')\n  public set updateFilterValue(newValue: string) {\n    if (!this.filter) {\n      return;\n    }\n    if (!newValue) {\n      newValue = '';\n    }\n    if (newValue !== this.filter.value) {\n      this.filter.value = newValue;\n    }\n  }\n\n  public set filterValue(newValue: string) {\n    this.updateFilterValue = newValue;\n    this.filterValueChange.emit(this.filter.value);\n  }\n\n  @Output('clrFilterValueChange') filterValueChange = new EventEmitter();\n\n  private wrappedInjector: Injector;\n\n  ngOnInit() {\n    this.wrappedInjector = new HostWrapper(WrappedColumn, this.vcr);\n  }\n\n  public get _view() {\n    return this.wrappedInjector.get(WrappedColumn, this.vcr).columnView;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, TrackByFunction } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { Subscription } from 'rxjs';\n\nimport { FiltersProvider } from './filters';\nimport { Page } from './page';\nimport { Sort } from './sort';\n\n@Injectable()\nexport class Items<T = any> {\n  constructor(private _filters: FiltersProvider<T>, private _sort: Sort<T>, private _page: Page) {}\n\n  /**\n   * Indicates if the data is currently loading\n   */\n  public loading = false;\n\n  // TODO: Verify that trackBy is registered for the *ngFor case too\n  /**\n   * Tracking function to identify objects. Default is reference equality.\n   */\n  public trackBy: TrackByFunction<T> = (index: number, item: T) => item;\n\n  /**\n   * Subscriptions to the other providers changes.\n   */\n  private _filtersSub: Subscription;\n  private _sortSub: Subscription;\n  private _pageSub: Subscription;\n  /**\n   * Cleans up our subscriptions to other providers\n   */\n  public destroy() {\n    if (this._filtersSub) {\n      this._filtersSub.unsubscribe();\n    }\n    if (this._sortSub) {\n      this._sortSub.unsubscribe();\n    }\n    if (this._pageSub) {\n      this._pageSub.unsubscribe();\n    }\n  }\n\n  /**\n   * Whether we should use smart items for this datagrid or let the user handle\n   * everything.\n   */\n  private _smart = false;\n  public get smart(): boolean {\n    return this._smart;\n  }\n  public smartenUp() {\n    this._smart = true;\n    /*\n         * These observers trigger a chain of function: filter -> sort -> paginate\n         * An observer up the chain re-triggers all the operations that follow it.\n         */\n    this._filtersSub = this._filters.change.subscribe(() => this._filterItems());\n    this._sortSub = this._sort.change.subscribe(() => {\n      // Special case, if the datagrid went from sorted to unsorted, we have to re-filter\n      // to get the original order back\n      if (!this._sort.comparator) {\n        this._filterItems();\n      } else {\n        this._sortItems();\n      }\n    });\n    this._pageSub = this._page.change.subscribe(() => this._changePage());\n  }\n\n  /**\n   * List of all items in the datagrid\n   */\n  private _all: T[];\n  public get all() {\n    return this._all;\n  }\n  public set all(items: T[]) {\n    this._all = items;\n    this.emitAllChanges(items);\n    if (this.smart) {\n      this._filterItems();\n    } else {\n      this._displayed = items;\n      this.emitChange();\n    }\n  }\n\n  /**\n   * Manually recompute the list of displayed items\n   */\n  public refresh() {\n    if (this.smart) {\n      this._filterItems();\n    }\n  }\n\n  /**\n   * Internal temporary step, which we preserve to avoid re-filtering or re-sorting if not necessary\n   */\n  private _filtered: T[];\n\n  /**\n   * List of items currently displayed\n   */\n  private _displayed: T[] = [];\n  public get displayed(): T[] {\n    // Ideally we could return an immutable array, but we don't have it in Clarity yet.\n    return this._displayed;\n  }\n\n  /**\n   * The Observable that lets other classes subscribe to items changes\n   */\n  private _change = new Subject<T[]>();\n  private emitChange() {\n    this._change.next(this.displayed);\n  }\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<T[]> {\n    return this._change.asObservable();\n  }\n\n  private _allChanges = new Subject<T[]>();\n  private emitAllChanges(items: T[]): void {\n    this._allChanges.next(items);\n  }\n\n  public get allChanges(): Observable<T[]> {\n    return this._allChanges.asObservable();\n  }\n\n  /**\n   * Checks if we don't have data to process yet, to abort early operations\n   */\n  private get uninitialized() {\n    return !this._all;\n  }\n\n  /**\n   * FiltersProvider items from the raw list\n   */\n  private _filterItems() {\n    if (this.uninitialized) {\n      return;\n    }\n    if (this._filters.hasActiveFilters()) {\n      this._filtered = this._all.filter(item => this._filters.accepts(item));\n    } else {\n      // Work on a shallow copy of the array, to not modify the user's model\n      this._filtered = this._all.slice();\n    }\n    this._page.totalItems = this._filtered.length;\n    this._sortItems();\n  }\n\n  /**\n   * Sorts items in the filtered list\n   */\n  private _sortItems() {\n    if (this.uninitialized) {\n      return;\n    }\n    if (this._sort.comparator) {\n      this._filtered.sort((a, b) => this._sort.compare(a, b));\n    }\n    this._changePage();\n  }\n\n  /**\n   * Extracts the current page from the sorted list\n   */\n  private _changePage() {\n    // If we know we have pagination but the page size hasn't been set yet, we wait for it.\n    if (this.uninitialized || (this._page.activated && this._page.size === 0)) {\n      return;\n    }\n    if (this._page.size > 0) {\n      this._displayed = this._filtered.slice(this._page.firstItem, this._page.lastItem + 1);\n    } else {\n      this._displayed = this._filtered;\n    }\n    this.emitChange();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { NgForOf, NgForOfContext } from '@angular/common';\nimport {\n  Directive,\n  DoCheck,\n  Input,\n  IterableDiffer,\n  IterableDiffers,\n  TemplateRef,\n  TrackByFunction,\n  ViewContainerRef,\n  OnDestroy,\n} from '@angular/core';\n\nimport { Items } from './providers/items';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[clrDgItems][clrDgItemsOf]',\n})\nexport class ClrDatagridItems<T> implements DoCheck, OnDestroy {\n  private iterableProxy: NgForOf<T>;\n  private _rawItems: T[];\n  private differ: IterableDiffer<T> | null = null;\n  private subscriptions: Subscription[] = [];\n\n  @Input('clrDgItemsOf')\n  public set rawItems(items: T[]) {\n    this._rawItems = items ? items : []; // local copy for ngOnChange diffing\n  }\n\n  @Input('clrDgItemsTrackBy')\n  set trackBy(value: TrackByFunction<T>) {\n    this.iterableProxy.ngForTrackBy = value;\n  }\n\n  constructor(\n    public template: TemplateRef<NgForOfContext<T>>,\n    private differs: IterableDiffers,\n    private items: Items,\n    private vcr: ViewContainerRef\n  ) {\n    items.smartenUp();\n    this.iterableProxy = new NgForOf<T>(this.vcr, this.template, this.differs);\n    this.subscriptions.push(\n      items.change.subscribe(newItems => {\n        this.iterableProxy.ngForOf = newItems;\n        this.iterableProxy.ngDoCheck();\n      })\n    );\n  }\n\n  ngDoCheck() {\n    if (!this.differ) {\n      this.differ = this.differs.find(this._rawItems).create(this.iterableProxy.ngForTrackBy);\n    }\n    if (this.differ) {\n      const changes = this.differ.diff(this._rawItems);\n      if (changes) {\n        // TODO: not very efficient right now,\n        // but premature optimization is the root of all evil.\n        this.items.all = this._rawItems;\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\nimport { Items } from './providers/items';\n\n@Component({\n  selector: 'clr-dg-placeholder',\n  template: `\n        <div\n            class=\"datagrid-placeholder\"\n            [class.datagrid-empty]=\"emptyDatagrid\">\n                <div class=\"datagrid-placeholder-image\" *ngIf=\"emptyDatagrid\"></div>\n                <ng-content *ngIf=\"emptyDatagrid\"></ng-content>\n        </div>\n    `,\n  host: { '[class.datagrid-placeholder-container]': 'true' },\n})\nexport class ClrDatagridPlaceholder<T = any> {\n  constructor(private items: Items<T>) {}\n\n  /**\n   * Tests if the datagrid is empty, meaning it doesn't contain any items\n   */\n  public get emptyDatagrid() {\n    return !this.items.loading && (!this.items.displayed || this.items.displayed.length === 0);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ElementRef, InjectionToken } from '@angular/core';\n\nexport const POPOVER_HOST_ANCHOR = new InjectionToken<ElementRef>('POPOVER_HOST_ANCHOR');\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, HostListener, OnDestroy, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfOpenService } from '../../utils/conditional/if-open.service';\n\n@Directive({ selector: '[clrSignpostTrigger]', host: { class: 'signpost-trigger' } })\n\n/*********\n *\n * @description\n * A Directive added to the ClrSignpost Trigger button that will call the ClrSignpost.toggle() function to hide/show the\n * ClrSignpostContent.\n *\n */\nexport class ClrSignpostTrigger implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  constructor(private ifOpenService: IfOpenService, private renderer: Renderer2, private el: ElementRef) {\n    this.subscriptions.push(\n      this.ifOpenService.openChange.subscribe((isOpen: boolean) => {\n        if (isOpen) {\n          this.renderer.addClass(this.el.nativeElement, 'active');\n        } else {\n          this.renderer.removeClass(this.el.nativeElement, 'active');\n        }\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n\n  /**********\n   *\n   * @description\n   * click handler for the ClrSignpost trigger button used to hide/show ClrSignpostContent.\n   */\n  @HostListener('click', ['$event'])\n  onSignpostTriggerClick(event: Event): void {\n    this.ifOpenService.toggleWithEvent(event);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ContentChild, ElementRef } from '@angular/core';\n\nimport { IfOpenService } from '../../utils/conditional/if-open.service';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\n\nimport { ClrSignpostTrigger } from './signpost-trigger';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n@Component({\n  selector: 'clr-signpost',\n  template: `\n        <ng-container *ngIf=\"!useCustomTrigger\">\n            <button\n                type=\"button\"\n                class=\"signpost-action btn btn-small btn-link\"\n                clrSignpostTrigger>\n                <clr-icon shape=\"info\" [attr.title]=\"commonStrings.info\"></clr-icon>\n            </button>\n        </ng-container>\n        \n        <ng-content></ng-content>\n    `,\n  host: { '[class.signpost]': 'true' },\n  providers: [IfOpenService, { provide: POPOVER_HOST_ANCHOR, useExisting: ElementRef }],\n})\n\n/*********\n *\n * @class ClrSignpost\n *\n * @description\n * Class used to configure and control the state of a ClrSignpost and its associated ClrSignpostContent.\n * It supports the clrPosition with a 'right-middle' default.\n *\n */\nexport class ClrSignpost {\n  constructor(public commonStrings: ClrCommonStrings) {}\n\n  /**********\n   * @property useCustomTrigger\n   *\n   * @description\n   * Flag used to determine if we need to use the default trigger or a user supplied trigger element.\n   *\n   */\n  public useCustomTrigger: boolean = false;\n\n  /**********\n   * @property signPostTrigger\n   *\n   * @description\n   * Uses ContentChild to check for a user supplied element with the ClrSignpostTrigger on it.\n   *\n   */\n  @ContentChild(ClrSignpostTrigger, { static: false })\n  set customTrigger(trigger: ClrSignpostTrigger) {\n    this.useCustomTrigger = !!trigger;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, EmbeddedViewRef, TemplateRef, ViewChild } from '@angular/core';\n\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\n\n@Component({\n  selector: 'dg-wrapped-cell',\n  template: `        \n        <ng-template #cellPortal>\n            <ng-content></ng-content>\n        </ng-template>\n    `,\n})\nexport class WrappedCell implements DynamicWrapper, AfterViewInit {\n  _dynamic = false;\n  @ViewChild('cellPortal', { static: false })\n  templateRef: TemplateRef<void>;\n  cellView: EmbeddedViewRef<void>; // the cells projected view\n\n  ngAfterViewInit() {\n    this.cellView = this.templateRef.createEmbeddedView(null);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ContentChildren, Injector, OnInit, QueryList, ViewContainerRef } from '@angular/core';\n\nimport { ClrSignpost } from '../../popover/signpost/signpost';\nimport { HostWrapper } from '../../utils/host-wrapping/host-wrapper';\nimport { WrappedCell } from './wrapped-cell';\n\n@Component({\n  selector: 'clr-dg-cell',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.datagrid-cell]': 'true',\n    '[class.datagrid-signpost-trigger]': 'signpost.length > 0',\n    role: 'gridcell',\n  },\n})\nexport class ClrDatagridCell implements OnInit {\n  /*********\n   * @property signpost\n   *\n   * @description\n   * @ContentChild is used to detect the presence of a Signpost in the projected content.\n   * On the host, we set the .datagrid-signpost-trigger class on the cell when signpost.length is greater than 0.\n   *\n   */\n  @ContentChildren(ClrSignpost) signpost: QueryList<ClrSignpost>;\n\n  constructor(private vcr: ViewContainerRef) {}\n\n  private wrappedInjector: Injector;\n\n  ngOnInit() {\n    this.wrappedInjector = new HostWrapper(WrappedCell, this.vcr);\n  }\n\n  public get _view() {\n    return this.wrappedInjector.get(WrappedCell, this.vcr).cellView;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum DatagridDisplayMode {\n  DISPLAY,\n  CALCULATE,\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum DatagridRenderStep {\n  ALIGN_COLUMNS,\n  CALCULATE_MODE_ON,\n  CALCULATE_MODE_OFF,\n  CLEAR_WIDTHS, // Note this is listened to by both cells and columns\n  COMPUTE_COLUMN_WIDTHS,\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { DatagridRenderStep } from '../enums/render-step.enum';\n\n@Injectable()\nexport class DatagridRenderOrganizer {\n  protected _renderStep: Subject<DatagridRenderStep> = new Subject<DatagridRenderStep>();\n  public get renderStep(): Observable<DatagridRenderStep> {\n    return this._renderStep.asObservable();\n  }\n\n  public filterRenderSteps(step: DatagridRenderStep) {\n    return this.renderStep.pipe(filter(testStep => step === testStep));\n  }\n\n  private alreadySized = false;\n\n  public resize() {\n    this._renderStep.next(DatagridRenderStep.CALCULATE_MODE_ON);\n    if (this.alreadySized) {\n      this._renderStep.next(DatagridRenderStep.CLEAR_WIDTHS);\n    }\n    this._renderStep.next(DatagridRenderStep.COMPUTE_COLUMN_WIDTHS);\n    this._renderStep.next(DatagridRenderStep.ALIGN_COLUMNS);\n    this.alreadySized = true;\n    this._renderStep.next(DatagridRenderStep.CALCULATE_MODE_OFF);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, OnDestroy } from '@angular/core';\nimport { Observable, BehaviorSubject, Subscription } from 'rxjs';\n\nimport { DatagridDisplayMode } from '../enums/display-mode.enum';\nimport { DatagridRenderStep } from '../enums/render-step.enum';\nimport { DatagridRenderOrganizer } from '../render/render-organizer';\n\n@Injectable()\nexport class DisplayModeService implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n  protected _view: BehaviorSubject<DatagridDisplayMode> = new BehaviorSubject<DatagridDisplayMode>(\n    DatagridDisplayMode.DISPLAY\n  );\n\n  constructor(renderOrganizer: DatagridRenderOrganizer) {\n    this.subscriptions.push(\n      renderOrganizer\n        .filterRenderSteps(DatagridRenderStep.CALCULATE_MODE_ON)\n        .subscribe(() => this._view.next(DatagridDisplayMode.CALCULATE))\n    );\n\n    this.subscriptions.push(\n      renderOrganizer\n        .filterRenderSteps(DatagridRenderStep.CALCULATE_MODE_OFF)\n        .subscribe(() => this._view.next(DatagridDisplayMode.DISPLAY))\n    );\n  }\n\n  public get view(): Observable<DatagridDisplayMode> {\n    return this._view.asObservable();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum SelectionType {\n  None,\n  Single,\n  Multi,\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, TrackByFunction } from '@angular/core';\nimport { Observable, Subject, Subscription } from 'rxjs';\n\nimport { FiltersProvider } from './filters';\nimport { Items } from './items';\nimport { SelectionType } from '../enums/selection-type';\n\nlet nbSelection: number = 0;\n\n@Injectable()\nexport class Selection<T = any> {\n  public id: string;\n  private prevSelectionRefs: T[] = []; // Refs of selected items\n  private prevSingleSelectionRef: T; // Ref of single selected item\n\n  constructor(private _items: Items<T>, private _filters: FiltersProvider<T>) {\n    this.id = 'clr-dg-selection' + nbSelection++;\n\n    this.subscriptions.push(\n      this._filters.change.subscribe(() => {\n        if (!this._selectable) {\n          return;\n        }\n        this.clearSelection();\n      })\n    );\n\n    this.subscriptions.push(\n      this._items.allChanges.subscribe(updatedItems => {\n        switch (this.selectionType) {\n          case SelectionType.None: {\n            break;\n          }\n\n          case SelectionType.Single: {\n            let newSingle: any;\n            const trackBy: TrackByFunction<T> = this._items.trackBy;\n            let selectionUpdated: boolean = false;\n\n            // if the currentSingle has been set before data was loaded, we look up and save the ref from current data set\n            if (this.currentSingle && !this.prevSingleSelectionRef) {\n              if (this._items.all && this._items.trackBy) {\n                const lookup = this._items.all.findIndex(maybe => maybe === this.currentSingle);\n                this.prevSingleSelectionRef = this._items.trackBy(lookup, this.currentSingle);\n              }\n            }\n\n            updatedItems.forEach((item, index) => {\n              const ref = trackBy(index, item);\n              // If one of the updated items is the previously selectedSingle, set it as the new one\n              if (this.prevSingleSelectionRef === ref) {\n                newSingle = item;\n                selectionUpdated = true;\n              }\n            });\n\n            // If we're using smart datagrids, we expect all items to be present in the updatedItems array.\n            // Therefore, we should delete the currentSingle if it used to be defined but doesn't exist anymore.\n            // No explicit \"delete\" is required, since newSingle would be undefined at this point.\n            // Marking it as selectionUpdated here will set currentSingle to undefined below in the setTimeout.\n            if (this._items.smart && !newSingle) {\n              selectionUpdated = true;\n            }\n\n            // TODO: Discussed this with Eudes and this is fine for now.\n            // But we need to figure out a different pattern for the\n            // child triggering the parent change detection problem.\n            // Using setTimeout for now to fix this.\n            setTimeout(() => {\n              if (selectionUpdated) {\n                this.currentSingle = newSingle;\n              }\n            }, 0);\n            break;\n          }\n\n          case SelectionType.Multi: {\n            let leftOver: any[] = this.current.slice();\n            const trackBy: TrackByFunction<any> = this._items.trackBy;\n            let selectionUpdated: boolean = false;\n\n            // if the current has been set before data was loaded, we look up and save the ref from current data set\n            if (this.current.length > 0 && this.prevSelectionRefs.length !== this.current.length) {\n              if (this._items.all && this._items.trackBy) {\n                this.prevSelectionRefs = [];\n                this.current.forEach(item => {\n                  const lookup = this._items.all.findIndex(maybe => maybe === item);\n                  this.prevSelectionRefs.push(this._items.trackBy(lookup, item));\n                });\n              }\n            }\n\n            // TODO: revisit this when we work on https://github.com/vmware/clarity/issues/2342\n            // currently, the selection is cleared when filter is applied, so the logic inside\n            // the if statement below results in broken behavior.\n            if (leftOver.length > 0) {\n              updatedItems.forEach((item, index) => {\n                const ref = trackBy(index, item);\n                // Look in current selected refs array if item is selected, and update actual value\n                const selectedIndex = this.prevSelectionRefs.indexOf(ref);\n                if (selectedIndex > -1) {\n                  leftOver[selectedIndex] = item;\n                  selectionUpdated = true;\n                }\n              });\n\n              // Filter out any unmatched items if we're using smart datagrids where we expect all items to be\n              // present\n              if (this._items.smart) {\n                leftOver = leftOver.filter(selected => updatedItems.indexOf(selected) > -1);\n                if (this.current.length !== leftOver.length) {\n                  selectionUpdated = true;\n                }\n              }\n\n              // TODO: Discussed this with Eudes and this is fine for now.\n              // But we need to figure out a different pattern for the\n              // child triggering the parent change detection problem.\n              // Using setTimeout for now to fix this.\n              setTimeout(() => {\n                if (selectionUpdated) {\n                  this.current = leftOver;\n                }\n              }, 0);\n            }\n            break;\n          }\n\n          default: {\n            break;\n          }\n        }\n      })\n    );\n  }\n\n  public clearSelection(): void {\n    this.current.length = 0;\n    this.prevSelectionRefs = [];\n    this._currentSingle = null;\n    this.prevSingleSelectionRef = null;\n    this.emitChange();\n  }\n\n  private _selectionType: SelectionType = SelectionType.None;\n  public get selectionType(): SelectionType {\n    return this._selectionType;\n  }\n  public set selectionType(value: SelectionType) {\n    if (value === this.selectionType) {\n      return;\n    }\n    this._selectionType = value;\n    if (value === SelectionType.None) {\n      delete this.current;\n    } else {\n      this.updateCurrent([], false);\n    }\n  }\n\n  /** @deprecated since 2.0, remove in 3.0 */\n  public rowSelectionMode: boolean = false;\n\n  private get _selectable(): boolean {\n    return this._selectionType === SelectionType.Multi || this._selectionType === SelectionType.Single;\n  }\n  /**\n   * Ignore items changes in the same change detection cycle.\n   */\n  // tslint:disable-next-line\n  private debounce: boolean = false;\n\n  /**\n   * Subscriptions to the other providers changes.\n   */\n  private subscriptions: Subscription[] = [];\n\n  /**\n   * Cleans up our subscriptions to other providers\n   */\n  public destroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  /**\n   * The current selection in single selection type\n   */\n  private _currentSingle: T;\n  public get currentSingle(): T {\n    return this._currentSingle;\n  }\n  public set currentSingle(value: T) {\n    if (value === this._currentSingle) {\n      return;\n    }\n    this._currentSingle = value;\n    if (this._items.all && this._items.trackBy && value) {\n      const lookup = this._items.all.findIndex(maybe => maybe === value);\n      this.prevSingleSelectionRef = this._items.trackBy(lookup, value);\n    }\n    this.emitChange();\n    // Ignore items changes in the same change detection cycle.\n    // @TODO This can likely be removed!\n    this.debounce = true;\n    setTimeout(() => (this.debounce = false));\n  }\n\n  /**\n   * The current selection\n   */\n  private _current: T[];\n  public get current(): T[] {\n    return this._current;\n  }\n  public set current(value: T[]) {\n    this.updateCurrent(value, true);\n  }\n\n  public updateCurrent(value: T[], emit: boolean) {\n    this._current = value;\n    if (emit) {\n      this.emitChange();\n      // Ignore items changes in the same change detection cycle.\n      // @TODO This can likely be removed!\n      this.debounce = true;\n      setTimeout(() => (this.debounce = false));\n    }\n  }\n\n  /**\n   * The Observable that lets other classes subscribe to selection changes\n   */\n  private _change = new Subject<T[] | T>();\n  private emitChange() {\n    if (this._selectionType === SelectionType.Single) {\n      this._change.next(this.currentSingle);\n    } else if (this._selectionType === SelectionType.Multi) {\n      this._change.next(this.current);\n    }\n  }\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<T[] | T> {\n    return this._change.asObservable();\n  }\n\n  /**\n   * Checks if an item is currently selected\n   */\n  public isSelected(item: T): boolean {\n    if (this._selectionType === SelectionType.Single) {\n      return this.currentSingle === item;\n    } else if (this._selectionType === SelectionType.Multi) {\n      return this.current.indexOf(item) >= 0;\n    }\n    return false;\n  }\n\n  /**\n   * Selects an item\n   */\n  private selectItem(item: T): void {\n    this.current.push(item);\n    if (this._items.trackBy) {\n      // Push selected ref onto array\n      const lookup = this._items.all.findIndex(maybe => maybe === item);\n      this.prevSelectionRefs.push(this._items.trackBy(lookup, item));\n    }\n  }\n\n  /**\n   * Deselects an item\n   */\n  private deselectItem(indexOfItem: number): void {\n    this.current.splice(indexOfItem, 1);\n    if (this._items.trackBy && indexOfItem < this.prevSelectionRefs.length) {\n      // Keep selected refs array in sync\n      this.prevSelectionRefs.splice(indexOfItem, 1);\n    }\n  }\n\n  /**\n   * Selects or deselects an item\n   */\n  public setSelected(item: T, selected: boolean) {\n    switch (this._selectionType) {\n      case SelectionType.None:\n        break;\n      case SelectionType.Single:\n        // in single selection, set currentSingle method should be used\n        break;\n      case SelectionType.Multi:\n        const index = this.current.indexOf(item);\n        if (index >= 0 && !selected) {\n          this.deselectItem(index);\n          this.emitChange();\n        } else if (index < 0 && selected) {\n          this.selectItem(item);\n          this.emitChange();\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  /**\n   * Checks if all currently displayed items are selected\n   */\n  public isAllSelected(): boolean {\n    if (this._selectionType !== SelectionType.Multi || !this._items.displayed) {\n      return false;\n    }\n    const displayedItems: T[] = this._items.displayed;\n    const nbDisplayed = this._items.displayed.length;\n    if (nbDisplayed < 1) {\n      return false;\n    }\n    const temp: T[] = displayedItems.filter(item => this.current.indexOf(item) > -1);\n    return temp.length === displayedItems.length;\n  }\n\n  /**\n   * Selects or deselects all currently displayed items\n   */\n  public toggleAll() {\n    if (this._selectionType === SelectionType.None || this._selectionType === SelectionType.Single) {\n      return;\n    }\n    /*\n         * If every currently displayed item is already selected, we clear them.\n         * If at least one item isn't selected, we select every currently displayed item.\n         */\n    if (this.isAllSelected()) {\n      this._items.displayed.forEach(item => {\n        const currentIndex = this.current.indexOf(item);\n        if (currentIndex > -1) {\n          this.deselectItem(currentIndex);\n        }\n      });\n    } else {\n      this._items.displayed.forEach(item => {\n        if (this.current.indexOf(item) < 0) {\n          this.selectItem(item);\n        }\n      });\n    }\n    this.emitChange();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, EmbeddedViewRef, TemplateRef, ViewChild } from '@angular/core';\n\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\n\n@Component({\n  selector: 'dg-wrapped-row',\n  template: `        \n        <ng-template #rowPortal>\n            <ng-content></ng-content>\n        </ng-template>\n    `,\n})\nexport class WrappedRow implements DynamicWrapper, AfterViewInit {\n  _dynamic = false;\n\n  @ViewChild('rowPortal', { static: false })\n  templateRef: TemplateRef<void>;\n  rowView: EmbeddedViewRef<void>; // the rows projected view (in memory)\n\n  ngAfterViewInit() {\n    // Create the cells view in memory, not the DOM.\n    this.rowView = this.templateRef.createEmbeddedView(null);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  Input,\n  Output,\n  QueryList,\n  Renderer2,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport { combineLatest, Subscription } from 'rxjs';\n\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\nimport { HostWrapper } from '../../utils/host-wrapping/host-wrapper';\nimport { LoadingListener } from '../../utils/loading/loading-listener';\n\nimport { ClrDatagridCell } from './datagrid-cell';\nimport { DatagridDisplayMode } from './enums/display-mode.enum';\nimport { DisplayModeService } from './providers/display-mode.service';\nimport { ExpandableRowsCount } from './providers/global-expandable-rows';\nimport { RowActionService } from './providers/row-action-service';\nimport { Selection } from './providers/selection';\nimport { WrappedRow } from './wrapped-row';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\nimport { SelectionType } from './enums/selection-type';\nimport { DatagridIfExpandService } from './datagrid-if-expanded.service';\n\nlet nbRow: number = 0;\n\n@Component({\n  selector: 'clr-dg-row',\n  templateUrl: './datagrid-row.html',\n  host: {\n    '[class.datagrid-row]': 'true',\n    '[class.datagrid-selected]': 'selected',\n    '[attr.aria-owns]': 'id',\n    role: 'rowgroup',\n  },\n  providers: [\n    DatagridIfExpandService,\n    { provide: IfExpandService, useExisting: DatagridIfExpandService },\n    { provide: LoadingListener, useExisting: DatagridIfExpandService },\n  ],\n})\nexport class ClrDatagridRow<T = any> implements AfterContentInit, AfterViewInit {\n  public id: string;\n  public radioId: string;\n  public checkboxId: string;\n\n  /* reference to the enum so that template can access */\n  public SELECTION_TYPE = SelectionType;\n\n  /**\n   * Model of the row, to use for selection\n   */\n  @Input('clrDgItem') item: T;\n\n  public replaced;\n\n  constructor(\n    public selection: Selection<T>,\n    public rowActionService: RowActionService,\n    public globalExpandable: ExpandableRowsCount,\n    public expand: DatagridIfExpandService,\n    private displayMode: DisplayModeService,\n    private vcr: ViewContainerRef,\n    private renderer: Renderer2,\n    private el: ElementRef,\n    public commonStrings: ClrCommonStrings\n  ) {\n    nbRow++;\n    this.id = 'clr-dg-row' + nbRow;\n    this.radioId = 'clr-dg-row-rd' + nbRow;\n    this.checkboxId = 'clr-dg-row-cb' + nbRow;\n\n    this.subscriptions.push(\n      combineLatest(this.expand.replace, this.expand.expandChange).subscribe(\n        ([expandReplaceValue, expandChangeValue]) => {\n          if (expandReplaceValue && expandChangeValue) {\n            // replaced and expanding\n            this.replaced = true;\n            this.renderer.addClass(this.el.nativeElement, 'datagrid-row-replaced');\n          } else {\n            this.replaced = false;\n            // Handles these cases: not replaced and collapsing & replaced and\n            // collapsing and not replaced and expanding.\n            this.renderer.removeClass(this.el.nativeElement, 'datagrid-row-replaced');\n          }\n        }\n      )\n    );\n  }\n\n  private _selected = false;\n  /**\n   * Indicates if the row is selected\n   */\n  public get selected() {\n    if (this.selection.selectionType === SelectionType.None) {\n      return this._selected;\n    } else {\n      return this.selection.isSelected(this.item);\n    }\n  }\n\n  @Input('clrDgSelected')\n  public set selected(value: boolean) {\n    if (this.selection.selectionType === SelectionType.None) {\n      this._selected = value;\n    } else {\n      this.selection.setSelected(this.item, value);\n    }\n  }\n\n  @Output('clrDgSelectedChange') selectedChanged = new EventEmitter<boolean>(false);\n\n  public toggle(selected = !this.selected) {\n    if (selected !== this.selected) {\n      this.selected = selected;\n      this.selectedChanged.emit(selected);\n    }\n  }\n\n  public get expanded() {\n    return this.expand.expanded;\n  }\n\n  @Input('clrDgExpanded')\n  public set expanded(value: boolean) {\n    this.expand.expanded = value;\n  }\n\n  @Output('clrDgExpandedChange') expandedChange = new EventEmitter<boolean>(false);\n\n  public toggleExpand() {\n    if (this.expand.expandable) {\n      this.expanded = !this.expanded;\n      this.expandedChange.emit(this.expanded);\n    }\n  }\n\n  /*****\n   * property dgCells\n   *\n   * @description\n   * A Query List of the ClrDatagrid cells in this row.\n   *\n   */\n  @ContentChildren(ClrDatagridCell) dgCells: QueryList<ClrDatagridCell>;\n\n  ngAfterContentInit() {\n    this.dgCells.changes.subscribe(() => {\n      this.dgCells.forEach(cell => {\n        this._scrollableCells.insert(cell._view);\n      });\n    });\n  }\n\n  ngAfterViewInit() {\n    this.subscriptions.push(\n      this.displayMode.view.subscribe(viewChange => {\n        // Listen for view changes and move cells around depending on the current displayType\n        // remove cell views from display view\n        for (let i = this._scrollableCells.length; i > 0; i--) {\n          this._scrollableCells.detach();\n        }\n        // remove cell views from calculated view\n        for (let i = this._calculatedCells.length; i > 0; i--) {\n          this._calculatedCells.detach();\n        }\n        if (viewChange === DatagridDisplayMode.CALCULATE) {\n          this.displayCells = false;\n          this.dgCells.forEach(cell => {\n            this._calculatedCells.insert(cell._view);\n          });\n        } else {\n          this.displayCells = true;\n          this.dgCells.forEach(cell => {\n            this._scrollableCells.insert(cell._view);\n          });\n        }\n      })\n    );\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n\n  public displayCells = false;\n\n  @ViewChild('stickyCells', { static: false, read: ViewContainerRef })\n  _stickyCells: ViewContainerRef;\n  @ViewChild('scrollableCells', { static: false, read: ViewContainerRef })\n  _scrollableCells: ViewContainerRef;\n  @ViewChild('calculatedCells', { static: false, read: ViewContainerRef })\n  _calculatedCells: ViewContainerRef;\n\n  private wrappedInjector: Injector;\n\n  ngOnInit() {\n    this.wrappedInjector = new HostWrapper(WrappedRow, this.vcr);\n  }\n\n  public get _view() {\n    return this.wrappedInjector.get(WrappedRow, this.vcr).rowView;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { DatagridPropertyComparator } from '../built-in/comparators/datagrid-property-comparator';\nimport { ClrDatagridStateInterface } from '../interfaces/state.interface';\n\nimport { FiltersProvider } from './filters';\nimport { Page } from './page';\nimport { Sort } from './sort';\nimport { StateDebouncer } from './state-debouncer.provider';\n\n/**\n * This provider aggregates state changes from the various providers of the Datagrid\n */\n@Injectable()\nexport class StateProvider<T> {\n  constructor(\n    private filters: FiltersProvider<T>,\n    private sort: Sort<T>,\n    private page: Page,\n    private debouncer: StateDebouncer\n  ) {}\n\n  /**\n   * The Observable that lets other classes subscribe to global state changes\n   */\n  change: Observable<ClrDatagridStateInterface<T>> = this.debouncer.change.pipe(map(() => this.state));\n\n  /*\n     * By making this a getter, we open the possibility for a setter in the future.\n     * It's been requested a couple times.\n     */\n  get state(): ClrDatagridStateInterface<T> {\n    const state: ClrDatagridStateInterface<T> = {};\n    if (this.page.size > 0) {\n      state.page = { from: this.page.firstItem, to: this.page.lastItem, size: this.page.size };\n    }\n    if (this.sort.comparator) {\n      if (this.sort.comparator instanceof DatagridPropertyComparator) {\n        /*\n                 * Special case for the default object property comparator,\n                 * we give the property name instead of the actual comparator.\n                 */\n        state.sort = { by: (<DatagridPropertyComparator<T>>this.sort.comparator).prop, reverse: this.sort.reverse };\n      } else {\n        state.sort = { by: this.sort.comparator, reverse: this.sort.reverse };\n      }\n    }\n\n    const activeFilters = this.filters.getActiveFilters();\n    if (activeFilters.length > 0) {\n      state.filters = [];\n      for (const filter of activeFilters) {\n        if (filter.state) {\n          state.filters.push(filter.state);\n        } else {\n          state.filters.push(filter);\n        }\n      }\n    }\n    return state;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { isPlatformBrowser } from '@angular/common';\nimport { ElementRef, Inject, Injectable, PLATFORM_ID } from '@angular/core';\n\n/**\n * @description\n * Internal datagrid service that holds a reference to the clr-dg-table element and exposes a method to get height.\n */\n@Injectable()\nexport class TableSizeService {\n  private _tableRef: HTMLElement;\n\n  public get tableRef(): HTMLElement {\n    return this._tableRef;\n  }\n\n  public set tableRef(element: HTMLElement) {\n    this._tableRef = element;\n  }\n\n  constructor(@Inject(PLATFORM_ID) private platformId: Object) {}\n  public set table(table: ElementRef) {\n    if (isPlatformBrowser(this.platformId) && table.nativeElement) {\n      this.tableRef = table.nativeElement.querySelector('.datagrid-table');\n    }\n  }\n\n  // Used when resizing columns to show the column border being dragged.\n  getColumnDragHeight(): string {\n    if (!this.tableRef) {\n      return;\n    }\n    return `${this.tableRef.clientHeight}px`;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { ColumnStateDiff, ColumnState } from '../interfaces/column-state.interface';\n\n@Injectable()\nexport class ColumnsService {\n  columns: BehaviorSubject<ColumnState>[] = [];\n\n  get columnStates(): ColumnState[] {\n    return this.columns.map(column => column.value);\n  }\n\n  get hasHideableColumns(): boolean {\n    return this.columnStates.filter(state => state.hideable).length > 0;\n  }\n\n  // Helper method to emit a change to a column only when there is an actual diff to process for that column\n  emitStateChangeAt(columnIndex: number, diff: ColumnStateDiff) {\n    if (!this.columns[columnIndex]) {\n      return;\n    }\n    this.emitStateChange(this.columns[columnIndex], diff);\n  }\n\n  emitStateChange(column: BehaviorSubject<ColumnState>, diff: ColumnStateDiff) {\n    const current = column.value;\n    column.next({ ...current, ...diff });\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  QueryList,\n  Renderer2,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ClrDatagridColumn } from './datagrid-column';\nimport { ClrDatagridItems } from './datagrid-items';\nimport { ClrDatagridPlaceholder } from './datagrid-placeholder';\nimport { ClrDatagridRow } from './datagrid-row';\nimport { DatagridDisplayMode } from './enums/display-mode.enum';\nimport { ClrDatagridStateInterface } from './interfaces/state.interface';\nimport { DisplayModeService } from './providers/display-mode.service';\nimport { FiltersProvider } from './providers/filters';\nimport { ExpandableRowsCount } from './providers/global-expandable-rows';\nimport { Items } from './providers/items';\nimport { Page } from './providers/page';\nimport { RowActionService } from './providers/row-action-service';\nimport { Selection } from './providers/selection';\nimport { Sort } from './providers/sort';\nimport { StateDebouncer } from './providers/state-debouncer.provider';\nimport { StateProvider } from './providers/state.provider';\nimport { TableSizeService } from './providers/table-size.service';\nimport { DatagridRenderOrganizer } from './render/render-organizer';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\nimport { SelectionType } from './enums/selection-type';\nimport { ColumnsService } from './providers/columns.service';\n\n@Component({\n  selector: 'clr-datagrid',\n  templateUrl: './datagrid.html',\n  providers: [\n    Selection,\n    Sort,\n    FiltersProvider,\n    Page,\n    Items,\n    DatagridRenderOrganizer,\n    RowActionService,\n    ExpandableRowsCount,\n    StateDebouncer,\n    StateProvider,\n    TableSizeService,\n    ColumnsService,\n    DisplayModeService,\n  ],\n  host: { '[class.datagrid-host]': 'true' },\n})\nexport class ClrDatagrid<T = any> implements AfterContentInit, AfterViewInit, OnDestroy {\n  constructor(\n    private organizer: DatagridRenderOrganizer,\n    public items: Items<T>,\n    public expandableRows: ExpandableRowsCount,\n    public selection: Selection<T>,\n    public rowActionService: RowActionService,\n    private stateProvider: StateProvider<T>,\n    private displayMode: DisplayModeService,\n    private renderer: Renderer2,\n    private el: ElementRef,\n    public commonStrings: ClrCommonStrings\n  ) {}\n\n  /* reference to the enum so that template can access */\n  public SELECTION_TYPE = SelectionType;\n\n  /**\n   * Freezes the datagrid while data is loading\n   */\n  public get loading(): boolean {\n    return this.items.loading;\n  }\n\n  @Input('clrDgLoading')\n  public set loading(value: boolean) {\n    this.items.loading = value;\n  }\n\n  /**\n   * Output emitted whenever the data needs to be refreshed, based on user action or external ones\n   */\n  @Output('clrDgRefresh') public refresh = new EventEmitter<ClrDatagridStateInterface<T>>(false);\n\n  /**\n   * Public method to re-trigger the computation of displayed items manually\n   */\n  public dataChanged() {\n    this.items.refresh();\n  }\n\n  /**\n   * We grab the smart iterator from projected content\n   */\n  @ContentChild(ClrDatagridItems, { static: false })\n  public iterator: ClrDatagridItems<T>;\n\n  /**\n   * Array of all selected items\n   */\n  @Input('clrDgSelected')\n  set selected(value: T[]) {\n    if (value) {\n      this.selection.selectionType = SelectionType.Multi;\n    } else {\n      this.selection.selectionType = SelectionType.None;\n    }\n    this.selection.updateCurrent(value, false);\n  }\n\n  @Output('clrDgSelectedChange') selectedChanged = new EventEmitter<T[]>(false);\n\n  /**\n   * Selected item in single-select mode\n   */\n  @Input('clrDgSingleSelected')\n  set singleSelected(value: T) {\n    this.selection.selectionType = SelectionType.Single;\n    // the clrDgSingleSelected is updated in one of two cases:\n    // 1. an explicit value is passed\n    // 2. is being set to null or undefined, where previously it had a value\n    if (value) {\n      this.selection.currentSingle = value;\n    } else if (this.selection.currentSingle) {\n      this.selection.currentSingle = null;\n    }\n  }\n\n  @Output('clrDgSingleSelectedChange') singleSelectedChanged = new EventEmitter<T>(false);\n\n  /**\n   * @deprecated since 2.0, remove in 3.0\n   *\n   * Selection/Deselection on row click mode\n   */\n  @Input('clrDgRowSelection')\n  set rowSelectionMode(value: boolean) {\n    this.selection.rowSelectionMode = value;\n  }\n\n  /**\n   * Indicates if all currently displayed items are selected\n   */\n  public get allSelected() {\n    return this.selection.isAllSelected();\n  }\n\n  /**\n   * Selects/deselects all currently displayed items\n   * @param value\n   */\n  public set allSelected(value: boolean) {\n    /*\n         * This is a setter but we ignore the value.\n         * It's strange, but it lets us have an indeterminate state where only\n         * some of the items are selected.\n         */\n    this.selection.toggleAll();\n  }\n\n  /**\n   * Custom placeholder detection\n   */\n  @ContentChild(ClrDatagridPlaceholder, { static: false })\n  public placeholder: ClrDatagridPlaceholder<T>;\n\n  /**\n   * Hideable Column data source / detection.\n   */\n  @ContentChildren(ClrDatagridColumn) public columns: QueryList<ClrDatagridColumn<T>>;\n\n  /**\n   * When the datagrid is user-managed without the smart iterator, we get the items displayed\n   * by querying the projected content. This is needed to keep track of the models currently\n   * displayed, typically for selection.\n   */\n\n  @ContentChildren(ClrDatagridRow) rows: QueryList<ClrDatagridRow<T>>;\n  @ViewChild('scrollableColumns', { static: false, read: ViewContainerRef })\n  scrollableColumns: ViewContainerRef;\n\n  ngAfterContentInit() {\n    if (!this.items.smart) {\n      this.items.all = this.rows.map((row: ClrDatagridRow<T>) => row.item);\n    }\n\n    this._subscriptions.push(\n      this.rows.changes.subscribe(() => {\n        if (!this.items.smart) {\n          this.items.all = this.rows.map((row: ClrDatagridRow<T>) => row.item);\n        }\n        this.rows.forEach(row => {\n          this._displayedRows.insert(row._view);\n        });\n      })\n    );\n  }\n\n  /**\n   * Our setup happens in the view of some of our components, so we wait for it to be done before starting\n   */\n  ngAfterViewInit() {\n    // TODO: determine if we can get rid of provider wiring in view init so that subscriptions can be done earlier\n    this.refresh.emit(this.stateProvider.state);\n    this._subscriptions.push(this.stateProvider.change.subscribe(state => this.refresh.emit(state)));\n    this._subscriptions.push(\n      this.selection.change.subscribe(s => {\n        if (this.selection.selectionType === SelectionType.Single) {\n          this.singleSelectedChanged.emit(<T>s);\n        } else if (this.selection.selectionType === SelectionType.Multi) {\n          this.selectedChanged.emit(<T[]>s);\n        }\n      })\n    );\n    // A subscription that listens for displayMode changes on the datagrid\n    this.displayMode.view.subscribe(viewChange => {\n      // Remove any projected columns from the projectedDisplayColumns container\n      for (let i = this._projectedDisplayColumns.length; i > 0; i--) {\n        this._projectedDisplayColumns.detach();\n      }\n      // Remove any projected columns from the projectedCalculationColumns container\n      for (let i = this._projectedCalculationColumns.length; i > 0; i--) {\n        this._projectedCalculationColumns.detach();\n      }\n      // Remove any projected rows from the calculationRows container\n      for (let i = this._calculationRows.length; i > 0; i--) {\n        this._calculationRows.detach();\n      }\n      // Remove any projected rows from the displayedRows container\n      for (let i = this._displayedRows.length; i > 0; i--) {\n        this._displayedRows.detach();\n      }\n      if (viewChange === DatagridDisplayMode.DISPLAY) {\n        // Set state, style for the datagrid to DISPLAY and insert row & columns into containers\n        this.renderer.removeClass(this.el.nativeElement, 'datagrid-calculate-mode');\n        this.columns.forEach(column => {\n          this._projectedDisplayColumns.insert(column._view);\n        });\n        this.rows.forEach(row => {\n          this._displayedRows.insert(row._view);\n        });\n      } else {\n        // Set state, style for the datagrid to CALCULATE and insert row & columns into containers\n        this.renderer.addClass(this.el.nativeElement, 'datagrid-calculate-mode');\n        this.columns.forEach(column => {\n          this._projectedCalculationColumns.insert(column._view);\n        });\n        this.rows.forEach(row => {\n          this._calculationRows.insert(row._view);\n        });\n      }\n    });\n  }\n\n  /**\n   * Subscriptions to all the services and queries changes\n   */\n  private _subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this._subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n\n  resize(): void {\n    this.organizer.resize();\n  }\n\n  @ViewChild('projectedDisplayColumns', { static: false, read: ViewContainerRef })\n  _projectedDisplayColumns: ViewContainerRef;\n  @ViewChild('projectedCalculationColumns', { static: false, read: ViewContainerRef })\n  _projectedCalculationColumns: ViewContainerRef;\n  @ViewChild('displayedRows', { static: false, read: ViewContainerRef })\n  _displayedRows: ViewContainerRef;\n  @ViewChild('calculationRows', { static: false, read: ViewContainerRef })\n  _calculationRows: ViewContainerRef;\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-dg-action-bar',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: { '[class.datagrid-action-bar]': 'true' },\n})\nexport class ClrDatagridActionBar {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EventEmitter, Input, OnDestroy, Output } from '@angular/core';\n\nimport { Point } from '../../popover/common/popover';\n\nimport { RowActionService } from './providers/row-action-service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n@Component({\n  selector: 'clr-dg-action-overflow',\n  template: `\n        <button (click)=\"toggle($event)\" type=\"button\" class=\"datagrid-action-toggle\" #anchor>\n            <clr-icon shape=\"ellipsis-vertical\" [attr.title]=\"commonStrings.rowActions\"></clr-icon>\n        </button>\n        <ng-template [(clrPopoverOld)]=\"open\" [clrPopoverOldAnchor]=\"anchor\" [clrPopoverOldAnchorPoint]=\"anchorPoint\"\n                     [clrPopoverOldPopoverPoint]=\"popoverPoint\">\n            <div #menu class=\"datagrid-action-overflow\" (clrOutsideClick)=\"close($event)\" [clrStrict]=\"true\">\n                <ng-content></ng-content>\n            </div>\n        </ng-template>\n    `,\n})\nexport class ClrDatagridActionOverflow implements OnDestroy {\n  public anchorPoint: Point = Point.RIGHT_CENTER;\n  public popoverPoint: Point = Point.LEFT_CENTER;\n\n  constructor(private rowActionService: RowActionService, public commonStrings: ClrCommonStrings) {\n    this.rowActionService.register();\n  }\n\n  ngOnDestroy() {\n    this.rowActionService.unregister();\n  }\n\n  /**\n   * Tracks whether the action overflow menu is open or not\n   */\n  private _open = false;\n  public get open() {\n    return this._open;\n  }\n\n  @Input('clrDgActionOverflowOpen')\n  public set open(open: boolean) {\n    const boolOpen = !!open;\n    if (boolOpen !== this._open) {\n      this._open = boolOpen;\n      this.openChanged.emit(boolOpen);\n    }\n  }\n\n  @Output('clrDgActionOverflowOpenChange') public openChanged = new EventEmitter<boolean>(false);\n\n  /*\n     * We need to remember the click that opens the menu, to make sure it doesn't close the menu instantly\n     * when the event bubbles up the DOM all the way to the document, which we also listen to.\n     */\n  private openingEvent: any;\n\n  /**\n   * Shows/hides the action overflow menu\n   */\n  public toggle(event: any) {\n    this.openingEvent = event;\n    this.open = !this.open;\n  }\n\n  public close(event: MouseEvent) {\n    /*\n         * Because this listener is added synchonously, before the event finishes bubbling up the DOM,\n         * we end up firing on the very click that just opened the menu, p\n         * otentially closing it immediately every time. So we just ignore it.\n         */\n    if (event === this.openingEvent) {\n      delete this.openingEvent;\n      return;\n    }\n    this.open = false;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ElementRef, Injectable } from '@angular/core';\n\nimport { DomAdapter } from '../../../utils/dom-adapter/dom-adapter';\nimport { ClrDragEvent } from '../../../utils/drag-and-drop/drag-event';\nimport { DatagridRenderOrganizer } from '../render/render-organizer';\n\nconst MIN_COLUMN_WIDTH = 96;\n\n// This service allows DatagridHeaderRenderer and ClrDatagridColumnSeparator\n// to share column resize data with each other.\n\n@Injectable()\nexport class ColumnResizerService {\n  constructor(private el: ElementRef, private domAdapter: DomAdapter, private organizer: DatagridRenderOrganizer) {}\n\n  private widthBeforeResize: number;\n\n  private _resizedBy: number = 0;\n\n  public get resizedBy() {\n    return this._resizedBy;\n  }\n\n  // is it within the maximum resize range to the left\n  public isWithinMaxResizeRange: boolean;\n\n  public get minColumnWidth() {\n    return this.domAdapter.minWidth(this.el.nativeElement) || MIN_COLUMN_WIDTH;\n  }\n\n  public get maxResizeRange() {\n    return this.widthBeforeResize - this.minColumnWidth;\n  }\n\n  public startResize(): void {\n    this._resizedBy = 0;\n    this.isWithinMaxResizeRange = true;\n    this.widthBeforeResize = this.domAdapter.clientRect(this.el.nativeElement).width;\n  }\n\n  public endResize(): void {\n    this.organizer.resize();\n  }\n\n  public get widthAfterResize(): number {\n    return this.widthBeforeResize + this._resizedBy;\n  }\n\n  public calculateResize(event: ClrDragEvent<any>): void {\n    const moveX = event.dragPosition.moveX;\n    // returns the resize amount within the allowed range\n    if (moveX < -this.maxResizeRange) {\n      this._resizedBy = -this.maxResizeRange;\n      this.isWithinMaxResizeRange = false;\n    } else {\n      this._resizedBy = moveX;\n      this.isWithinMaxResizeRange = true;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { InjectionToken } from '@angular/core';\n\nlet NB_INSTANCES = 0;\n\nexport const UNIQUE_ID = new InjectionToken<string>('UNIQUE_ID');\n\nexport function uniqueIdFactory() {\n  return 'clr-id-' + NB_INSTANCES++;\n}\n\nexport const UNIQUE_ID_PROVIDER = {\n  provide: UNIQUE_ID,\n  useFactory: uniqueIdFactory,\n};\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { DOCUMENT } from '@angular/common';\nimport { Component, Inject, Renderer2 } from '@angular/core';\n\nimport { ClrDragEvent } from '../../utils/drag-and-drop/drag-event';\nimport { ColumnResizerService } from './providers/column-resizer.service';\nimport { TableSizeService } from './providers/table-size.service';\nimport { UNIQUE_ID_PROVIDER, UNIQUE_ID } from '../../utils/id-generator/id-generator.service';\n\n@Component({\n  selector: 'clr-dg-column-separator',\n  template: `\n    <div class=\"datagrid-column-handle\" aria-hidden=\"true\"\n      clrDraggable \n      [clrGroup]=\"columnSeparatorId\" \n      (clrDragStart)=\"showTracker(resizeTrackerEl)\" \n      (clrDragMove)=\"moveTracker($event, resizeTrackerEl)\" \n      (clrDragEnd)=\"hideTracker(resizeTrackerEl)\"></div>\n    <div class=\"datagrid-column-resize-tracker\" #resizeTrackerEl></div>\n    `,\n  host: {\n    '[class.datagrid-column-separator]': 'true',\n  },\n  providers: [UNIQUE_ID_PROVIDER],\n})\nexport class ClrDatagridColumnSeparator {\n  // Every column draggable separator should have its own unique ID\n  // in order to not conflict with other draggables/droppables.\n  constructor(\n    private columnResizerService: ColumnResizerService,\n    private renderer: Renderer2,\n    private tableSizeService: TableSizeService,\n    @Inject(DOCUMENT) private document: any,\n    @Inject(UNIQUE_ID) public columnSeparatorId: string\n  ) {}\n\n  public showTracker(resizeTrackerEl: HTMLElement) {\n    this.columnResizerService.startResize();\n    const tableHeight = this.tableSizeService.getColumnDragHeight();\n    this.renderer.setStyle(resizeTrackerEl, 'height', tableHeight);\n    this.renderer.setStyle(resizeTrackerEl, 'display', 'block');\n  }\n\n  public moveTracker(event: ClrDragEvent<any>, resizeTrackerEl: HTMLElement) {\n    this.columnResizerService.calculateResize(event);\n    this.renderer.setStyle(resizeTrackerEl, 'transform', `translateX(${this.columnResizerService.resizedBy}px)`);\n    this.renderer.setStyle(this.document.body, 'cursor', 'col-resize');\n    this.redFlagTracker(resizeTrackerEl);\n  }\n\n  public hideTracker(resizeTrackerEl: HTMLElement) {\n    this.columnResizerService.endResize();\n    this.renderer.setStyle(resizeTrackerEl, 'display', 'none');\n    this.renderer.setStyle(resizeTrackerEl, 'transform', `translateX(0px)`);\n    this.renderer.setStyle(this.document.body, 'cursor', 'auto');\n  }\n\n  private redFlagTracker(resizeTrackerEl: HTMLElement) {\n    let isWithinMaxResizeRange: boolean;\n    // @TODO(JEREMY) Review this, it will always be true because above is always null\n    if (isWithinMaxResizeRange !== this.columnResizerService.isWithinMaxResizeRange) {\n      isWithinMaxResizeRange = this.columnResizerService.isWithinMaxResizeRange;\n      if (!isWithinMaxResizeRange) {\n        this.renderer.addClass(resizeTrackerEl, 'exceeded-max');\n      } else {\n        this.renderer.removeClass(resizeTrackerEl, 'exceeded-max');\n      }\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum DatagridColumnChanges {\n  WIDTH,\n  HIDDEN,\n}\n\nexport const ALL_COLUMN_CHANGES: DatagridColumnChanges[] = Object.keys(DatagridColumnChanges)\n  .map(key => DatagridColumnChanges[key])\n  .filter(key => key === parseInt(key, 10)); // extracts only integer keys\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\nimport { ColumnsService } from './providers/columns.service';\nimport { ColumnState } from './interfaces/column-state.interface';\nimport { BehaviorSubject } from 'rxjs';\nimport { DatagridColumnChanges } from './enums/column-changes.enum';\n\n@Component({\n  selector: 'clr-dg-column-toggle-button',\n  template: `\n    <button class=\"btn btn-sm btn-link switch-button\"\n            (click)=\"selectAll()\"\n            [disabled]=\"allHideablesVisible\"\n            type=\"button\">\n      <ng-content></ng-content>\n    </button>\n  `,\n})\n/** @deprecated since 2.0, remove in 3.0 */\nexport class ClrDatagridColumnToggleButton {\n  constructor(private columnsService: ColumnsService) {}\n\n  private hideableColumns(): BehaviorSubject<ColumnState>[] {\n    return this.columnsService.columns.filter(column => column.value.hideable);\n  }\n\n  get allHideablesVisible() {\n    return this.hideableColumns().filter(column => column.value.hidden).length === 0;\n  }\n\n  selectAll() {\n    this.hideableColumns().forEach(hideableColumn =>\n      this.columnsService.emitStateChange(hideableColumn, {\n        hidden: false,\n        changes: [DatagridColumnChanges.HIDDEN],\n      })\n    );\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-dg-column-toggle-title',\n  template: `<ng-content></ng-content>`,\n})\n/** @deprecated since 2.0, remove in 3.0 */\nexport class ClrDatagridColumnToggleTitle {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ContentChild } from '@angular/core';\n\nimport { Point } from '../../popover/common/popover';\n\nimport { ClrDatagridColumnToggleButton } from './datagrid-column-toggle-button';\nimport { ClrDatagridColumnToggleTitle } from './datagrid-column-toggle-title';\n\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\nimport { ColumnsService } from './providers/columns.service';\nimport { ColumnState } from './interfaces/column-state.interface';\nimport { DatagridColumnChanges } from './enums/column-changes.enum';\n\n@Component({\n  selector: 'clr-dg-column-toggle',\n  template: `\n    <button\n      #anchor\n      (click)=\"toggleSwitchPanel()\"\n      class=\"btn btn-sm btn-link column-toggle--action\"\n      type=\"button\">\n      <clr-icon shape=\"view-columns\" [attr.title]=\"commonStrings.pickColumns\"></clr-icon>\n    </button>\n    <div class=\"column-switch\"\n         *clrPopoverOld=\"open; anchor: anchor; anchorPoint: anchorPoint; popoverPoint: popoverPoint\">\n      <div class=\"switch-header\">\n        <ng-container *ngIf=\"!customToggleTitle\">{{commonStrings.showColumns}}</ng-container>\n        <ng-content select=\"clr-dg-column-toggle-title\"></ng-content>\n        <button\n          class=\"btn btn-sm btn-link toggle-switch-close-button\"\n          (click)=\"toggleSwitchPanel()\"\n          type=\"button\">\n          <clr-icon shape=\"close\" [attr.title]=\"commonStrings.close\"></clr-icon>\n        </button>\n      </div>\n      <ul class=\"switch-content list-unstyled\">\n        <li *ngFor=\"let columnState of hideableColumnStates;\">\n          <clr-checkbox-wrapper>\n            <input clrCheckbox type=\"checkbox\"\n                   [disabled]=\"hasOnlyOneVisibleColumn && !columnState.hidden\"\n                   [ngModel]=\"!columnState.hidden\"\n                   (ngModelChange)=\"toggleColumnState(columnState, !$event)\">\n            <label>\n              <ng-template [ngTemplateOutlet]=\"columnState.titleTemplateRef\"></ng-template>\n            </label>\n          </clr-checkbox-wrapper>\n        </li>\n      </ul>\n      <div class=\"switch-footer\">\n        <ng-content select=\"clr-dg-column-toggle-button\"></ng-content>\n        <clr-dg-column-toggle-button *ngIf=\"!customToggleButton\">{{commonStrings.selectAll}}</clr-dg-column-toggle-button>\n      </div>\n    </div>\n  `,\n  host: { '[class.column-switch-wrapper]': 'true', '[class.active]': 'open' },\n})\n/** @deprecated since 2.0, remove in 3.0 */\nexport class ClrDatagridColumnToggle {\n  /***\n   * Popover init\n   */\n  public anchorPoint: Point = Point.TOP_LEFT;\n  public popoverPoint: Point = Point.LEFT_BOTTOM;\n  public open: boolean = false;\n\n  @ContentChild(ClrDatagridColumnToggleTitle, { static: false })\n  customToggleTitle: ClrDatagridColumnToggleTitle;\n  @ContentChild(ClrDatagridColumnToggleButton, { static: false })\n  customToggleButton: ClrDatagridColumnToggleButton;\n\n  constructor(public commonStrings: ClrCommonStrings, private columnsService: ColumnsService) {}\n\n  get hideableColumnStates(): ColumnState[] {\n    const hideables = this.columnsService.columns.filter(column => column.value.hideable);\n    return hideables.map(column => column.value);\n  }\n\n  get hasOnlyOneVisibleColumn(): boolean {\n    const nbNonHideableColumns = this.columnsService.columns.length - this.hideableColumnStates.length;\n    // this should only return true when there is no non-hideable columns.\n    return (\n      nbNonHideableColumns === 0 && this.hideableColumnStates.filter(columnState => !columnState.hidden).length === 1\n    );\n  }\n\n  toggleColumnState(columnState: ColumnState, event: boolean) {\n    const columnToToggle = this.columnsService.columns.filter(column => column.value === columnState)[0];\n    this.columnsService.emitStateChange(columnToToggle, {\n      hidden: event,\n      changes: [DatagridColumnChanges.HIDDEN],\n    });\n  }\n\n  toggleSwitchPanel() {\n    this.open = !this.open;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, Optional } from '@angular/core';\nimport { ExpandableRowsCount } from './providers/global-expandable-rows';\n\n/*\n * I don't think this deserves to be in IfExpanded itself,\n * so I'm adding a second directive on the same selector for now just for the datagrid\n */\n@Directive({ selector: '[clrIfExpanded]' })\nexport class DatagridDetailRegisterer {\n  constructor(@Optional() private expandableRowsCount: ExpandableRowsCount) {\n    if (this.expandableRowsCount) {\n      this.expandableRowsCount.register();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.expandableRowsCount) {\n      this.expandableRowsCount.unregister();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ContentChild } from '@angular/core';\n\nimport { ClrDatagridColumnToggle } from './datagrid-column-toggle';\nimport { Selection } from './providers/selection';\nimport { SelectionType } from './enums/selection-type';\nimport { ColumnsService } from './providers/columns.service';\n\n@Component({\n  selector: 'clr-dg-footer',\n  template: `\n        <ng-container\n            *ngIf=\"(selection.selectionType === SELECTION_TYPE.Multi) && (selection.current.length > 0)\">\n          <div class=\"clr-form-control-disabled\">\n              <clr-checkbox-wrapper class=\"datagrid-footer-select\">\n                <input clrCheckbox type=\"checkbox\" checked=\"checked\" disabled>\n                <label>{{selection.current.length}}</label>\n            </clr-checkbox-wrapper>\n          </div>\n        </ng-container>\n        <ng-content select=\"clr-dg-column-toggle\"></ng-content>\n        <clr-dg-column-toggle *ngIf=\"hasHideableColumns && !toggle\"></clr-dg-column-toggle>\n        <div class=\"datagrid-footer-description\">\n            <ng-content></ng-content>\n        </div>\n        <ng-content select=\"clr-dg-pagination\"></ng-content>\n    `,\n  host: {\n    '[class.datagrid-footer]': 'true',\n  },\n})\nexport class ClrDatagridFooter<T = any> {\n  constructor(public selection: Selection<T>, private columnsService: ColumnsService) {}\n\n  /* reference to the enum so that template can access */\n  public SELECTION_TYPE = SelectionType;\n\n  @ContentChild(ClrDatagridColumnToggle, { static: false })\n  toggle: ClrDatagridColumnToggle;\n\n  get hasHideableColumns(): boolean {\n    return this.columnsService.hasHideableColumns;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { InjectionToken } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { ColumnState } from '../interfaces/column-state.interface';\n\nexport const COLUMN_STATE = new InjectionToken<ColumnState>('COLUMN_STATE');\n\nexport function columnStateFactory() {\n  return new BehaviorSubject<ColumnState>({\n    changes: [],\n  });\n}\n\nexport const COLUMN_STATE_PROVIDER = {\n  provide: COLUMN_STATE,\n  useFactory: columnStateFactory,\n};\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Directive,\n  EventEmitter,\n  Inject,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { ColumnsService } from './providers/columns.service';\nimport { ColumnState } from './interfaces/column-state.interface';\nimport { DatagridColumnChanges } from './enums/column-changes.enum';\nimport { COLUMN_STATE } from './providers/column-state.provider';\n\n@Directive({ selector: '[clrDgHideableColumn]' })\n\n/**\n *\n * @description\n * A structural directive meant to be used inside a clr-dg-column component.\n *\n * <clr-dg-column>\n *       <ng-container *clrDgHideableColumn=\"{ hidden: true }\">\n *           User ID\n *       </ng-container>\n *   </clr-dg-column>\n *\n * It sets up state and properties so that columns can be manges for hide/show by a service and an internal\n * datagrid toggle component.\n *\n */\nexport class ClrDatagridHideableColumn implements OnDestroy {\n  /**\n   *\n   * @description\n   * Used to initialize the column with either hidden or visible state.\n   *\n   */\n  private _hidden: boolean;\n\n  /**\n   *\n   * @description\n   * Setter fn for the @Input with the same name as this structural directive.\n   * It allows the user to pre-configure the column's hide/show state. { hidden: true }\n   * It's more verbose but has more Clarity.\n   *\n   *\n   * @example\n   * *clrDgHideableColumn\n   * *clrDgHideableColumn={hidden: false}\n   * *clrDgHideableColumn={hidden: true}\n   *\n   */\n  @Input('clrDgHideableColumn')\n  set clrDgHideableColumn(value: { hidden: boolean }) {\n    this.clrDgHidden = value && value.hidden ? value.hidden : false;\n  }\n\n  @Input('clrDgHidden')\n  set clrDgHidden(hidden: boolean) {\n    this._hidden = hidden ? hidden : false;\n  }\n\n  @Output('clrDgHiddenChange') public hiddenChange = new EventEmitter<boolean>();\n\n  constructor(\n    private titleTemplateRef: TemplateRef<any>,\n    private viewContainerRef: ViewContainerRef,\n    private columnsService: ColumnsService,\n    @Optional()\n    @Inject(COLUMN_STATE)\n    private columnState: BehaviorSubject<ColumnState>\n  ) {\n    this.viewContainerRef.createEmbeddedView(this.titleTemplateRef);\n\n    if (!this.columnState) {\n      throw new Error('The *clrDgHideableColumn directive can only be used inside of a clr-dg-column component.');\n    }\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnInit() {\n    this.columnsService.emitStateChange(this.columnState, {\n      hideable: true,\n      titleTemplateRef: this.titleTemplateRef,\n      hidden: this._hidden,\n      changes: [DatagridColumnChanges.HIDDEN],\n    });\n\n    this.subscriptions.push(\n      this.columnState.subscribe((state: ColumnState) => {\n        if (state.changes && state.changes.indexOf(DatagridColumnChanges.HIDDEN) > -1) {\n          this.hiddenChange.emit(state.hidden); // Can emit through @Output when desugared syntax is used\n        }\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, Input, Optional, TrackByFunction } from '@angular/core';\n\nimport { Items } from './providers/items';\n\n@Directive({\n  selector: '[ngForTrackBy]',\n})\nexport class ClrDatagridItemsTrackBy<T = any> {\n  constructor(@Optional() private _items: Items<T>) {}\n\n  @Input('ngForTrackBy')\n  set trackBy(value: TrackByFunction<T>) {\n    if (this._items) {\n      this._items.trackBy = value;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, Input } from '@angular/core';\nimport { Page } from './providers/page';\n\n@Component({\n  selector: 'clr-dg-page-size',\n  template: `\n    <ng-content></ng-content>\n    <div class=\"clr-select-wrapper\">\n      <select [class.clr-page-size-select]=\"true\" [(ngModel)]=\"page.size\">\n        <option *ngFor=\"let option of pageSizeOptions\" [ngValue]=\"option\">{{option}}</option>\n      </select>\n    </div>\n  `,\n})\nexport class ClrDatagridPageSize {\n  @Input('clrPageSizeOptions') pageSizeOptions: number[];\n\n  constructor(public page: Page) {}\n\n  ngOnInit() {\n    if (!this.pageSizeOptions || this.pageSizeOptions.length === 0) {\n      this.pageSizeOptions = [this.page.size];\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Page } from './providers/page';\nimport { ClrDatagridPageSize } from './datagrid-page-size';\n\n@Component({\n  selector: 'clr-dg-pagination',\n  template: `\n    <div class=\"pagination-size\" *ngIf=\"_pageSizeComponent\">\n      <ng-content select=\"clr-dg-page-size\"></ng-content>\n    </div>\n    <div class=\"pagination-description\">\n      <ng-content></ng-content>\n    </div>\n    <div class=\"pagination-list\" *ngIf=\"page.last > 1\">\n      <button type=\"button\" class=\"pagination-first\" [disabled]=\"page.current <= 1\" (click)=\"page.current = 1\">\n        <clr-icon shape=\"step-forward-2 down\"></clr-icon>\n      </button>\n      <button type=\"button\" class=\"pagination-previous\" [disabled]=\"page.current <= 1\" (click)=\"page.current = page.current - 1\">\n        <clr-icon shape=\"angle left\"></clr-icon>\n      </button>\n      <input #currentPageInput type=\"text\" class=\"pagination-current\" [size]=\"page.last.toString().length\" [value]=\"page.current\"\n             (keydown.enter)=\"updateCurrentPage($event)\" (blur)=\"updateCurrentPage($event)\"/>&nbsp;/&nbsp;<span>{{page.last}}</span>\n      <button type=\"button\" class=\"pagination-next\" [disabled]=\"page.current >= page.last\" (click)=\"page.current = page.current + 1\">\n        <clr-icon shape=\"angle right\"></clr-icon>\n      </button>\n      <button type=\"button\" class=\"pagination-last\" [disabled]=\"page.current >= page.last\" (click)=\"page.current = page.last\">\n        <clr-icon shape=\"step-forward-2 up\"></clr-icon>\n      </button>\n    </div>\n    `,\n  host: { '[class.pagination]': 'true' },\n})\nexport class ClrDatagridPagination implements OnDestroy, OnInit {\n  @ContentChild(ClrDatagridPageSize, { static: false })\n  _pageSizeComponent: ClrDatagridPageSize;\n  @ViewChild('currentPageInput', { static: false })\n  currentPageInputRef: ElementRef;\n\n  constructor(public page: Page) {\n    this.page.activated = true;\n  }\n\n  /**********\n   * Subscription to the Page service for page changes.\n   * Note: this only emits after the datagrid is initialized/stabalized and the page changes.\n   */\n  ngOnInit() {\n    /*\n     * Default page size is 10.\n     * The reason we set it here and not in the provider itself is because\n     * we don't want pagination if this component isn't present in the datagrid.\n     */\n    if (!this.page.size) {\n      this.page.size = 10;\n    }\n    this._pageSubscription = this.page.change.subscribe(current => this.currentChanged.emit(current));\n  }\n\n  /**\n   * Subscription to the page service changes\n   */\n  private _pageSubscription: Subscription;\n\n  ngOnDestroy() {\n    this.page.resetPageSize();\n    if (this._pageSubscription) {\n      this._pageSubscription.unsubscribe();\n    }\n  }\n\n  /**\n   * Page size\n   */\n  public get pageSize(): number {\n    return this.page.size;\n  }\n\n  @Input('clrDgPageSize')\n  public set pageSize(size: number) {\n    if (typeof size === 'number') {\n      this.page.size = size;\n    }\n  }\n\n  /**\n   * Total items (needed to guess the last page)\n   */\n  public get totalItems(): number {\n    return this.page.totalItems;\n  }\n\n  @Input('clrDgTotalItems')\n  public set totalItems(total: number) {\n    if (typeof total === 'number') {\n      this.page.totalItems = total;\n    }\n  }\n\n  /**\n   * Last page\n   */\n  public get lastPage(): number {\n    return this.page.last;\n  }\n\n  @Input('clrDgLastPage')\n  public set lastPage(last: number) {\n    if (typeof last === 'number') {\n      this.page.last = last;\n    }\n  }\n\n  /**\n   * Current page\n   */\n  public get currentPage(): number {\n    return this.page.current;\n  }\n\n  @Input('clrDgPage')\n  public set currentPage(page: number) {\n    if (typeof page === 'number') {\n      this.page.current = page;\n    }\n  }\n\n  @Output('clrDgPageChange') currentChanged = new EventEmitter<number>(false);\n\n  /**\n   * Moves to the previous page if it exists\n   */\n  public previous() {\n    this.page.previous();\n  }\n\n  /**\n   * Moves to the next page if it exists\n   */\n  public next() {\n    this.page.next();\n  }\n\n  /**\n   * Index of the first item displayed on the current page, starting at 0, -1 if none displayed\n   */\n  public get firstItem(): number {\n    return this.page.firstItem;\n  }\n\n  /**\n   * Index of the last item displayed on the current page, starting at 0, -1 if none displayed\n   */\n  public get lastItem(): number {\n    return this.page.lastItem;\n  }\n\n  /**\n   * Conditionally adds page numbers before and after the current page\n   */\n  public get middlePages(): number[] {\n    const middlePages: number[] = [];\n    if (this.page.current > 1) {\n      middlePages.push(this.page.current - 1);\n    }\n    middlePages.push(this.page.current);\n    if (this.page.current < this.page.last) {\n      middlePages.push(this.page.current + 1);\n    }\n    return middlePages;\n  }\n\n  /**\n   * We only update the pagination's current page on blur of the input field, or\n   * when they press enter.\n   */\n  public updateCurrentPage(event: any): void {\n    const parsed = parseInt(event.target.value, 10);\n\n    // if the input value, is not a number, we don't update the page\n    if (!isNaN(parsed)) {\n      if (parsed < 1) {\n        this.page.current = 1;\n      } else if (parsed > this.page.last) {\n        this.page.current = this.page.last;\n      } else {\n        this.page.current = parsed;\n      }\n    }\n\n    /**\n     * Set the input's value to the new current page. This is needed because the code\n     * above may have changed the value from what the user entered in.\n     */\n    this.currentPageInputRef.nativeElement.value = this.page.current;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterContentInit, Component, ContentChildren, Input, OnDestroy, QueryList } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ClrDatagridCell } from './datagrid-cell';\nimport { ExpandableRowsCount } from './providers/global-expandable-rows';\nimport { RowActionService } from './providers/row-action-service';\nimport { Selection } from './providers/selection';\nimport { SelectionType } from './enums/selection-type';\nimport { DatagridIfExpandService } from './datagrid-if-expanded.service';\n\n/**\n * Generic bland container serving various purposes for Datagrid.\n * For instance, it can help span a text over multiple rows in detail view.\n */\n@Component({\n  selector: 'clr-dg-row-detail',\n  template: `\n        <ng-container *ngIf=\"!replacedRow\">\n            <!-- space for multiselection state -->\n            <div class=\"datagrid-cell datagrid-select datagrid-fixed-column\"\n                *ngIf=\"selection.selectionType === SELECTION_TYPE.Multi\">\n            </div>\n            <!-- space for single selection state -->\n            <div class=\"datagrid-cell datagrid-select datagrid-fixed-column\"\n                *ngIf=\"selection.selectionType === SELECTION_TYPE.Single\">\n            </div>\n            <!-- space for single row action; only displayType if we have at least one actionable row in datagrid -->\n            <div class=\"datagrid-cell datagrid-row-actions datagrid-fixed-column\"\n                *ngIf=\"rowActionService.hasActionableRow\">\n            </div>\n            <!-- space for expandable caret action; only displayType if we have at least one expandable row in datagrid -->\n            <div *ngIf=\"expandableRows.hasExpandableRow\"\n                        class=\"datagrid-expandable-caret datagrid-fixed-column datagrid-cell\">\n            </div>\n        </ng-container>\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.datagrid-row-flex]': 'true',\n    '[class.datagrid-row-detail]': 'true',\n    '[class.datagrid-container]': 'cells.length === 0',\n  },\n})\nexport class ClrDatagridRowDetail<T = any> implements AfterContentInit, OnDestroy {\n  /* reference to the enum so that template can access it */\n  public SELECTION_TYPE = SelectionType;\n\n  constructor(\n    public selection: Selection,\n    public rowActionService: RowActionService,\n    public expand: DatagridIfExpandService,\n    public expandableRows: ExpandableRowsCount\n  ) {}\n\n  @ContentChildren(ClrDatagridCell) cells: QueryList<ClrDatagridCell>;\n\n  @Input('clrDgReplace')\n  set replace(value: boolean) {\n    this.expand.setReplace(!!value);\n  }\n  private subscriptions: Subscription[] = [];\n  public replacedRow = false;\n\n  ngAfterContentInit() {\n    this.subscriptions.push(\n      this.expand.replace.subscribe(replaceChange => {\n        this.replacedRow = replaceChange;\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n// @TODO The top two are not used now, which is probably a performance drag that was broken along the way.\n// There was a previous pattern to hide everything to do computation then display, for Firefox, needs revisiting.\nexport const NO_LAYOUT_CLASS = 'datagrid-no-layout';\nexport const COMPUTE_WIDTH_CLASS = 'datagrid-computing-columns-width';\nexport const STRICT_WIDTH_CLASS = 'datagrid-fixed-width';\nexport const HIDDEN_COLUMN_CLASS = 'datagrid-hidden-column';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, OnDestroy, Renderer2 } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { DatagridRenderStep } from '../enums/render-step.enum';\n\nimport { HIDDEN_COLUMN_CLASS, STRICT_WIDTH_CLASS } from './constants';\nimport { DatagridRenderOrganizer } from './render-organizer';\nimport { ColumnState } from '../interfaces/column-state.interface';\nimport { ALL_COLUMN_CHANGES, DatagridColumnChanges } from '../enums/column-changes.enum';\n\n@Directive({ selector: 'clr-dg-cell' })\nexport class DatagridCellRenderer implements OnDestroy {\n  private stateSubscription: Subscription;\n\n  private runAllChanges: DatagridColumnChanges[];\n\n  // @TODO(JEREMY) Work out how to dedupe some of this code between header and cell renderers\n  set columnState(columnState: BehaviorSubject<ColumnState>) {\n    if (this.stateSubscription) {\n      this.stateSubscription.unsubscribe();\n    }\n\n    this.runAllChanges = ALL_COLUMN_CHANGES;\n    this.stateSubscription = columnState.subscribe(state => this.stateChanges(state));\n  }\n\n  constructor(private el: ElementRef, private renderer: Renderer2, organizer: DatagridRenderOrganizer) {\n    this.subscriptions.push(\n      organizer.filterRenderSteps(DatagridRenderStep.CLEAR_WIDTHS).subscribe(() => this.clearWidth())\n    );\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n    if (this.stateSubscription) {\n      this.stateSubscription.unsubscribe();\n    }\n  }\n\n  private stateChanges(state: ColumnState) {\n    if (this.runAllChanges) {\n      state.changes = this.runAllChanges;\n      delete this.runAllChanges;\n    }\n    if (state.changes && state.changes.length) {\n      state.changes.forEach(change => {\n        switch (change) {\n          case DatagridColumnChanges.WIDTH:\n            this.setWidth(state);\n            break;\n          case DatagridColumnChanges.HIDDEN:\n            this.setHidden(state);\n            break;\n          default:\n            break;\n        }\n      });\n    }\n  }\n\n  private clearWidth() {\n    this.renderer.removeClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n    this.renderer.setStyle(this.el.nativeElement, 'width', null);\n  }\n\n  private setWidth(state: ColumnState) {\n    if (state.strictWidth) {\n      this.renderer.addClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n    } else {\n      this.renderer.removeClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n    }\n    this.renderer.setStyle(this.el.nativeElement, 'width', state.width + 'px');\n  }\n\n  private setHidden(state: ColumnState) {\n    if (state.hidden) {\n      this.renderer.addClass(this.el.nativeElement, HIDDEN_COLUMN_CLASS);\n    } else {\n      this.renderer.removeClass(this.el.nativeElement, HIDDEN_COLUMN_CLASS);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, EventEmitter, Inject, OnDestroy, Output, Renderer2 } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { DomAdapter } from '../../../utils/dom-adapter/dom-adapter';\nimport { DatagridRenderStep } from '../enums/render-step.enum';\nimport { ColumnResizerService } from '../providers/column-resizer.service';\nimport { HIDDEN_COLUMN_CLASS, STRICT_WIDTH_CLASS } from './constants';\nimport { DatagridRenderOrganizer } from './render-organizer';\nimport { ColumnState } from '../interfaces/column-state.interface';\nimport { DatagridColumnChanges } from '../enums/column-changes.enum';\nimport { COLUMN_STATE, COLUMN_STATE_PROVIDER } from '../providers/column-state.provider';\nimport { ColumnsService } from '../providers/columns.service';\n\n@Directive({ selector: 'clr-dg-column', providers: [ColumnResizerService, COLUMN_STATE_PROVIDER] })\nexport class DatagridHeaderRenderer implements OnDestroy {\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private organizer: DatagridRenderOrganizer,\n    private domAdapter: DomAdapter,\n    private columnResizerService: ColumnResizerService,\n    private columnsService: ColumnsService,\n    @Inject(COLUMN_STATE) private columnState: BehaviorSubject<ColumnState>\n  ) {\n    this.subscriptions.push(\n      this.organizer.filterRenderSteps(DatagridRenderStep.CLEAR_WIDTHS).subscribe(() => this.clearWidth())\n    );\n\n    this.subscriptions.push(columnState.subscribe(state => this.stateChanges(state)));\n  }\n\n  @Output('clrDgColumnResize') resizeEmitter: EventEmitter<number> = new EventEmitter();\n\n  /**\n   * Indicates if the column has a strict width, so it doesn't shrink or expand based on the content.\n   */\n  private widthSet: boolean = false;\n  private autoSet: boolean = false;\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  private stateChanges(state: ColumnState) {\n    if (state.changes && state.changes.length) {\n      state.changes.forEach(change => {\n        switch (change) {\n          case DatagridColumnChanges.WIDTH:\n            this.setWidth(state);\n            break;\n          case DatagridColumnChanges.HIDDEN:\n            this.setHidden(state);\n            break;\n          default:\n            break;\n        }\n      });\n    }\n  }\n\n  private clearWidth() {\n    // remove the width only if we set it, and it is not changed by dragging.\n    if (this.widthSet && !this.columnResizerService.resizedBy) {\n      this.renderer.setStyle(this.el.nativeElement, 'width', null);\n    }\n    if (this.autoSet) {\n      this.renderer.removeClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n    }\n  }\n\n  private detectStrictWidth(): number {\n    if (this.columnResizerService.resizedBy) {\n      return this.columnResizerService.widthAfterResize;\n    } else if (this.autoSet) {\n      return 0;\n    } else {\n      return this.domAdapter.userDefinedWidth(this.el.nativeElement);\n    }\n  }\n\n  private computeWidth(strictWidth: number): number {\n    let width: number = strictWidth;\n    if (!width) {\n      width = this.domAdapter.scrollWidth(this.el.nativeElement);\n    }\n    return width;\n  }\n\n  public getColumnWidthState(): Partial<ColumnState> {\n    const strictWidth = this.detectStrictWidth();\n    return {\n      width: this.computeWidth(strictWidth),\n      strictWidth: strictWidth,\n    };\n  }\n\n  public setColumnState(index: number) {\n    this.columnsService.columns[index] = this.columnState;\n  }\n\n  private setWidth(state: ColumnState) {\n    if (state.strictWidth) {\n      if (this.columnResizerService.resizedBy) {\n        this.resizeEmitter.emit(state.width);\n        this.renderer.setStyle(this.el.nativeElement, 'width', state.width + 'px');\n        this.widthSet = false;\n      }\n      // Don't set width if there is a user-defined one. Just add the strict width class.\n      this.renderer.addClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n      this.autoSet = false;\n    } else {\n      this.renderer.removeClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n      this.renderer.setStyle(this.el.nativeElement, 'width', state.width + 'px');\n      this.widthSet = true;\n      this.autoSet = true;\n    }\n  }\n\n  private setHidden(state: ColumnState) {\n    if (state.hidden) {\n      this.renderer.addClass(this.el.nativeElement, HIDDEN_COLUMN_CLASS);\n    } else {\n      this.renderer.removeClass(this.el.nativeElement, HIDDEN_COLUMN_CLASS);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/*\n * This version of the DomAdapter is for use on non-browser platforms, where there are no\n * nativeElements to use for calculations.\n */\n\nimport { Injectable } from '@angular/core';\nimport { DomAdapter } from '../../../utils/dom-adapter/dom-adapter';\n\n@Injectable()\nexport class NoopDomAdapter implements DomAdapter {\n  userDefinedWidth(element: any): number {\n    return 0;\n  }\n\n  scrollBarWidth(element: any) {\n    return 0;\n  }\n\n  scrollWidth(element: any) {\n    return 0;\n  }\n\n  computedHeight(element: any): number {\n    return 0;\n  }\n\n  clientRect(element: any): ClientRect {\n    return {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n\n  minWidth(element: any): number {\n    return 0;\n  }\n\n  focus(element: any): void {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterContentInit, ContentChildren, Directive, OnDestroy, QueryList } from '@angular/core';\n\nimport { DatagridCellRenderer } from './cell-renderer';\nimport { ColumnsService } from '../providers/columns.service';\nimport { Subscription } from 'rxjs';\n\n@Directive({ selector: 'clr-dg-row, clr-dg-row-detail' })\nexport class DatagridRowRenderer implements AfterContentInit, OnDestroy {\n  @ContentChildren(DatagridCellRenderer) private cells: QueryList<DatagridCellRenderer>;\n\n  constructor(private columnsService: ColumnsService) {}\n\n  ngAfterContentInit() {\n    this.setColumnState(); // case #3 and #4\n    this.subscriptions.push(\n      this.cells.changes.subscribe(() => {\n        this.setColumnState(); // case #2\n        // Note on case #2: In the case of dynamic columns, when one column (header/cell together) gets deleted,\n        // this.cells.changes emits before this.columnsService.columns gets updated in MainRenderer\n        // when this.headers.changes emits as well. So that means there will be n+1 column state providers\n        // when this.cells.changes emits. Hence, we should quit earlier there. But this method will be called\n        // right after again when this.headers.changes emits. By then, there will be the same number of column state\n        // providers as column headers.\n      })\n    );\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  public setColumnState() {\n    // This method runs in four cases:\n    // 1. When the initial rows appear on the first page.\n    //    In this case, the method will be called in DatagridMainRenderer.\n    // 2. When columns (corresponding header/cells) get added and deleted.\n    //    In this case, the method will be called in DatagridMainRenderer. (Read the note on this case above).\n    // 3. When rows load asynchronously.\n    //    In this case, the method will be called in this class.\n    // 4. When rows load after switching pages.\n    //    In this case, the method will be called in this class (Basically, same as the case 3).\n    if (this.cells.length === this.columnsService.columns.length) {\n      this.cells.forEach((cell, index) => {\n        if (this.columnsService.columns[index]) {\n          cell.columnState = this.columnsService.columns[index];\n        }\n      });\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { isPlatformBrowser } from '@angular/common';\nimport {\n  AfterContentInit,\n  AfterViewChecked,\n  AfterViewInit,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  OnDestroy,\n  PLATFORM_ID,\n  QueryList,\n  Renderer2,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DatagridRenderStep } from '../enums/render-step.enum';\nimport { Items } from '../providers/items';\nimport { Page } from '../providers/page';\nimport { TableSizeService } from '../providers/table-size.service';\n\nimport { DomAdapter } from '../../../utils/dom-adapter/dom-adapter';\nimport { DatagridHeaderRenderer } from './header-renderer';\nimport { NoopDomAdapter } from './noop-dom-adapter';\nimport { DatagridRenderOrganizer } from './render-organizer';\nimport { ColumnsService } from '../providers/columns.service';\nimport { DatagridColumnChanges } from '../enums/column-changes.enum';\nimport { DatagridRowRenderer } from './row-renderer';\nimport { ColumnStateDiff } from '../interfaces/column-state.interface';\n\n// Fixes build error\n// @dynamic (https://github.com/angular/angular/issues/19698#issuecomment-338340211)\nexport const domAdapterFactory = (platformId: Object) => {\n  if (isPlatformBrowser(platformId)) {\n    return new DomAdapter();\n  } else {\n    return new NoopDomAdapter();\n  }\n};\n\n// Fixes build error\n// @dynamic (https://github.com/angular/angular/issues/19698#issuecomment-338340211)\n@Directive({\n  selector: 'clr-datagrid',\n  providers: [{ provide: DomAdapter, useFactory: domAdapterFactory, deps: [PLATFORM_ID] }],\n})\nexport class DatagridMainRenderer<T = any> implements AfterContentInit, AfterViewInit, AfterViewChecked, OnDestroy {\n  constructor(\n    private organizer: DatagridRenderOrganizer,\n    private items: Items,\n    private page: Page,\n    private domAdapter: DomAdapter,\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private tableSizeService: TableSizeService,\n    private columnsService: ColumnsService\n  ) {\n    this.subscriptions.push(\n      this.organizer\n        .filterRenderSteps(DatagridRenderStep.COMPUTE_COLUMN_WIDTHS)\n        .subscribe(() => this.computeHeadersWidth())\n    );\n\n    this.subscriptions.push(\n      this.page.sizeChange.subscribe(() => {\n        if (this._heightSet) {\n          this.resetDatagridHeight();\n        }\n      })\n    );\n    this.subscriptions.push(this.items.change.subscribe(() => (this.shouldStabilizeColumns = true)));\n  }\n\n  @ContentChildren(DatagridHeaderRenderer) private headers: QueryList<DatagridHeaderRenderer>;\n  @ContentChildren(DatagridRowRenderer, { descendants: true })\n  private rows: QueryList<DatagridRowRenderer>; // if expandable row is expanded initially, query its cells too.\n\n  ngAfterContentInit() {\n    this.setupColumns();\n\n    this.subscriptions.push(\n      this.headers.changes.subscribe(() => {\n        // TODO: only re-stabilize if a column was added or removed. Reordering is fine.\n        // Need to setup columns before stabalizing them\n        this.setupColumns();\n        this.columnsSizesStable = false;\n        this.stabilizeColumns();\n      })\n    );\n  }\n\n  // Initialize and set Table width for horizontal scrolling here.\n  ngAfterViewInit() {\n    this.tableSizeService.table = this.el;\n  }\n\n  ngAfterViewChecked() {\n    if (this.shouldStabilizeColumns) {\n      this.stabilizeColumns();\n    }\n    if (this.shouldComputeHeight()) {\n      setTimeout(() => {\n        this.computeDatagridHeight();\n      });\n    }\n  }\n\n  private setupColumns() {\n    this.headers.forEach((header, index) => header.setColumnState(index));\n    this.columnsService.columns.splice(this.headers.length); // Trim any old columns\n    this.rows.forEach(row => row.setColumnState());\n  }\n\n  private _heightSet: boolean = false;\n\n  private shouldComputeHeight(): boolean {\n    if (!this._heightSet && this.page.size > 0) {\n      if (this.items.displayed.length === this.page.size) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Computes the height of the datagrid.\n   *\n   * NOTE: We had to choose to set the height instead of the min-height because\n   * IE 11 requires the height on the parent for the children flex grow/shrink properties to work.\n   * When we used min-height, 1 1 auto doesn't used to work in IE11 :-(\n   * But this doesn't affect the fix. It works in both fixed & variable height datagrids.\n   *\n   * Refer: http://stackoverflow.com/questions/24396205/flex-grow-not-working-in-internet-explorer-11-0\n   */\n  private computeDatagridHeight() {\n    // IE doesn't return correct value for getComputedStyle(element).getPropertyValue(\"height\")\n    const value: number = this.domAdapter.clientRect(this.el.nativeElement).height;\n    this.renderer.setStyle(this.el.nativeElement, 'height', value + 'px');\n    this._heightSet = true;\n  }\n\n  private resetDatagridHeight() {\n    this.renderer.setStyle(this.el.nativeElement, 'height', '');\n    this._heightSet = false;\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  /**\n   * Makes each header compute its width.\n   */\n  private computeHeadersWidth() {\n    const nbColumns: number = this.headers.length;\n    let allStrict = true;\n    this.headers.forEach((header, index) => {\n      // On the last header column check whether all columns have strict widths.\n      // If all columns have strict widths, remove the strict width from the last column and make it the column's\n      // minimum width so that when all previous columns shrink, it will get a flexible width and cover the empty\n      // gap in the Datagrid.\n      const state: ColumnStateDiff = {\n        changes: [DatagridColumnChanges.WIDTH],\n        ...header.getColumnWidthState(),\n      };\n\n      if (!state.strictWidth) {\n        allStrict = false;\n      }\n\n      if (nbColumns === index + 1 && allStrict) {\n        state.strictWidth = 0;\n      }\n\n      this.columnsService.emitStateChangeAt(index, state);\n    });\n  }\n\n  /**\n   * Indicates if we want to re-compute columns width. This should only happen:\n   * 1) When headers change, with columns being added or removed\n   * 2) When rows are lazily loaded for the first time\n   */\n  private columnsSizesStable = false;\n\n  private shouldStabilizeColumns = true;\n\n  /**\n   * Triggers a whole re-rendring cycle to set column sizes, if needed.\n   */\n  private stabilizeColumns() {\n    this.shouldStabilizeColumns = false;\n    if (this.columnsSizesStable) {\n      // Nothing to do.\n      return;\n    }\n    // Resize when the rows are loaded.\n    if (this.items.displayed.length > 0) {\n      this.organizer.resize();\n      this.columnsSizesStable = true;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrFormsModule } from '../../forms/forms.module';\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonPopoverModule } from '../../popover/common/popover.module';\nimport { ClrLoadingModule } from '../../utils/loading/loading.module';\nimport { ClrOutsideClickModule } from '../../utils/outside-click/outside-click.module';\nimport { ClrDragAndDropModule } from '../../utils/drag-and-drop/drag-and-drop.module';\n\nimport { DatagridRowExpandAnimation } from './animation-hack/row-expand-animation';\nimport { DatagridStringFilter } from './built-in/filters/datagrid-string-filter';\nimport { ActionableOompaLoompa } from './chocolate/actionable-oompa-loompa';\nimport { DatagridWillyWonka } from './chocolate/datagrid-willy-wonka';\nimport { ExpandableOompaLoompa } from './chocolate/expandable-oompa-loompa';\nimport { ClrDatagrid } from './datagrid';\nimport { ClrDatagridActionBar } from './datagrid-action-bar';\nimport { ClrDatagridActionOverflow } from './datagrid-action-overflow';\nimport { ClrDatagridCell } from './datagrid-cell';\nimport { ClrDatagridColumn } from './datagrid-column';\nimport { ClrDatagridColumnSeparator } from './datagrid-column-separator';\nimport { ClrDatagridColumnToggle } from './datagrid-column-toggle';\nimport { ClrDatagridColumnToggleButton } from './datagrid-column-toggle-button';\nimport { ClrDatagridColumnToggleTitle } from './datagrid-column-toggle-title';\nimport { DatagridDetailRegisterer } from './datagrid-detail-registerer';\nimport { ClrDatagridFilter } from './datagrid-filter';\nimport { ClrDatagridFooter } from './datagrid-footer';\nimport { ClrDatagridHideableColumn } from './datagrid-hideable-column';\nimport { ClrDatagridItems } from './datagrid-items';\nimport { ClrDatagridItemsTrackBy } from './datagrid-items-trackby';\nimport { ClrDatagridPagination } from './datagrid-pagination';\nimport { ClrDatagridPageSize } from './datagrid-page-size';\nimport { ClrDatagridPlaceholder } from './datagrid-placeholder';\nimport { ClrDatagridRow } from './datagrid-row';\nimport { ClrDatagridRowDetail } from './datagrid-row-detail';\nimport { DatagridCellRenderer } from './render/cell-renderer';\nimport { DatagridHeaderRenderer } from './render/header-renderer';\nimport { DatagridMainRenderer } from './render/main-renderer';\nimport { DatagridRowRenderer } from './render/row-renderer';\nimport { WrappedCell } from './wrapped-cell';\nimport { WrappedColumn } from './wrapped-column';\nimport { WrappedRow } from './wrapped-row';\n\nexport const CLR_DATAGRID_DIRECTIVES: Type<any>[] = [\n  // Core\n  ClrDatagrid,\n  ClrDatagridActionBar,\n  ClrDatagridActionOverflow,\n  ClrDatagridColumn,\n  ClrDatagridColumnSeparator,\n  ClrDatagridColumnToggle,\n  ClrDatagridHideableColumn,\n  ClrDatagridFilter,\n  ClrDatagridItems,\n  ClrDatagridItemsTrackBy,\n  ClrDatagridRow,\n  ClrDatagridRowDetail,\n  DatagridDetailRegisterer,\n  ClrDatagridCell,\n  ClrDatagridFooter,\n  ClrDatagridPagination,\n  ClrDatagridPageSize,\n  ClrDatagridPlaceholder,\n  ClrDatagridColumnToggleButton,\n  ClrDatagridColumnToggleTitle,\n  WrappedCell,\n  WrappedColumn,\n  WrappedRow,\n\n  // Renderers\n  DatagridMainRenderer,\n  DatagridHeaderRenderer,\n  DatagridRowRenderer,\n  DatagridCellRenderer,\n\n  // Chocolate\n  DatagridWillyWonka,\n  ActionableOompaLoompa,\n  ExpandableOompaLoompa,\n\n  // Animation hack\n  DatagridRowExpandAnimation,\n\n  // Built-in shortcuts\n  DatagridStringFilter,\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ClrIconModule,\n    ClrFormsModule,\n    FormsModule,\n    ClrCommonPopoverModule,\n    ClrLoadingModule,\n    ClrOutsideClickModule,\n    ClrDragAndDropModule,\n  ],\n  declarations: [CLR_DATAGRID_DIRECTIVES],\n  exports: [CLR_DATAGRID_DIRECTIVES],\n  entryComponents: [WrappedCell, WrappedColumn, WrappedRow],\n})\nexport class ClrDatagridModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { Component, EventEmitter, HostBinding, Input, OnInit, Optional, Output, SkipSelf } from '@angular/core';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n@Component({\n  selector: 'clr-stack-block',\n  template: `\n    <dt class=\"stack-block-label\"\n        (click)=\"toggleExpand()\"\n        (keyup.enter)=\"toggleExpand()\"\n        (keyup.space)=\"toggleExpand()\"\n        (focus)=\"focused = true\"\n        (blur)=\"focused = false\"\n        [attr.role]=\"role\"\n        [attr.tabindex]=\"tabIndex\"\n        [attr.aria-expanded]=\"ariaExpanded\">\n      <clr-icon shape=\"caret\"\n                class=\"stack-block-caret\"\n                *ngIf=\"expandable\"\n                [attr.dir]=\"caretDirection\"\n                [attr.title]=\"caretTitle\"></clr-icon>\n      <ng-content select=\"clr-stack-label\"></ng-content>\n    </dt>\n    <dd class=\"stack-block-content\">\n      <ng-content></ng-content>\n    </dd>\n    <!-- FIXME: remove this string concatenation when boolean states are supported -->\n    <div [@collapse]=\"''+!expanded\" class=\"stack-children\" >\n      <ng-content select=\"clr-stack-block\"></ng-content>\n    </div>\n  `,\n  // Custom elements are inline by default\n  styles: [\n    `\n        :host { display: block; }\n    `,\n  ],\n  // Make sure the host has the proper class for styling purposes\n  host: { '[class.stack-block]': 'true' },\n  animations: [\n    trigger('collapse', [\n      state('true', style({ height: 0, display: 'none' })),\n      transition('true => false', [animate('0.2s ease-in-out', style({ height: '*', display: '*' }))]),\n      transition('false => true', [style({ height: '*', display: '*' }), animate('0.2s ease-in-out')]),\n    ]),\n  ],\n})\nexport class ClrStackBlock implements OnInit {\n  @HostBinding('class.stack-block-expanded')\n  @Input('clrSbExpanded')\n  expanded: boolean = false;\n  @Output('clrSbExpandedChange') expandedChange: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n  @HostBinding('class.stack-block-expandable')\n  @Input('clrSbExpandable')\n  expandable: boolean = false;\n\n  focused: boolean = false;\n  private _changedChildren: number = 0;\n  private _fullyInitialized: boolean = false;\n  private _changed: boolean = false;\n\n  @HostBinding('class.stack-block-changed')\n  get getChangedValue(): boolean {\n    return this._changed || (this._changedChildren > 0 && !this.expanded);\n  }\n\n  @Input('clrSbNotifyChange')\n  set setChangedValue(value: boolean) {\n    this._changed = value;\n\n    if (this.parent && this._fullyInitialized) {\n      if (value) {\n        this.parent._changedChildren++;\n      } else {\n        this.parent._changedChildren--;\n      }\n    }\n  }\n\n  /*\n     * This would be more efficient with @ContentChildren, with the parent ClrStackBlock\n     * querying for children StackBlocks, but this feature is not available when downgrading\n     * the component for Angular 1.\n     */\n  constructor(\n    @SkipSelf()\n    @Optional()\n    private parent: ClrStackBlock,\n    public commonStrings: ClrCommonStrings\n  ) {\n    if (parent) {\n      parent.addChild();\n    }\n  }\n\n  ngOnInit(): void {\n    // in order to access the parent ClrStackBlock's properties,\n    // the child ClrStackBlock  has to be fully initialized at first.\n    this._fullyInitialized = true;\n  }\n\n  addChild(): void {\n    this.expandable = true;\n  }\n\n  toggleExpand(): void {\n    if (this.expandable) {\n      this.expanded = !this.expanded;\n      this.expandedChange.emit(this.expanded);\n    }\n  }\n\n  get caretDirection(): string {\n    return this.expanded ? 'down' : 'right';\n  }\n\n  get caretTitle(): string {\n    return this.expanded ? this.commonStrings.collapse : this.commonStrings.expand;\n  }\n\n  get role(): string {\n    return this.expandable ? 'button' : null;\n  }\n\n  get tabIndex(): string {\n    return this.expandable ? '0' : null;\n  }\n\n  @HostBinding('class.on-focus')\n  get onStackLabelFocus(): boolean {\n    return this.expandable && !this.expanded && this.focused;\n  }\n\n  get ariaExpanded(): string {\n    if (!this.expandable) {\n      return null;\n    } else {\n      return this.expanded ? 'true' : 'false';\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EventEmitter, Output } from '@angular/core';\n\n@Component({\n  selector: 'clr-stack-view',\n  template: `\n        <ng-content select=\"clr-stack-header\"></ng-content>\n        <dl class=\"stack-view\"><ng-content></ng-content></dl>\n    `,\n  // Custom elements are inline by default.\n  styles: [\n    `\n        :host { display: block; }\n    `,\n  ],\n})\nexport class ClrStackView {\n  /**\n   * Undocumented experimental feature: inline editing.\n   */\n  editable: boolean = false;\n\n  @Output('clrStackSave') save: EventEmitter<void> = new EventEmitter<void>(false);\n\n  private _editMode: boolean = false;\n\n  editingChange: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  get editing(): boolean {\n    return this.editable && this._editMode;\n  }\n\n  set editing(value: boolean) {\n    if (this.editable) {\n      this._editMode = value;\n      this.editingChange.emit(value);\n      if (!value) {\n        this.save.emit(null);\n      }\n    }\n  }\n  /**\n   * End of undocumented experimental feature.\n   */\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\nimport { ClrStackView } from './stack-view';\n\n@Component({\n  selector: 'clr-stack-header',\n  template: `\n        <h4 class=\"stack-header\">\n            <span class=\"stack-title\"><ng-content></ng-content></span>\n            \n            <span class=\"stack-actions\">\n                <ng-content select=\".stack-action\"></ng-content>\n                <!-- Undocumented experimental feature: inline editing. -->\n                <button *ngIf=\"stackView.editable\" class=\"stack-action btn btn-sm btn-link\" \n                        (click)=\"stackView.editing = !stackView.editing\" type=\"button\">\n                        Edit\n                </button>\n                <!-- End of undocumented experimental feature. -->\n            </span>\n        </h4>\n    `,\n  // Custom elements are inline by default\n  styles: [\n    `\n        :host { display: block; }\n    `,\n  ],\n})\nexport class ClrStackHeader {\n  constructor(public stackView: ClrStackView) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n/**\n * Undocumented experimental feature: inline editing.\n */\n\nimport { EventEmitter } from '@angular/core';\nimport { ClrStackView } from './stack-view';\n\nexport class StackControl {\n  model: any;\n  modelChange: EventEmitter<any> = new EventEmitter<any>(false);\n\n  constructor(protected stackView: ClrStackView) {\n    // Make the ClrStackView editable, since it contains a StackControl\n    this.stackView.editable = true;\n    this.stackView.editingChange.subscribe((editing: boolean) => {\n      // Edit mode was closed\n      if (!editing) {\n        this.modelChange.emit(this.model);\n      }\n    });\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n/**\n * Undocumented experimental feature: inline editing.\n *\n * TODO: support more types of inputs: checkbox, radio, ...\n * TODO: Mirror input attributes from the host to the actual input: size, min, max, placeholder, ...\n */\n\nimport { Component } from '@angular/core';\nimport { StackControl } from './stack-control';\nimport { ClrStackView } from './stack-view';\n\n@Component({\n  selector: 'clr-stack-input',\n  inputs: ['model: clrModel', 'type'],\n  outputs: ['modelChange: clrModelChange'],\n  template: `\n        <span *ngIf=\"!stackView.editing\">{{model}}</span>\n        <input [type]=\"type\" *ngIf=\"stackView.editing\" [(ngModel)]=\"model\"/>\n    `,\n})\nexport class ClrStackInput extends StackControl {\n  type: string = 'text';\n\n  constructor(public stackView: ClrStackView) {\n    super(stackView);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n/**\n * Undocumented experimental feature: inline editing.\n *\n * TODO: Offer a a way to customize the value displayed, plain value may be unreadable.\n */\n\nimport { Component } from '@angular/core';\nimport { StackControl } from './stack-control';\nimport { ClrStackView } from './stack-view';\n\n@Component({\n  selector: 'clr-stack-select',\n  inputs: ['model: clrModel'],\n  outputs: ['modelChange: clrModelChange'],\n  template: `\n        <span *ngIf=\"!stackView.editing\">{{model}}</span>\n        <div class=\"select\" *ngIf=\"stackView.editing\" >\n            <select [(ngModel)]=\"model\">\n                <ng-content></ng-content>\n            </select>\n        </div>\n    `,\n})\nexport class ClrStackSelect extends StackControl {\n  constructor(public stackView: ClrStackView) {\n    super(stackView);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive } from '@angular/core';\n\n@Directive({ selector: 'clr-stack-label, clr-stack-content' })\nexport class ClrStackViewCustomTags {\n  // No behavior\n  // The only purpose is to \"declare\" the tag in Angular\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrStackBlock } from './stack-block';\nimport { ClrStackHeader } from './stack-header';\nimport { ClrStackInput } from './stack-input';\nimport { ClrStackSelect } from './stack-select';\nimport { ClrStackView } from './stack-view';\nimport { ClrStackViewCustomTags } from './stack-view-custom-tags';\nimport { ClrIconModule } from '../../icon/icon.module';\n\nexport const CLR_STACK_VIEW_DIRECTIVES: Type<any>[] = [\n  ClrStackView,\n  ClrStackHeader,\n  ClrStackBlock,\n  ClrStackViewCustomTags,\n  /**\n   * Undocumented experimental feature: inline editing.\n   */\n  ClrStackInput,\n  ClrStackSelect,\n  /**\n   * End of undocumented experimental feature.\n   */\n];\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ClrIconModule],\n  declarations: [CLR_STACK_VIEW_DIRECTIVES],\n  exports: [CLR_STACK_VIEW_DIRECTIVES],\n})\nexport class ClrStackViewModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n// TODO: I'd like this to be a CheckedState enum for the checkboxes in the future.\nexport enum ClrSelectedState {\n  // WARNING! Unselected has the value 0,\n  // so it's actually the only one that will evaluate to false if cast to a boolean.\n  // Don't mess with the order!\n  UNSELECTED = 0,\n  SELECTED,\n  INDETERMINATE,\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ClrSelectedState } from './selected-state.enum';\nimport { BehaviorSubject } from 'rxjs';\n\nexport abstract class TreeNodeModel<T> {\n  selected = new BehaviorSubject<ClrSelectedState>(ClrSelectedState.UNSELECTED);\n  model: T | null;\n  /*\n   * Ideally, I would like to use a polymorphic this type here to ensure homogeneity of the tree, something like:\n   * abstract parent: this<T> | null;\n   * abstract children: this<T>[];\n   * But I'm hitting limitations on typescript not allowing that type in constructors or static methods.\n   * So I'm resorting to forcing override with more precise types by marking these abstract.\n   */\n  abstract parent: TreeNodeModel<T> | null;\n  abstract children: TreeNodeModel<T>[];\n\n  /*\n   * Being able to push this down to the RecursiveTreeNodeModel would require too much work on the angular components\n   * right now for them to know which kind of model they are using. So I'm lifting the public properties to this\n   * abstract parent class for now and we can revisit it later, when we're not facing such a close deadline.\n   */\n  loading = false;\n\n  destroy() {\n    // Just to be safe\n    this.selected.complete();\n  }\n\n  // Propagate by default when eager, don't propagate in the lazy-loaded tree.\n  setSelected(state: ClrSelectedState, propagateUp: boolean, propagateDown: boolean) {\n    if (state === this.selected.value) {\n      return;\n    }\n    this.selected.next(state);\n    if (propagateDown && state !== ClrSelectedState.INDETERMINATE && this.children) {\n      this.children.forEach(child => child.setSelected(state, false, true));\n    }\n    if (propagateUp && this.parent) {\n      this.parent._updateSelectionFromChildren();\n    }\n  }\n\n  toggleSelection(propagate: boolean) {\n    // Both unselected and indeterminate toggle to selected\n    const newState =\n      this.selected.value === ClrSelectedState.SELECTED ? ClrSelectedState.UNSELECTED : ClrSelectedState.SELECTED;\n    // NOTE: we always propagate selection up in this method because it is only called when the user takes an action.\n    // It should never be called from lifecycle hooks or app-provided inputs.\n    this.setSelected(newState, true, propagate);\n  }\n\n  private computeSelectionStateFromChildren() {\n    let oneSelected = false;\n    let oneUnselected = false;\n    // Using a good old for loop to exit as soon as we can tell, for better performance on large trees.\n    for (const child of this.children) {\n      switch (child.selected.value) {\n        case ClrSelectedState.INDETERMINATE:\n          return ClrSelectedState.INDETERMINATE;\n        case ClrSelectedState.SELECTED:\n          oneSelected = true;\n          if (oneUnselected) {\n            return ClrSelectedState.INDETERMINATE;\n          }\n          break;\n        case ClrSelectedState.UNSELECTED:\n        default:\n          // Default is the same as unselected, in case an undefined somehow made it all the way here.\n          oneUnselected = true;\n          if (oneSelected) {\n            return ClrSelectedState.INDETERMINATE;\n          }\n          break;\n      }\n    }\n    if (!oneSelected) {\n      return ClrSelectedState.UNSELECTED;\n    } else if (!oneUnselected) {\n      return ClrSelectedState.SELECTED;\n    }\n  }\n\n  /*\n   * Internal, but needs to be called by other nodes\n   */\n  _updateSelectionFromChildren() {\n    const newState = this.computeSelectionStateFromChildren();\n    if (newState === this.selected.value) {\n      return;\n    }\n    this.selected.next(newState);\n    if (this.parent) {\n      this.parent._updateSelectionFromChildren();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { TreeNodeModel } from './tree-node.model';\n\n/*\n * A declarative model is built by traversing the Angular component tree.\n * Declarative = Tree node components dictate the model\n */\nexport class DeclarativeTreeNodeModel<T> extends TreeNodeModel<T> {\n  constructor(parent: DeclarativeTreeNodeModel<T> | null) {\n    super();\n    this.parent = parent;\n    if (parent) {\n      parent._addChild(this);\n    }\n    this.children = [];\n  }\n\n  // Override for a more precise type\n  parent: DeclarativeTreeNodeModel<T> | null;\n  children: DeclarativeTreeNodeModel<T>[];\n\n  _addChild(child: DeclarativeTreeNodeModel<T>) {\n    this.children.push(child);\n  }\n\n  _removeChild(child: DeclarativeTreeNodeModel<T>) {\n    const index = this.children.indexOf(child);\n    if (index > -1) {\n      this.children.splice(index, 1);\n    }\n  }\n\n  destroy() {\n    if (this.parent) {\n      this.parent._removeChild(this);\n    }\n    super.destroy();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, Optional, SkipSelf, TemplateRef } from '@angular/core';\nimport { RecursiveTreeNodeModel } from './models/recursive-tree-node.model';\nimport { ClrRecursiveForOfContext } from './recursive-for-of';\n\n@Injectable()\nexport class TreeFeaturesService<T> {\n  selectable = false;\n  eager = true;\n  recursion: {\n    template: TemplateRef<ClrRecursiveForOfContext<T>>;\n    root: RecursiveTreeNodeModel<T>[];\n  };\n}\n\nexport function treeFeaturesFactory<T>(existing: TreeFeaturesService<T>) {\n  return existing || new TreeFeaturesService();\n}\n\nexport const TREE_FEATURES_PROVIDER = {\n  provide: TreeFeaturesService,\n  useFactory: treeFeaturesFactory,\n  /*\n   * The Optional + SkipSelf pattern ensures that in case of nested components, only the root one will\n   * instantiate a new service and all its children will reuse the root's instance.\n   * If there are several roots (in this case, several independent trees on a page), each root will instantiate\n   * its own service so they won't interfere with one another.\n   *\n   * TL;DR - Optional + SkipSelf = 1 instance of TreeFeaturesService per tree.\n   */\n  deps: [[new Optional(), new SkipSelf(), TreeFeaturesService]],\n};\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport {\n  Component,\n  EventEmitter,\n  HostBinding,\n  Inject,\n  Injector,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  SkipSelf,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../utils/id-generator/id-generator.service';\nimport { LoadingListener } from '../../utils/loading/loading-listener';\nimport { DeclarativeTreeNodeModel } from './models/declarative-tree-node.model';\nimport { ClrSelectedState } from './models/selected-state.enum';\nimport { TreeNodeModel } from './models/tree-node.model';\nimport { TREE_FEATURES_PROVIDER, TreeFeaturesService } from './tree-features.service';\n\n@Component({\n  selector: 'clr-tree-node',\n  templateUrl: './tree-node.html',\n  providers: [\n    UNIQUE_ID_PROVIDER,\n    TREE_FEATURES_PROVIDER,\n    IfExpandService,\n    { provide: LoadingListener, useExisting: IfExpandService },\n  ],\n  animations: [\n    trigger('childNodesState', [\n      state('expanded', style({ height: '*', 'overflow-y': 'hidden' })),\n      state('collapsed', style({ height: 0, 'overflow-y': 'hidden' })),\n      transition('expanded <=> collapsed', animate('0.2s ease-in-out')),\n    ]),\n  ],\n  host: { '[class.clr-tree-node]': 'true' },\n})\nexport class ClrTreeNode<T> implements OnInit, OnDestroy {\n  STATES = ClrSelectedState;\n  private skipEmitChange = false;\n\n  constructor(\n    @Inject(UNIQUE_ID) public nodeId: string,\n    @Optional()\n    @SkipSelf()\n    parent: ClrTreeNode<T>,\n    public featuresService: TreeFeaturesService<T>,\n    public expandService: IfExpandService,\n    public commonStrings: ClrCommonStrings,\n    injector: Injector\n  ) {\n    if (this.featuresService.recursion) {\n      // I'm completely stuck, we have to hack into private properties until either\n      // https://github.com/angular/angular/issues/14935 or https://github.com/angular/angular/issues/15998\n      // are fixed\n      this._model = (<any>injector).view.context.clrModel;\n    } else {\n      // Force cast for now, not sure how to tie the correct type here to featuresService.recursion\n      this._model = new DeclarativeTreeNodeModel(parent ? <DeclarativeTreeNodeModel<T>>parent._model : null);\n    }\n  }\n\n  _model: TreeNodeModel<T>;\n\n  isExpandable() {\n    if (typeof this.expandable !== 'undefined') {\n      return this.expandable;\n    }\n    return !!this.expandService.expandable || this._model.children.length > 0;\n  }\n\n  @Input('clrSelected')\n  get selected(): ClrSelectedState | boolean {\n    return this._model.selected.value;\n  }\n  set selected(value: ClrSelectedState | boolean) {\n    this.featuresService.selectable = true;\n    // Gracefully handle falsy states like null or undefined because it's just easier than answering questions.\n    // This shouldn't happen with strict typing on the app's side, but it's not up to us.\n    if (value === null || typeof value === 'undefined') {\n      value = ClrSelectedState.UNSELECTED;\n    }\n    // We match booleans to the corresponding ClrSelectedState\n    if (typeof value === 'boolean') {\n      value = value ? ClrSelectedState.SELECTED : ClrSelectedState.UNSELECTED;\n    }\n    // We propagate only if the tree is in smart mode, and skip emitting the output when we set the input\n    // See https://github.com/vmware/clarity/issues/3073\n    this.skipEmitChange = true;\n    this._model.setSelected(value, this.featuresService.eager, this.featuresService.eager);\n    this.skipEmitChange = false;\n  }\n\n  @Output('clrSelectedChange') selectedChange = new EventEmitter<ClrSelectedState>(false);\n\n  @HostBinding('attr.role')\n  get treeNodeRole(): string {\n    return this._model.parent ? 'treeitem' : 'tree';\n  }\n\n  @HostBinding('attr.aria-multiselectable')\n  get rootAriaMultiSelectable(): boolean {\n    if (this._model.parent || !this.featuresService.selectable) {\n      return null;\n    } else {\n      return true;\n    }\n  }\n\n  @HostBinding('attr.aria-selected')\n  get ariaSelected(): boolean {\n    return this.featuresService.selectable ? this._model.selected.value === ClrSelectedState.SELECTED : null;\n  }\n\n  // Allows the consumer to override our logic deciding if a node is expandable.\n  // Useful for recursive trees that don't want to pre-load one level ahead just to know which nodes are expandable.\n  @Input('clrExpandable') expandable: boolean | undefined;\n\n  // I'm caving on this, for tree nodes I think we can tolerate having a two-way binding on the component\n  // rather than enforce the clrIfExpanded structural directive for dynamic cases. Mostly because for the smart\n  // case, you can't use a structural directive, it would need to go on an ng-container.\n  @Input('clrExpanded')\n  get expanded() {\n    return this.expandService.expanded;\n  }\n  set expanded(value: boolean) {\n    this.expandService.expanded = value;\n  }\n\n  @Output('clrExpandedChange') expandedChange = new EventEmitter<boolean>();\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnInit() {\n    this.subscriptions.push(\n      this._model.selected.pipe(filter(() => !this.skipEmitChange)).subscribe(value => this.selectedChange.emit(value))\n    );\n    this.subscriptions.push(this.expandService.expandChange.subscribe(value => this.expandedChange.emit(value)));\n  }\n\n  ngOnDestroy() {\n    this._model.destroy();\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input } from '@angular/core';\nimport { TREE_FEATURES_PROVIDER, TreeFeaturesService } from './tree-features.service';\n\n@Component({\n  selector: 'clr-tree',\n  template: `\n    <ng-content></ng-content>\n    <clr-recursive-children *ngIf=\"featuresService.recursion\"\n                            [children]=\"featuresService.recursion.root\"></clr-recursive-children>\n  `,\n  providers: [TREE_FEATURES_PROVIDER],\n})\nexport class ClrTree<T> {\n  // This component can also be used just to declare providers once for trees with multiple root nodes.\n\n  constructor(public featuresService: TreeFeaturesService<T>) {}\n\n  @Input('clrLazy')\n  set lazy(value: boolean) {\n    this.featuresService.eager = !value;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { isObservable, Subscription } from 'rxjs';\n\nimport { TreeNodeModel } from './tree-node.model';\nimport { AsyncArray, isPromise } from './async-array';\n\n/*\n * A recursive model is built received from the app and traversed to create the corresponding components.\n * Recursive = Model dictates the tree node components\n */\nexport class RecursiveTreeNodeModel<T> extends TreeNodeModel<T> {\n  constructor(\n    model: T,\n    parent: RecursiveTreeNodeModel<T> | null,\n    private getChildren: (node: T) => AsyncArray<T> | undefined\n  ) {\n    super();\n    this.model = model;\n    this.parent = parent;\n  }\n\n  parent: RecursiveTreeNodeModel<T> | null;\n\n  private childrenFetched = false;\n\n  clearChildren() {\n    this._children.forEach(child => child.destroy());\n    delete this._children;\n    this.childrenFetched = false;\n  }\n\n  fetchChildren() {\n    if (this.childrenFetched) {\n      return;\n    }\n\n    const asyncChildren = this.getChildren(this.model);\n    if (isPromise(asyncChildren)) {\n      this.loading = true;\n      asyncChildren.then(raw => {\n        this._children = this.wrapChildren(raw);\n        this.loading = false;\n      });\n    } else if (isObservable(asyncChildren)) {\n      this.loading = true;\n      this.subscription = asyncChildren.subscribe(raw => {\n        this._children = this.wrapChildren(raw);\n        this.loading = false;\n      });\n    } else if (asyncChildren) {\n      // Synchronous case\n      this._children = this.wrapChildren(asyncChildren);\n    } else {\n      this._children = [];\n    }\n    this.childrenFetched = true;\n  }\n\n  private wrapChildren(rawModels: T[]) {\n    return rawModels.map(m => new RecursiveTreeNodeModel(m, this, this.getChildren));\n  }\n\n  private _children: RecursiveTreeNodeModel<T>[] = [];\n  get children(): RecursiveTreeNodeModel<T>[] {\n    this.fetchChildren();\n    return this._children;\n  }\n  set children(value: RecursiveTreeNodeModel<T>[]) {\n    this._children = value;\n  }\n\n  private subscription: Subscription;\n\n  destroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n    super.destroy();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n// We need to make sure people can give us null or undefined children even if they run strict type checking.\nimport { Observable } from 'rxjs';\n\nexport type AsyncArray<T> =\n  | T[]\n  | null\n  | undefined\n  | Promise<T[] | null | undefined>\n  | Observable<T[] | null | undefined>;\n\nexport function isPromise<T>(o: AsyncArray<T>): o is Promise<T[]> {\n  // Shamelessly copied from every open-source project out there.\n  return o && typeof (<any>o).then === 'function';\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, Input, OnChanges, TemplateRef } from '@angular/core';\nimport { TreeFeaturesService } from './tree-features.service';\nimport { RecursiveTreeNodeModel } from './models/recursive-tree-node.model';\nimport { TreeNodeModel } from './models/tree-node.model';\nimport { AsyncArray } from './models/async-array';\n\nexport interface ClrRecursiveForOfContext<T> {\n  $implicit: T;\n  clrModel: TreeNodeModel<T>;\n}\n\n@Directive({ selector: '[clrRecursiveFor][clrRecursiveForOf]' })\nexport class ClrRecursiveForOf<T> implements OnChanges {\n  constructor(\n    private template: TemplateRef<ClrRecursiveForOfContext<T>>,\n    private featuresService: TreeFeaturesService<T>\n  ) {}\n\n  // TODO: accept NgIterable<T>\n  @Input('clrRecursiveForOf') nodes: T | T[];\n\n  // TODO: accept NgIterable<T> return type\n  @Input('clrRecursiveForGetChildren') getChildren: (node: T) => AsyncArray<T>;\n\n  // I'm using OnChanges instead of OnInit to easily keep up to date with dynamic trees. Maybe optimizable later.\n  ngOnChanges() {\n    let wrapped: RecursiveTreeNodeModel<T>[];\n    if (Array.isArray(this.nodes)) {\n      wrapped = this.nodes.map(node => new RecursiveTreeNodeModel(node, null, this.getChildren));\n    } else {\n      wrapped = [new RecursiveTreeNodeModel(this.nodes, null, this.getChildren)];\n    }\n    this.featuresService.recursion = {\n      template: this.template,\n      root: wrapped,\n    };\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input, Optional } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\nimport { TreeFeaturesService } from './tree-features.service';\nimport { TreeNodeModel } from './models/tree-node.model';\nimport { ClrRecursiveForOfContext } from './recursive-for-of';\nimport { RecursiveTreeNodeModel } from './models/recursive-tree-node.model';\n\n@Component({\n  selector: 'clr-recursive-children',\n  template: `\n    <ng-container *ngIf=\"shouldRender()\">\n      <ng-container *ngFor=\"let child of parent?.children || children\">\n        <ng-container *ngTemplateOutlet=\"featuresService.recursion.template; context: getContext(child)\"></ng-container>\n      </ng-container>\n    </ng-container>\n  `,\n})\n/**\n * Internal component, do not export!\n * This is part of the hack to get around https://github.com/angular/angular/issues/15998\n */\nexport class RecursiveChildren<T> {\n  constructor(public featuresService: TreeFeaturesService<T>, @Optional() private expandService: IfExpandService) {\n    if (expandService) {\n      this.subscription = this.expandService.expandChange.subscribe(value => {\n        if (!value && this.parent && !this.featuresService.eager && this.featuresService.recursion) {\n          // In the case of lazy-loading recursive trees, we clear the children on collapse.\n          // This is better in case they change between two user interaction, and that way\n          // the app itself can decide whether to cache them or not.\n          (<RecursiveTreeNodeModel<T>>this.parent).clearChildren();\n        }\n      });\n    }\n  }\n\n  shouldRender() {\n    return (\n      this.featuresService.recursion &&\n      // In the smart case, we eagerly render all the recursive children\n      // to make sure two-way bindings for selection are available.\n      // They will be hidden with CSS by the parent.\n      (this.featuresService.eager || !this.expandService || this.expandService.expanded)\n    );\n  }\n\n  // Offering the option to either give the parent node to recurse potentially lazily,\n  // or directly the list of children to display.\n  @Input('parent') parent: TreeNodeModel<T>;\n  @Input('children') children: TreeNodeModel<T>[];\n\n  getContext(node: TreeNodeModel<T>): ClrRecursiveForOfContext<T> {\n    return {\n      $implicit: node.model,\n      clrModel: node,\n    };\n  }\n\n  subscription: Subscription;\n\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrLoadingModule } from '../../utils/loading/loading.module';\nimport { ClrTreeNode } from './tree-node';\nimport { ClrTree } from './tree';\nimport { ClrRecursiveForOf } from './recursive-for-of';\nimport { RecursiveChildren } from './recursive-children';\n\nexport const CLR_TREE_VIEW_DIRECTIVES: Type<any>[] = [ClrTree, ClrTreeNode, ClrRecursiveForOf];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrLoadingModule],\n  declarations: [CLR_TREE_VIEW_DIRECTIVES, RecursiveChildren],\n  exports: [CLR_TREE_VIEW_DIRECTIVES],\n})\nexport class ClrTreeViewModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { NgModule } from '@angular/core';\nimport { ClrDatagridModule } from './datagrid/datagrid.module';\nimport { ClrStackViewModule } from './stack-view/stack-view.module';\nimport { ClrTreeViewModule } from './tree-view/tree-view.module';\n\n@NgModule({ exports: [ClrDatagridModule, ClrStackViewModule, ClrTreeViewModule] })\nexport class ClrDataModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Observable } from 'rxjs';\n\nexport abstract class FocusableItem {\n  id: string;\n  disabled?: boolean;\n\n  abstract focus(): void;\n  abstract blur(): void;\n  abstract activate?(): void;\n\n  up?: FocusableItem | Observable<FocusableItem>;\n  down?: FocusableItem | Observable<FocusableItem>;\n  left?: FocusableItem | Observable<FocusableItem>;\n  right?: FocusableItem | Observable<FocusableItem>;\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Type } from '@angular/core';\nimport { UNIQUE_ID_PROVIDER } from '../../id-generator/id-generator.service';\nimport { FocusableItem } from './focusable-item';\n\nexport function customFocusableItemProvider<T>(implementation: Type<T>) {\n  return [\n    UNIQUE_ID_PROVIDER,\n    implementation,\n    {\n      provide: FocusableItem,\n      useExisting: implementation,\n    },\n  ];\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum ArrowKeyDirection {\n  UP = 'up',\n  DOWN = 'down',\n  LEFT = 'left',\n  RIGHT = 'right',\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, Optional, Renderer2, SkipSelf } from '@angular/core';\nimport { isObservable, of } from 'rxjs';\n\nimport { ArrowKeyDirection } from './arrow-key-direction.enum';\nimport { FocusableItem } from './focusable-item/focusable-item';\n\n@Injectable()\nexport class FocusService {\n  constructor(private renderer: Renderer2) {}\n\n  private container: HTMLElement;\n\n  private _current: FocusableItem;\n  public get current() {\n    return this._current;\n  }\n\n  reset(first: FocusableItem) {\n    this._current = first;\n  }\n\n  listenToArrowKeys(el: HTMLElement) {\n    // The following listeners return false when there was an action to take for the key pressed,\n    // in order to prevent the default behavior of that key.\n    this.renderer.listen(el, 'keydown.arrowup', () => !this.move(ArrowKeyDirection.UP));\n    this.renderer.listen(el, 'keydown.arrowdown', () => !this.move(ArrowKeyDirection.DOWN));\n    this.renderer.listen(el, 'keydown.arrowleft', () => !this.move(ArrowKeyDirection.LEFT));\n    this.renderer.listen(el, 'keydown.arrowright', () => !this.move(ArrowKeyDirection.RIGHT));\n  }\n\n  registerContainer(el: HTMLElement) {\n    this.container = el;\n    this.renderer.setAttribute(el, 'tabindex', '0');\n    this.listenToArrowKeys(el);\n    // The following listeners return false when there was an action to take for the key pressed,\n    // in order to prevent the default behavior of that key.\n    this.renderer.listen(el, 'keydown.space', () => !this.activateCurrent());\n    this.renderer.listen(el, 'keydown.enter', () => !this.activateCurrent());\n  }\n\n  moveTo(item: FocusableItem) {\n    this.renderer.setAttribute(this.container, 'aria-activedescendant', item.id);\n    if (this.current) {\n      this.current.blur();\n    }\n    item.focus();\n    this._current = item;\n  }\n\n  /**\n   * The second parameter, optional, is here to allow recursion to skip disabled items.\n   */\n  move(direction: ArrowKeyDirection, current = this.current) {\n    const next = current[direction];\n    if (next) {\n      // Turning the value into an Observable isn't great, but it's the fastest way to avoid code duplication.\n      // If performance ever matters for this, we can refactor using additional private methods.\n      const nextObs = isObservable(next) ? next : of(next);\n      nextObs.subscribe(item => {\n        if (item.disabled) {\n          return this.move(direction, item);\n        } else {\n          this.moveTo(item);\n          return true;\n        }\n      });\n    }\n    return false;\n  }\n\n  activateCurrent() {\n    if (this.current && this.current.activate) {\n      this.current.activate();\n      return true;\n    }\n    return false;\n  }\n}\n\nexport function clrFocusServiceFactory(existing: FocusService, renderer: Renderer2) {\n  return existing || new FocusService(renderer);\n}\n\nexport const FOCUS_SERVICE_PROVIDER = {\n  provide: FocusService,\n  useFactory: clrFocusServiceFactory,\n  deps: [[new Optional(), new SkipSelf(), FocusService], Renderer2],\n};\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Observable, Observer } from 'rxjs';\n\nexport function wrapObservable<T>(\n  observable: Observable<T>,\n  onSubscribe?: (observer: Observer<T>) => void,\n  onUnsubscribe?: (observer: Observer<T>) => void\n): Observable<T> {\n  return Observable.create((observer: Observer<T>) => {\n    onSubscribe(observer);\n    const subscription = observable.subscribe(observer);\n    return () => {\n      subscription.unsubscribe();\n      if (onUnsubscribe) {\n        onUnsubscribe(observer);\n      }\n    };\n  });\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { isPlatformBrowser } from '@angular/common';\nimport { Inject, Injectable, Optional, PLATFORM_ID, Renderer2, SkipSelf } from '@angular/core';\nimport { Observable, of, ReplaySubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { IfOpenService } from '../../../utils/conditional/if-open.service';\nimport { customFocusableItemProvider } from '../../../utils/focus/focusable-item/custom-focusable-item-provider';\nimport { UNIQUE_ID } from '../../../utils/id-generator/id-generator.service';\nimport { ArrowKeyDirection } from '../../../utils/focus/arrow-key-direction.enum';\nimport { FocusService } from '../../../utils/focus/focus.service';\nimport { FocusableItem } from '../../../utils/focus/focusable-item/focusable-item';\nimport { linkParent, linkVertical } from '../../../utils/focus/focusable-item/linkers';\nimport { wrapObservable } from '../../../utils/focus/wrap-observable';\n\n@Injectable()\nexport class DropdownFocusHandler implements FocusableItem {\n  constructor(\n    @Inject(UNIQUE_ID) public id: string,\n    private renderer: Renderer2,\n    @SkipSelf()\n    @Optional()\n    private parent: DropdownFocusHandler,\n    private ifOpenService: IfOpenService,\n    private focusService: FocusService,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    this.resetChildren();\n    this.moveToFirstItemWhenOpen();\n    if (!this.parent) {\n      this.handleRootFocus();\n    }\n  }\n\n  /**\n   * If the dropdown was opened by clicking on the trigger, we automatically move to the first item\n   */\n  moveToFirstItemWhenOpen() {\n    this.ifOpenService.openChange.subscribe(open => {\n      if (open && this.ifOpenService.originalEvent) {\n        // Even if we properly waited for ngAfterViewInit, the container still wouldn't be attached to the DOM.\n        // So setTimeout is the only way to wait for the container to be ready to move focus to first item.\n        setTimeout(() => {\n          this.focusService.moveTo(this);\n          if (this.parent) {\n            this.focusService.move(ArrowKeyDirection.RIGHT);\n          } else {\n            this.focusService.move(ArrowKeyDirection.DOWN);\n          }\n        });\n      }\n    });\n  }\n\n  private focusBackOnTrigger = false;\n\n  /**\n   * Focus on the menu when it opens, and focus back on the root trigger when the whole dropdown becomes closed\n   */\n  handleRootFocus() {\n    this.ifOpenService.openChange.subscribe(open => {\n      if (open) {\n        // Even if we properly waited for ngAfterViewInit, the container still wouldn't be attached to the DOM.\n        // So setTimeout is the only way to wait for the container to be ready to focus it.\n        setTimeout(() => {\n          if (this.container && isPlatformBrowser(this.platformId)) {\n            this.container.focus();\n          }\n        });\n      }\n      if (!open) {\n        // We reset the state of the focus service both on initialization and when closing.\n        this.focusService.reset(this);\n        // But we only actively focus the trigger when closing, not on initialization.\n        if (this.focusBackOnTrigger) {\n          this.focus();\n        }\n      }\n      this.focusBackOnTrigger = open;\n    });\n  }\n\n  private _trigger: HTMLElement;\n  get trigger() {\n    return this._trigger;\n  }\n  set trigger(el: HTMLElement) {\n    this._trigger = el;\n    this.renderer.setAttribute(el, 'id', this.id);\n    if (this.parent) {\n      // The root trigger needs to be in the tab flow, but nested ones are removed like any other dropdown item.\n      this.renderer.setAttribute(el, 'tabindex', '-1');\n    } else {\n      // The root trigger is the only one outside of the menu, so it needs to its own key listeners.\n      this.focusService.listenToArrowKeys(el);\n    }\n  }\n\n  private _container: HTMLElement;\n  get container() {\n    return this._container;\n  }\n  set container(el: HTMLElement) {\n    this._container = el;\n    if (!this.parent) {\n      // The root container is the only one we register to the focus service, others do not need focus\n      this.focusService.registerContainer(el);\n      // For dropdowns, the menu shouldn't actually be in the tab order. We manually focus it when opening.\n      this.renderer.setAttribute(el, 'tabindex', '-1');\n      // When the user moves focus outside of the menu, we close the dropdown\n      this.renderer.listen(el, 'focusout', event => {\n        // focusout + relatedTarget because a simple blur event would trigger\n        // when the user clicks an item inside of the menu, closing the dropdown.\n        if (event.relatedTarget && isPlatformBrowser(this.platformId)) {\n          if (el.contains(event.relatedTarget) || event.relatedTarget === this.trigger) {\n            return;\n          }\n        }\n        // We let the user move focus to where the want, we don't force the focus back on the trigger\n        this.focusBackOnTrigger = false;\n        this.ifOpenService.open = false;\n      });\n    }\n  }\n\n  focus() {\n    if (this.trigger) {\n      if (this.parent) {\n        this.renderer.addClass(this.trigger, 'clr-focus');\n      } else if (isPlatformBrowser(this.platformId)) {\n        this.trigger.focus();\n      }\n    }\n  }\n  blur() {\n    if (this.trigger) {\n      if (this.parent) {\n        this.renderer.removeClass(this.trigger, 'clr-focus');\n      } else if (isPlatformBrowser(this.platformId)) {\n        this.trigger.blur();\n      }\n    }\n  }\n\n  activate() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.trigger.click();\n    }\n  }\n\n  private children: ReplaySubject<FocusableItem[]>;\n  right?: Observable<FocusableItem>;\n  down?: Observable<FocusableItem>;\n  up?: Observable<FocusableItem>;\n\n  private openAndGetChildren() {\n    return wrapObservable(this.children, () => (this.ifOpenService.open = true));\n  }\n  private closeAndGetThis() {\n    return wrapObservable(of(this), () => (this.ifOpenService.open = false));\n  }\n\n  resetChildren() {\n    this.children = new ReplaySubject<FocusableItem[]>(1);\n    if (this.parent) {\n      this.right = this.openAndGetChildren().pipe(map(all => all[0]));\n    } else {\n      this.down = this.openAndGetChildren().pipe(map(all => all[0]));\n      this.up = this.openAndGetChildren().pipe(map(all => all[all.length - 1]));\n    }\n  }\n\n  addChildren(children: FocusableItem[]) {\n    linkVertical(children);\n    if (this.parent) {\n      linkParent(children, this.closeAndGetThis(), ArrowKeyDirection.LEFT);\n    }\n    this.children.next(children);\n  }\n}\n\nexport const DROPDOWN_FOCUS_HANDLER_PROVIDER = customFocusableItemProvider(DropdownFocusHandler);\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Observable } from 'rxjs';\nimport { ArrowKeyDirection } from '../arrow-key-direction.enum';\nimport { FocusableItem } from './focusable-item';\n\n/**\n * Links a set of focusable items to a parent along one direction\n */\nexport function linkParent(\n  items: FocusableItem[],\n  parent: FocusableItem | Observable<FocusableItem>,\n  direction: ArrowKeyDirection\n) {\n  items.forEach(item => (item[direction] = parent));\n}\n\n/**\n * Double-links a set of focusable items vertically, possibly looping\n */\nexport function linkVertical(items: FocusableItem[], loop = true) {\n  items.forEach((item, index) => {\n    if (index > 0) {\n      item.up = items[index - 1];\n    }\n    if (index < items.length - 1) {\n      item.down = items[index + 1];\n    }\n  });\n  if (loop && items.length > 1) {\n    items[0].up = items[items.length - 1];\n    items[items.length - 1].down = items[0];\n  }\n}\n\n// Right now I only need the two linkers above, but we can easily add more linkers. A couple examples:\n// export function linkHorizontal(items: FocusableItem[], loop = true);\n// export function linkTable(items: FocusableItem[][]);\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, Optional, SkipSelf } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class RootDropdownService {\n  private _changes: Subject<boolean> = new Subject<boolean>();\n\n  get changes(): Observable<boolean> {\n    return this._changes.asObservable();\n  }\n\n  closeMenus(): void {\n    this._changes.next(false);\n  }\n}\n\nexport function clrRootDropdownFactory(existing: RootDropdownService) {\n  return existing || new RootDropdownService();\n}\n\nexport const ROOT_DROPDOWN_PROVIDER = {\n  provide: RootDropdownService,\n  useFactory: clrRootDropdownFactory,\n  deps: [[new Optional(), new SkipSelf(), RootDropdownService]],\n};\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Component, ElementRef, Input, OnDestroy, Optional, SkipSelf } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfOpenService } from '../../utils/conditional/if-open.service';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\nimport { DROPDOWN_FOCUS_HANDLER_PROVIDER } from './providers/dropdown-focus-handler.service';\nimport { FOCUS_SERVICE_PROVIDER } from '../../utils/focus/focus.service';\n\nimport { ROOT_DROPDOWN_PROVIDER, RootDropdownService } from './providers/dropdown.service';\n\n@Component({\n  selector: 'clr-dropdown',\n  template: '<ng-content></ng-content>',\n  host: {\n    '[class.dropdown]': 'true',\n    // the open class, also used in static version, is always present in the Angular version\n    // Angular takes care of hiding it, regardless of whether you use *clrIfOpen or not\n    '[class.open]': 'true',\n  },\n  providers: [\n    IfOpenService,\n    ROOT_DROPDOWN_PROVIDER,\n    { provide: POPOVER_HOST_ANCHOR, useExisting: ElementRef },\n    FOCUS_SERVICE_PROVIDER,\n    DROPDOWN_FOCUS_HANDLER_PROVIDER,\n  ],\n})\nexport class ClrDropdown implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    @SkipSelf()\n    @Optional()\n    public parent: ClrDropdown,\n    public ifOpenService: IfOpenService,\n    private cdr: ChangeDetectorRef,\n    dropdownService: RootDropdownService\n  ) {\n    this.subscriptions.push(dropdownService.changes.subscribe(value => (this.ifOpenService.open = value)));\n    this.subscriptions.push(ifOpenService.openChange.subscribe(value => this.cdr.markForCheck()));\n  }\n\n  @Input('clrCloseMenuOnItemClick') isMenuClosable: boolean = true;\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { isPlatformBrowser } from '@angular/common';\nimport { ElementRef, Inject, Injectable, PLATFORM_ID, Renderer2 } from '@angular/core';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../id-generator/id-generator.service';\nimport { FocusableItem } from './focusable-item';\n\n@Injectable()\nexport class BasicFocusableItem implements FocusableItem {\n  constructor(\n    @Inject(UNIQUE_ID) public id: string,\n    private el: ElementRef<HTMLElement>,\n    private renderer: Renderer2,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    renderer.setAttribute(el.nativeElement, 'id', id);\n    renderer.setAttribute(el.nativeElement, 'tabindex', '-1');\n  }\n\n  disabled = false;\n\n  focus() {\n    this.renderer.addClass(this.el.nativeElement, 'clr-focus');\n  }\n  blur() {\n    this.renderer.removeClass(this.el.nativeElement, 'clr-focus');\n  }\n\n  activate() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.el.nativeElement.click();\n    }\n  }\n}\n\nexport const BASIC_FOCUSABLE_ITEM_PROVIDER = [\n  UNIQUE_ID_PROVIDER,\n  {\n    provide: FocusableItem,\n    useClass: BasicFocusableItem,\n  },\n];\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Directive, ElementRef, Input, Renderer2 } from '@angular/core';\n\nimport { ClrDropdown } from './dropdown';\nimport { BASIC_FOCUSABLE_ITEM_PROVIDER } from '../../utils/focus/focusable-item/basic-focusable-item.service';\nimport { FocusableItem } from '../../utils/focus/focusable-item/focusable-item';\nimport { RootDropdownService } from './providers/dropdown.service';\n\n@Directive({\n  selector: '[clrDropdownItem]',\n  host: {\n    '[class.dropdown-item]': 'true',\n    '[attr.role]': '\"menuitem\"',\n  },\n  providers: [BASIC_FOCUSABLE_ITEM_PROVIDER],\n})\nexport class ClrDropdownItem implements AfterViewInit {\n  constructor(\n    private dropdown: ClrDropdown,\n    private el: ElementRef<HTMLElement>,\n    private _dropdownService: RootDropdownService,\n    private renderer: Renderer2,\n    private focusableItem: FocusableItem\n  ) {}\n\n  private unlisten;\n\n  @Input()\n  set disabled(value: boolean | string) {\n    // Empty string attribute evaluates to false but should disable the item, so we need to add a special case for it.\n    this.focusableItem.disabled = !!value || value === '';\n  }\n\n  ngAfterViewInit() {\n    this.unlisten = this.renderer.listen(this.el.nativeElement, 'click', () => this.onDropdownItemClick());\n  }\n\n  onDropdownItemClick(): void {\n    if (this.dropdown.isMenuClosable && !this.el.nativeElement.classList.contains('disabled')) {\n      this._dropdownService.closeMenus();\n    }\n  }\n\n  ngOnDestroy() {\n    this.unlisten();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  Inject,\n  Injector,\n  Input,\n  OnDestroy,\n  Optional,\n  QueryList,\n  SkipSelf,\n} from '@angular/core';\nimport { AbstractPopover } from '../common/abstract-popover';\nimport { Point } from '../common/popover';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\nimport { DropdownFocusHandler } from './providers/dropdown-focus-handler.service';\nimport { FocusableItem } from '../../utils/focus/focusable-item/focusable-item';\n\n@Component({\n  selector: 'clr-dropdown-menu',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.dropdown-menu]': 'true',\n    '[attr.role]': '\"menu\"',\n  },\n})\nexport class ClrDropdownMenu extends AbstractPopover implements AfterContentInit, OnDestroy {\n  constructor(\n    injector: Injector,\n    @Optional()\n    @Inject(POPOVER_HOST_ANCHOR)\n    parentHost: ElementRef<HTMLElement>,\n    @Optional()\n    @SkipSelf()\n    nested: ClrDropdownMenu,\n    focusHandler: DropdownFocusHandler\n  ) {\n    if (!parentHost) {\n      throw new Error('clr-dropdown-menu should only be used inside of a clr-dropdown');\n    }\n    super(injector, parentHost);\n    if (!nested) {\n      // Default positioning for normal dropdown is bottom-left\n      this.anchorPoint = Point.BOTTOM_LEFT;\n      this.popoverPoint = Point.LEFT_TOP;\n    } else {\n      // Default positioning for nested dropdown is right-top\n      this.anchorPoint = Point.RIGHT_TOP;\n      this.popoverPoint = Point.LEFT_TOP;\n    }\n    this.popoverOptions.allowMultipleOpen = true;\n    this.closeOnOutsideClick = true;\n    this.focusHandler = focusHandler;\n  }\n\n  @Input('clrPosition')\n  set position(position: string) {\n    // set the popover values based on menu position\n    switch (position) {\n      case 'top-right':\n        this.anchorPoint = Point.TOP_RIGHT;\n        this.popoverPoint = Point.RIGHT_BOTTOM;\n        break;\n      case 'top-left':\n        this.anchorPoint = Point.TOP_LEFT;\n        this.popoverPoint = Point.LEFT_BOTTOM;\n        break;\n      case 'bottom-right':\n        this.anchorPoint = Point.BOTTOM_RIGHT;\n        this.popoverPoint = Point.RIGHT_TOP;\n        break;\n      case 'bottom-left':\n        this.anchorPoint = Point.BOTTOM_LEFT;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n      case 'right-top':\n        this.anchorPoint = Point.RIGHT_TOP;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n      case 'right-bottom':\n        this.anchorPoint = Point.RIGHT_BOTTOM;\n        this.popoverPoint = Point.LEFT_BOTTOM;\n        break;\n      case 'left-top':\n        this.anchorPoint = Point.LEFT_TOP;\n        this.popoverPoint = Point.RIGHT_TOP;\n        break;\n      case 'left-bottom':\n        this.anchorPoint = Point.LEFT_BOTTOM;\n        this.popoverPoint = Point.RIGHT_BOTTOM;\n        break;\n      default:\n        this.anchorPoint = Point.BOTTOM_LEFT;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n    }\n  }\n\n  private focusHandler: DropdownFocusHandler;\n  @ContentChildren(FocusableItem) items: QueryList<FocusableItem>;\n\n  ngAfterContentInit() {\n    this.focusHandler.container = this.el.nativeElement;\n    this.items.changes.subscribe(() => this.focusHandler.addChildren(this.items.toArray()));\n    // I saw this on GitHub as a solution to avoid code duplication because of missed QueryList changes\n    this.items.notifyOnChanges();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    this.focusHandler.resetChildren();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, HostListener } from '@angular/core';\n\nimport { IfOpenService } from '../../utils/conditional/if-open.service';\n\nimport { ClrDropdown } from './dropdown';\nimport { DropdownFocusHandler } from './providers/dropdown-focus-handler.service';\n\n@Directive({\n  // We support both selectors for legacy reasons\n  selector: '[clrDropdownTrigger],[clrDropdownToggle]',\n  host: {\n    '[class.dropdown-toggle]': 'isRootLevelToggle',\n    '[class.dropdown-item]': '!isRootLevelToggle',\n    '[class.expandable]': '!isRootLevelToggle',\n    '[class.active]': 'active',\n    '[attr.aria-haspopup]': '\"menu\"',\n    '[attr.aria-expanded]': 'ifOpenService.open',\n  },\n})\nexport class ClrDropdownTrigger {\n  public isRootLevelToggle: boolean = true;\n\n  constructor(\n    dropdown: ClrDropdown,\n    private ifOpenService: IfOpenService,\n    el: ElementRef<HTMLElement>,\n    focusHandler: DropdownFocusHandler\n  ) {\n    // if the containing dropdown has a parent, then this is not the root level one\n    if (dropdown.parent) {\n      this.isRootLevelToggle = false;\n    }\n    focusHandler.trigger = el.nativeElement;\n  }\n\n  get active(): boolean {\n    return this.ifOpenService.open;\n  }\n\n  @HostListener('click', ['$event'])\n  onDropdownTriggerClick(event: any): void {\n    this.ifOpenService.toggleWithEvent(event);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\nimport { ClrCommonPopoverModule } from '../common/popover.module';\n\nimport { ClrDropdown } from './dropdown';\nimport { ClrDropdownItem } from './dropdown-item';\nimport { ClrDropdownMenu } from './dropdown-menu';\nimport { ClrDropdownTrigger } from './dropdown-trigger';\n\nexport const CLR_DROPDOWN_DIRECTIVES: Type<any>[] = [ClrDropdown, ClrDropdownMenu, ClrDropdownTrigger, ClrDropdownItem];\n\n@NgModule({\n  imports: [CommonModule, ClrCommonPopoverModule],\n  declarations: [CLR_DROPDOWN_DIRECTIVES],\n  exports: [CLR_DROPDOWN_DIRECTIVES, ClrConditionalModule, ClrIconModule],\n})\nexport class ClrDropdownModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n// @TODO Make this an enum\nexport const ALERT_TYPES: string[] = ['info', 'warning', 'danger', 'success'];\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\nimport { AlertInfoObject } from '../utils/alert-info-object';\nimport { ALERT_TYPES } from '../utils/alert-types';\nimport { ClrCommonStrings } from '../../../utils/i18n/common-strings.interface';\n\n@Injectable()\nexport class AlertIconAndTypesService {\n  constructor(private commonStrings: ClrCommonStrings) {}\n\n  private defaultIconShape = 'info-circle';\n  private _alertIconShape = '';\n  private _alertType = 'info';\n\n  get alertType(): string {\n    return this._alertType;\n  }\n  set alertType(val: string) {\n    if (ALERT_TYPES.indexOf(val) > -1) {\n      this._alertType = val;\n    }\n  }\n\n  get alertIconShape(): string {\n    if ('' === this._alertIconShape) {\n      return this.iconInfoFromType(this._alertType).shape;\n    }\n    return this._alertIconShape;\n  }\n  set alertIconShape(val: string) {\n    if (!val) {\n      this._alertIconShape = '';\n    } else if (val !== this._alertIconShape) {\n      this._alertIconShape = val;\n    }\n  }\n\n  get alertIconTitle(): string {\n    return this.iconInfoFromType(this._alertType).title;\n  }\n\n  public iconInfoFromType(type: string): AlertInfoObject {\n    const returnObj = { shape: '', cssClass: '', title: '' };\n\n    switch (type) {\n      case 'warning':\n        returnObj.shape = 'exclamation-triangle';\n        returnObj.cssClass = 'alert-warning';\n        returnObj.title = this.commonStrings.warning;\n        break;\n      case 'danger':\n        returnObj.shape = 'exclamation-circle';\n        returnObj.cssClass = 'alert-danger';\n        returnObj.title = this.commonStrings.danger;\n        break;\n      case 'success':\n        returnObj.shape = 'check-circle';\n        returnObj.cssClass = 'alert-success';\n        returnObj.title = this.commonStrings.success;\n        break;\n      default:\n        returnObj.shape = this.defaultIconShape;\n        returnObj.cssClass = 'alert-info';\n        returnObj.title = this.commonStrings.info;\n        break;\n    }\n\n    return returnObj;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, QueryList } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nimport { ClrAlert } from '../alert';\n\n@Injectable()\nexport class MultiAlertService {\n  private allAlerts: QueryList<ClrAlert> = new QueryList<ClrAlert>();\n  private subscription: Subscription;\n  private _current = 0;\n\n  /**\n   * The Observable that lets other classes subscribe to changes\n   */\n  private _change = new Subject<number>();\n  public get changes(): Observable<number> {\n    return this._change.asObservable();\n  }\n\n  get current() {\n    return this._current;\n  }\n  set current(index: number) {\n    if (index !== this._current) {\n      this._current = index;\n      this._change.next(index);\n    }\n  }\n\n  get activeAlerts() {\n    return this.allAlerts.filter(alert => !alert._closed);\n  }\n\n  get currentAlert() {\n    return this.activeAlerts[this.current];\n  }\n\n  set currentAlert(alert: ClrAlert) {\n    this.current = this.activeAlerts.indexOf(alert);\n  }\n\n  get count() {\n    return this.activeAlerts.length;\n  }\n\n  manage(alerts: QueryList<ClrAlert>) {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n    this.allAlerts = alerts;\n    this.subscription = this.allAlerts.changes.subscribe(() => {\n      if (this.current >= this.allAlerts.length) {\n        this.current = Math.max(0, this.allAlerts.length - 1);\n      }\n    });\n  }\n\n  next() {\n    this.current = this.current === this.activeAlerts.length - 1 ? 0 : this.current + 1;\n  }\n\n  previous() {\n    if (this.activeAlerts.length === 0) {\n      return;\n    }\n    this.current = this.current === 0 ? this.activeAlerts.length - 1 : this.current - 1;\n  }\n\n  close() {\n    this.previous();\n  }\n\n  destroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Component, EventEmitter, Input, Optional, Output } from '@angular/core';\n\n// providers\nimport { AlertIconAndTypesService } from './providers/icon-and-types.service';\nimport { MultiAlertService } from './providers/multi-alert.service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n@Component({\n  selector: 'clr-alert',\n  providers: [AlertIconAndTypesService],\n  templateUrl: './alert.html',\n  styles: [':host { display: block; }'],\n})\nexport class ClrAlert {\n  constructor(\n    public iconService: AlertIconAndTypesService,\n    public cdr: ChangeDetectorRef,\n    @Optional() public multiAlertService: MultiAlertService,\n    public commonStrings: ClrCommonStrings\n  ) {}\n\n  @Input('clrAlertSizeSmall') isSmall: boolean = false;\n  @Input('clrAlertClosable') closable: boolean = true;\n  @Input('clrAlertAppLevel') isAppLevel: boolean = false;\n\n  @Input('clrAlertClosed') _closed: boolean = false;\n  @Output('clrAlertClosedChange') _closedChanged: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  @Input('clrAlertType')\n  set alertType(val: string) {\n    this.iconService.alertType = val;\n  }\n  get alertType(): string {\n    return this.iconService.alertType;\n  }\n\n  @Input('clrAlertIcon')\n  set alertIconShape(value: string) {\n    this.iconService.alertIconShape = value;\n  }\n\n  get alertClass(): string {\n    return this.iconService.iconInfoFromType(this.iconService.alertType).cssClass;\n  }\n\n  private previouslyHidden = false;\n  private hidden = false;\n\n  private detectChangesIfNeeded() {\n    if (this.previouslyHidden !== this.hidden) {\n      this.previouslyHidden = this.hidden;\n      this.cdr.detectChanges();\n    }\n  }\n\n  get isHidden() {\n    if (this.multiAlertService) {\n      // change detection issue in production mode causes currentAlert to be undefined when only the first alert exists\n      // https://github.com/vmware/clarity/issues/2430\n      if (this.multiAlertService.currentAlert === this || this.multiAlertService.count === 0) {\n        if (this.hidden === true) {\n          this.previouslyHidden = true;\n          this.hidden = false;\n        }\n      } else if (this.hidden === false) {\n        this.previouslyHidden = false;\n        this.hidden = true;\n      }\n      this.detectChangesIfNeeded();\n    }\n\n    return this.hidden;\n  }\n\n  close(): void {\n    if (!this.closable) {\n      return;\n    }\n    this._closed = true;\n    if (this.multiAlertService) {\n      this.multiAlertService.close();\n    }\n    this._closedChanged.emit(true);\n  }\n\n  open(): void {\n    this._closed = false;\n    this._closedChanged.emit(false);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\nimport { AlertIconAndTypesService } from './providers/icon-and-types.service';\n\n@Component({\n  selector: 'clr-alert-item',\n  template: `\n        <div class=\"alert-icon-wrapper\">\n            <clr-icon class=\"alert-icon\" \n              [attr.shape]=\"iconService.alertIconShape\" \n              [attr.title]=\"iconService.alertIconTitle\"></clr-icon>\n        </div>\n        <ng-content></ng-content>\n    `,\n  host: { class: 'alert-item' },\n})\nexport class ClrAlertItem {\n  constructor(public iconService: AlertIconAndTypesService) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  QueryList,\n} from '@angular/core';\nimport { ClrAlert } from './alert';\nimport { MultiAlertService } from './providers/multi-alert.service';\n\n@Component({\n  selector: 'clr-alerts',\n  templateUrl: './alerts.html',\n  providers: [MultiAlertService],\n  host: {\n    '[class.alerts]': 'true',\n    '[class.alert-danger]': \"this.currentAlertType == 'danger'\",\n    '[class.alert-info]': \"this.currentAlertType == 'info'\",\n    '[class.alert-success]': \"this.currentAlertType == 'success'\",\n    '[class.alert-warning]': \"this.currentAlertType == 'warning'\",\n  },\n  styles: [':host { display: block }'],\n})\nexport class ClrAlerts implements AfterContentInit, OnDestroy {\n  @ContentChildren(ClrAlert) allAlerts: QueryList<ClrAlert>;\n\n  /**\n   * Input/Output to support two way binding on current alert index\n   */\n  @Input('clrCurrentAlertIndex')\n  public set _inputCurrentIndex(index: number) {\n    if (Number.isInteger(index) && index >= 0) {\n      this.multiAlertService.current = index;\n    }\n  }\n\n  @Output('clrCurrentAlertIndexChange') public currentAlertIndexChange = new EventEmitter<number>(false);\n\n  set currentAlertIndex(index: number) {\n    this.multiAlertService.current = index;\n  }\n  get currentAlertIndex() {\n    return this.multiAlertService.current;\n  }\n\n  /**\n   * Input/Output to support two way binding on current alert instance\n   */\n  @Input('clrCurrentAlert')\n  set currentAlert(alert: ClrAlert) {\n    if (alert) {\n      this.multiAlertService.currentAlert = alert;\n    }\n  }\n  get currentAlert() {\n    return this.multiAlertService.currentAlert;\n  }\n  @Output('clrCurrentAlertChange') public currentAlertChange = new EventEmitter<ClrAlert>(false);\n\n  /**\n   * Ensure we are only dealing with alerts that have not been closed yet\n   */\n  get alerts() {\n    return this.allAlerts.filter(alert => {\n      return alert.isHidden === false;\n    });\n  }\n\n  get currentAlertType(): string {\n    if (this.multiAlertService.currentAlert) {\n      return this.multiAlertService.currentAlert.alertType;\n    }\n    return '';\n  }\n\n  constructor(public multiAlertService: MultiAlertService) {}\n\n  ngAfterContentInit() {\n    this.multiAlertService.manage(this.allAlerts);\n    this.multiAlertService.changes.subscribe(index => {\n      this.currentAlertIndexChange.next(index);\n      this.currentAlertChange.next(this.multiAlertService.currentAlert);\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.multiAlertService.destroy();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ClrAlert } from './alert';\nimport { MultiAlertService } from './providers/multi-alert.service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n@Component({\n  selector: 'clr-alerts-pager',\n  templateUrl: './alerts-pager.html',\n  host: { '[class.alerts-pager]': 'true' },\n})\nexport class ClrAlertsPager implements OnInit, OnDestroy {\n  private multiAlertServiceChanges: Subscription;\n\n  /**\n   * Input/Output to support two way binding on current alert instance\n   */\n  @Input('clrCurrentAlert')\n  set currentAlert(alert: ClrAlert) {\n    if (alert) {\n      this.multiAlertService.currentAlert = alert;\n    }\n  }\n  get currentAlert() {\n    return this.multiAlertService.currentAlert;\n  }\n\n  @Output('clrCurrentAlertChange') currentAlertChange = new EventEmitter<ClrAlert>(false);\n\n  /**\n   * Input/Output to support two way binding on current alert index\n   */\n  @Input('clrCurrentAlertIndex')\n  set currentAlertIndex(index: number) {\n    this.multiAlertService.current = index;\n  }\n  get currentAlertIndex() {\n    return this.multiAlertService.current;\n  }\n\n  @Output('clrCurrentAlertIndexChange') currentAlertIndexChange = new EventEmitter<number>();\n\n  constructor(public multiAlertService: MultiAlertService, public commonStrings: ClrCommonStrings) {}\n\n  ngOnInit() {\n    this.multiAlertServiceChanges = this.multiAlertService.changes.subscribe(index => {\n      this.currentAlertIndexChange.emit(index);\n      this.currentAlertChange.emit(this.multiAlertService.activeAlerts[index]);\n    });\n  }\n\n  pageUp() {\n    this.multiAlertService.next();\n  }\n\n  pageDown() {\n    this.multiAlertService.previous();\n  }\n\n  ngOnDestroy() {\n    this.multiAlertServiceChanges.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrDropdownModule } from '../../popover/dropdown/dropdown.module';\n\nimport { ClrAlert } from './alert';\nimport { ClrAlertItem } from './alert-item';\nimport { ClrAlerts } from './alerts';\nimport { ClrAlertsPager } from './alerts-pager';\n\nexport const CLR_ALERT_DIRECTIVES: Type<any>[] = [ClrAlert, ClrAlertItem, ClrAlerts, ClrAlertsPager];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrDropdownModule],\n  declarations: [CLR_ALERT_DIRECTIVES],\n  exports: [CLR_ALERT_DIRECTIVES],\n})\nexport class ClrAlertModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { NgModule } from '@angular/core';\nimport { ClrAlertModule } from './alert/alert.module';\n\n@NgModule({ exports: [ClrAlertModule] })\nexport class ClrEmphasisModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport class ResponsiveNavCodes {\n  public static NAV_LEVEL_1: number = 1;\n  public static NAV_LEVEL_2: number = 2;\n  public static NAV_CLOSE_ALL: string = 'NAV_CLOSE_ALL';\n  public static NAV_OPEN: string = 'NAV_OPEN';\n  public static NAV_CLOSE: string = 'NAV_CLOSE';\n  public static NAV_TOGGLE: string = 'NAV_TOGGLE';\n  public static NAV_CLASS_HAMBURGER_MENU: string = 'open-hamburger-menu';\n  public static NAV_CLASS_OVERFLOW_MENU: string = 'open-overflow-menu';\n  public static NAV_CLASS_TRIGGER_1: string = 'header-hamburger-trigger';\n  public static NAV_CLASS_TRIGGER_2: string = 'header-overflow-trigger';\n  public static NAV_CLASS_LEVEL_1: string = 'clr-nav-level-1';\n  public static NAV_CLASS_LEVEL_2: string = 'clr-nav-level-2';\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport class ResponsiveNavControlMessage {\n  constructor(private _controlCode: string, private _navLevel: number) {}\n\n  get controlCode(): string {\n    return this._controlCode;\n  }\n\n  get navLevel(): number {\n    return this._navLevel;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ReplaySubject, Subject } from 'rxjs';\n\nimport { ResponsiveNavCodes } from '../responsive-nav-codes';\nimport { ResponsiveNavControlMessage } from '../responsive-nav-control-message';\n\n@Injectable({ providedIn: 'root' })\nexport class ResponsiveNavigationService {\n  public responsiveNavList: number[] = [];\n  private registerNavSubject = new ReplaySubject<number[]>();\n  private controlNavSubject = new Subject<ResponsiveNavControlMessage>();\n\n  get registeredNavs(): Observable<number[]> {\n    return this.registerNavSubject.asObservable();\n  }\n\n  get navControl(): Observable<ResponsiveNavControlMessage> {\n    return this.controlNavSubject.asObservable();\n  }\n\n  constructor() {\n    this.closeAllNavs(); // We start with all navs closed\n  }\n\n  registerNav(navLevel: number): void {\n    if (!navLevel || this.isNavRegistered(navLevel)) {\n      return;\n    }\n    this.responsiveNavList.push(navLevel);\n    this.registerNavSubject.next(this.responsiveNavList);\n  }\n\n  isNavRegistered(navLevel: number): boolean {\n    if (this.responsiveNavList.indexOf(navLevel) > -1) {\n      console.error('Multiple clr-nav-level ' + navLevel + ' attributes found. Please make sure that only one exists');\n      return true;\n    }\n    return false;\n  }\n\n  unregisterNav(navLevel: number) {\n    const index = this.responsiveNavList.indexOf(navLevel);\n    if (index > -1) {\n      this.responsiveNavList.splice(index, 1);\n      this.registerNavSubject.next(this.responsiveNavList);\n    }\n  }\n\n  sendControlMessage(controlCode: string, navLevel: number) {\n    const message: ResponsiveNavControlMessage = new ResponsiveNavControlMessage(controlCode, navLevel);\n    this.controlNavSubject.next(message);\n  }\n\n  closeAllNavs() {\n    const message: ResponsiveNavControlMessage = new ResponsiveNavControlMessage(\n      ResponsiveNavCodes.NAV_CLOSE_ALL,\n      -999\n    );\n    this.controlNavSubject.next(message);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ResponsiveNavigationService } from '../nav/providers/responsive-navigation.service';\nimport { ResponsiveNavCodes } from '../nav/responsive-nav-codes';\nimport { ResponsiveNavControlMessage } from '../nav/responsive-nav-control-message';\n\n@Directive({ selector: 'clr-main-container', host: { '[class.main-container]': 'true' } })\nexport class ClrMainContainer implements OnDestroy, OnInit {\n  private _subscription: Subscription;\n  private _classList: DOMTokenList;\n\n  constructor(private elRef: ElementRef, private responsiveNavService: ResponsiveNavigationService) {}\n\n  ngOnInit() {\n    this._classList = this.elRef.nativeElement.classList;\n    this._subscription = this.responsiveNavService.navControl.subscribe({\n      next: (message: ResponsiveNavControlMessage) => {\n        this.processMessage(message);\n      },\n    });\n  }\n\n  processMessage(message: ResponsiveNavControlMessage): void {\n    let navClass: string = ResponsiveNavCodes.NAV_CLASS_HAMBURGER_MENU;\n    if (message.controlCode === ResponsiveNavCodes.NAV_CLOSE_ALL) {\n      this._classList.remove(ResponsiveNavCodes.NAV_CLASS_HAMBURGER_MENU);\n      this._classList.remove(ResponsiveNavCodes.NAV_CLASS_OVERFLOW_MENU);\n    } else if (message.navLevel === ResponsiveNavCodes.NAV_LEVEL_1) {\n      this.controlNav(message.controlCode, navClass);\n    } else if (message.navLevel === ResponsiveNavCodes.NAV_LEVEL_2) {\n      navClass = ResponsiveNavCodes.NAV_CLASS_OVERFLOW_MENU;\n      this.controlNav(message.controlCode, navClass);\n    }\n  }\n\n  controlNav(controlCode: string, navClass: string): void {\n    if (controlCode === ResponsiveNavCodes.NAV_OPEN) {\n      this._classList.add(navClass);\n    } else if (controlCode === ResponsiveNavCodes.NAV_CLOSE) {\n      this._classList.remove(navClass);\n    } else if (controlCode === ResponsiveNavCodes.NAV_TOGGLE) {\n      this._classList.toggle(navClass);\n    }\n  }\n\n  ngOnDestroy() {\n    this._subscription.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrMainContainer } from './main-container';\n\nexport const CLR_LAYOUT_DIRECTIVES: Type<any>[] = [ClrMainContainer];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule],\n  declarations: [CLR_LAYOUT_DIRECTIVES],\n  exports: [CLR_LAYOUT_DIRECTIVES],\n})\nexport class ClrMainContainerModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive } from '@angular/core';\nimport { WillyWonka } from '../../../utils/chocolate/willy-wonka';\n\n@Directive({ selector: 'clr-main-container' })\nexport class MainContainerWillyWonka extends WillyWonka {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Directive, Optional } from '@angular/core';\nimport { OompaLoompa } from '../../../utils/chocolate/oompa-loompa';\nimport { ResponsiveNavigationService } from '../providers/responsive-navigation.service';\nimport { MainContainerWillyWonka } from './main-container-willy-wonka';\n\n@Directive({ selector: 'clr-header' })\nexport class NavDetectionOompaLoompa extends OompaLoompa {\n  private responsiveNavService: ResponsiveNavigationService;\n\n  constructor(\n    cdr: ChangeDetectorRef,\n    @Optional() willyWonka: MainContainerWillyWonka,\n    responsiveNavService: ResponsiveNavigationService\n  ) {\n    if (!willyWonka) {\n      throw new Error('clr-header should only be used inside of a clr-main-container');\n    }\n    super(cdr, willyWonka);\n    this.responsiveNavService = responsiveNavService;\n  }\n\n  // NavDetectionOompaLoompa is the addition of the nav levels\n  // Since we support 2 levels, the possibilities are 0, 1 or 3 (1 + 2)\n  get flavor() {\n    return this.responsiveNavService.responsiveNavList.reduce((sum, navLevel) => sum + navLevel, 0);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ResponsiveNavigationService } from './providers/responsive-navigation.service';\nimport { ResponsiveNavCodes } from './responsive-nav-codes';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n@Component({\n  selector: 'clr-header',\n  template: `\n        <button\n            type=\"button\"\n            *ngIf=\"isNavLevel1OnPage\"\n            class=\"header-hamburger-trigger\"\n            [attr.aria-label]=\"(openNavLevel !== responsiveNavCodes.NAV_LEVEL_1) ? commonStrings.open : commonStrings.close\"\n            (click)=\"toggleNav(responsiveNavCodes.NAV_LEVEL_1)\">\n            <span></span>\n        </button>\n        <ng-content></ng-content>\n        <button\n            type=\"button\"\n            *ngIf=\"isNavLevel2OnPage\"\n            class=\"header-overflow-trigger\"\n            [attr.aria-label]=\"(openNavLevel !== responsiveNavCodes.NAV_LEVEL_2) ? commonStrings.open : commonStrings.close\"\n            (click)=\"toggleNav(responsiveNavCodes.NAV_LEVEL_2)\">\n            <span></span>\n        </button>\n        <div class=\"header-backdrop\" (click)=\"closeOpenNav()\"></div>\n    `,\n  host: { '[class.header]': 'true' },\n})\nexport class ClrHeader implements OnDestroy {\n  isNavLevel1OnPage = false;\n  isNavLevel2OnPage = false;\n  openNavLevel: number = null;\n  responsiveNavCodes = ResponsiveNavCodes;\n  private _subscription: Subscription;\n\n  constructor(private responsiveNavService: ResponsiveNavigationService, public commonStrings: ClrCommonStrings) {\n    this._subscription = this.responsiveNavService.registeredNavs.subscribe({\n      next: (navLevelList: number[]) => {\n        this.initializeNavTriggers(navLevelList);\n      },\n    });\n  }\n\n  // reset triggers. handles cases when an application has different nav levels on different pages.\n  resetNavTriggers() {\n    this.isNavLevel1OnPage = false;\n    this.isNavLevel2OnPage = false;\n  }\n\n  // decides which triggers to show on the header\n  initializeNavTriggers(navList: number[]): void {\n    this.resetNavTriggers();\n    if (navList.length > 2) {\n      console.error('More than 2 Nav Levels detected.');\n      return;\n    }\n    navList.forEach(navLevel => {\n      if (navLevel === ResponsiveNavCodes.NAV_LEVEL_1) {\n        this.isNavLevel1OnPage = true;\n      } else if (navLevel === ResponsiveNavCodes.NAV_LEVEL_2) {\n        this.isNavLevel2OnPage = true;\n      }\n    });\n  }\n\n  // closes the nav that is open\n  closeOpenNav() {\n    this.responsiveNavService.closeAllNavs();\n  }\n\n  // toggles the nav that is open\n  toggleNav(navLevel: number) {\n    this.openNavLevel = this.openNavLevel === navLevel ? null : navLevel;\n    this.responsiveNavService.sendControlMessage(ResponsiveNavCodes.NAV_TOGGLE, navLevel);\n  }\n\n  ngOnDestroy() {\n    this._subscription.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, HostListener, Input, OnInit } from '@angular/core';\n\nimport { ResponsiveNavigationService } from './providers/responsive-navigation.service';\nimport { ResponsiveNavCodes } from './responsive-nav-codes';\n\n@Directive({ selector: '[clr-nav-level]' })\nexport class ClrNavLevel implements OnInit {\n  @Input('clr-nav-level') _level: number;\n\n  constructor(private responsiveNavService: ResponsiveNavigationService, private elementRef: ElementRef) {}\n\n  ngOnInit() {\n    if (this.level !== ResponsiveNavCodes.NAV_LEVEL_1 && this.level !== ResponsiveNavCodes.NAV_LEVEL_2) {\n      console.error('Nav Level can only be 1 or 2');\n      return;\n    }\n    this.responsiveNavService.registerNav(this.level);\n    this.addNavClass(this.level);\n  }\n\n  addNavClass(level: number) {\n    const navHostClassList = this.elementRef.nativeElement.classList;\n    if (level === ResponsiveNavCodes.NAV_LEVEL_1) {\n      navHostClassList.add(ResponsiveNavCodes.NAV_CLASS_LEVEL_1);\n    } else if (level === ResponsiveNavCodes.NAV_LEVEL_2) {\n      navHostClassList.add(ResponsiveNavCodes.NAV_CLASS_LEVEL_2);\n    }\n  }\n\n  get level(): number {\n    return this._level;\n  }\n\n  // getter to access the responsive navigation codes from the template\n  get responsiveNavCodes(): ResponsiveNavCodes {\n    return ResponsiveNavCodes;\n  }\n\n  open(): void {\n    this.responsiveNavService.sendControlMessage(ResponsiveNavCodes.NAV_OPEN, this.level);\n  }\n\n  close(): void {\n    this.responsiveNavService.sendControlMessage(ResponsiveNavCodes.NAV_CLOSE, this.level);\n  }\n\n  // TODO: Figure out whats the best way to do this. Possible methods\n  // 1. HostListener (current solution)\n  // 2. Directives on the .nav-link class. We discussed on moving away from class selectors but I forget the reason\n  // why\n  @HostListener('click', ['$event.target'])\n  onMouseClick(target: any) {\n    let current: any = target; // Get the element in the DOM on which the mouse was clicked\n    const navHost: any = this.elementRef.nativeElement; // Get the current nav native HTML element\n\n    // Start checking if current and navHost are equal.\n    // If not traverse to the parentNode and check again.\n    while (current) {\n      if (current === navHost) {\n        return;\n      } else if (current.classList.contains('nav-link')) {\n        this.close();\n        return;\n      }\n      current = current.parentNode;\n    }\n  }\n\n  ngOnDestroy() {\n    this.responsiveNavService.unregisterNav(this.level);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrDropdownModule } from '../../popover/dropdown/dropdown.module';\n\nimport { MainContainerWillyWonka } from './chocolate/main-container-willy-wonka';\nimport { NavDetectionOompaLoompa } from './chocolate/nav-detection-oompa-loompa';\nimport { ClrHeader } from './header';\nimport { ClrNavLevel } from './nav-level';\n\nexport const CLR_NAVIGATION_DIRECTIVES: Type<any>[] = [\n  ClrHeader,\n  ClrNavLevel,\n  NavDetectionOompaLoompa,\n  MainContainerWillyWonka,\n];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrDropdownModule],\n  declarations: [CLR_NAVIGATION_DIRECTIVES],\n  exports: [CLR_NAVIGATION_DIRECTIVES],\n})\nexport class ClrNavigationModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, TemplateRef, ViewChild } from '@angular/core';\n\n@Component({\n  template: `\n      <ng-template>\n        <ng-content></ng-content>\n      </ng-template>\n    `,\n})\nexport class TemplateRefContainer {\n  @ViewChild(TemplateRef, { static: false })\n  template: TemplateRef<any>;\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Type } from '@angular/core';\nimport { TemplateRefContainer } from './template-ref-container';\n\nexport * from './template-ref-container';\n\nexport const TEMPLATE_REF_DIRECTIVES: Type<any>[] = [TemplateRefContainer];\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { TEMPLATE_REF_DIRECTIVES } from './index';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [TEMPLATE_REF_DIRECTIVES],\n  entryComponents: [TEMPLATE_REF_DIRECTIVES],\n  exports: [TEMPLATE_REF_DIRECTIVES],\n})\nexport class ClrTemplateRefModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive } from '@angular/core';\nimport { WillyWonka } from '../../../utils/chocolate/willy-wonka';\n\n@Directive({ selector: 'clr-tabs' })\nexport class TabsWillyWonka extends WillyWonka {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Directive, Inject, Optional } from '@angular/core';\n\nimport { OompaLoompa } from '../../../utils/chocolate/oompa-loompa';\nimport { IF_ACTIVE_ID, IfActiveService } from '../../../utils/conditional/if-active.service';\n\nimport { TabsWillyWonka } from './tabs-willy-wonka';\n\n@Directive({ selector: '[clrTabLink], clr-tab-content' })\nexport class ActiveOompaLoompa extends OompaLoompa {\n  private ifActive: IfActiveService;\n  private id: number;\n\n  constructor(\n    cdr: ChangeDetectorRef,\n    @Optional() willyWonka: TabsWillyWonka,\n    @Inject(IF_ACTIVE_ID) id: number,\n    ifActive: IfActiveService\n  ) {\n    if (!willyWonka) {\n      throw new Error('clrTabLink and clr-tab-content should only be used inside of a clr-tabs');\n    }\n    super(cdr, willyWonka);\n    this.ifActive = ifActive;\n    this.id = id;\n  }\n\n  get flavor() {\n    return this.ifActive.current === this.id;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\n\n// TODO: if we find more components that could use this, consider moving this to utils\n@Injectable()\nexport class AriaService {\n  public ariaLabelledBy: string;\n  public ariaControls: string;\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum TabsLayout {\n  HORIZONTAL = 'horizontal',\n  VERTICAL = 'vertical',\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, ViewContainerRef } from '@angular/core';\nimport { ClrTab } from '../tab';\nimport { TabsLayout } from '../enums/tabs-layout.enum';\n\n@Injectable()\nexport class TabsService {\n  private _children: ClrTab[] = [];\n\n  layout: TabsLayout = TabsLayout.HORIZONTAL;\n\n  register(tab: ClrTab) {\n    this._children.push(tab);\n  }\n\n  get children() {\n    return this._children;\n  }\n\n  get activeTab() {\n    return this.children.find((tab: ClrTab) => {\n      return tab.active;\n    });\n  }\n\n  get overflowTabs() {\n    if (this.layout === TabsLayout.VERTICAL) {\n      return [];\n    } else {\n      return this.children.filter((tab: ClrTab) => tab.tabLink.inOverflow === true);\n    }\n  }\n\n  unregister(tab: ClrTab) {\n    const index = this.children.indexOf(tab);\n    if (index > -1) {\n      this.children.splice(index, 1);\n    }\n  }\n\n  tabContentViewContainer: ViewContainerRef;\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EmbeddedViewRef, Inject, Input, OnDestroy, TemplateRef, ViewChild } from '@angular/core';\nimport { IF_ACTIVE_ID, IfActiveService } from '../../utils/conditional/if-active.service';\nimport { AriaService } from './providers/aria.service';\nimport { TabsService } from './providers/tabs.service';\n\nlet nbTabContentComponents: number = 0;\n\n@Component({\n  selector: 'clr-tab-content',\n  template: `\n    <ng-template #tabContentProjectedRef>\n      <section [id]=\"tabContentId\" role=\"tabpanel\" class=\"tab-content\" [class.active]=\"active\"\n               [hidden]=\"!active\"\n               [attr.aria-labelledby]=\"ariaLabelledBy\"\n               [attr.aria-expanded]=\"active\"\n               [attr.aria-hidden]=\"!active\">\n        <ng-content></ng-content>\n      </section>\n    </ng-template>\n    `,\n})\nexport class ClrTabContent implements OnDestroy {\n  constructor(\n    public ifActiveService: IfActiveService,\n    @Inject(IF_ACTIVE_ID) public id: number,\n    private ariaService: AriaService,\n    private tabsService: TabsService\n  ) {\n    if (!this.tabContentId) {\n      this.tabContentId = 'clr-tab-content-' + nbTabContentComponents++;\n    }\n  }\n\n  private viewRef: EmbeddedViewRef<ClrTabContent>;\n\n  // The template must be applied on the top-down phase of view-child initialization to prevent\n  // components in the content from initializing before a content container exists.\n  // Some child components need their container for sizing calculations.\n  /* tslint:disable:no-unused-variable */\n  @ViewChild('tabContentProjectedRef', { static: true })\n  private set templateRef(value: TemplateRef<ClrTabContent>) {\n    this.viewRef = this.tabsService.tabContentViewContainer.createEmbeddedView(value);\n  }\n  /* tslint:enable:no-unused-variable */\n\n  get ariaLabelledBy(): string {\n    return this.ariaService.ariaLabelledBy;\n  }\n\n  get tabContentId(): string {\n    return this.ariaService.ariaControls;\n  }\n\n  @Input('id')\n  set tabContentId(id: string) {\n    this.ariaService.ariaControls = id;\n  }\n\n  get active() {\n    return this.ifActiveService.current === this.id;\n  }\n\n  ngOnDestroy(): void {\n    const index = this.tabsService.tabContentViewContainer.indexOf(this.viewRef);\n    if (index > -1) {\n      this.tabsService.tabContentViewContainer.remove(index);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { InjectionToken } from '@angular/core';\n\nlet nbTabsComponent = 0;\n\nexport const TABS_ID = new InjectionToken<number>('TABS_ID');\n\nexport function tokenFactory() {\n  return 'clr-tabs-' + nbTabsComponent++;\n}\n\nexport const TABS_ID_PROVIDER = {\n  provide: TABS_ID,\n  useFactory: tokenFactory,\n};\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  HostBinding,\n  HostListener,\n  Inject,\n  Input,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport { IF_ACTIVE_ID, IfActiveService } from '../../utils/conditional/if-active.service';\nimport { TemplateRefContainer } from '../../utils/template-ref/template-ref-container';\nimport { TabsService } from './providers/tabs.service';\n\nimport { AriaService } from './providers/aria.service';\nimport { TABS_ID } from './tabs-id.provider';\nimport { TabsLayout } from './enums/tabs-layout.enum';\n\nlet nbTabLinkComponents: number = 0;\n\n@Directive({\n  selector: '[clrTabLink]',\n  host: {\n    '[attr.aria-hidden]': 'false',\n    '[class.btn]': 'true',\n    role: 'tab',\n    type: 'button',\n  },\n})\nexport class ClrTabLink {\n  private _inOverflow: boolean;\n\n  @Input('clrTabLinkInOverflow')\n  set inOverflow(inOverflow) {\n    this._inOverflow = inOverflow;\n  }\n\n  get inOverflow(): boolean {\n    return this._inOverflow && this.tabsService.layout !== TabsLayout.VERTICAL;\n  }\n\n  @HostBinding('class.btn-link')\n  @HostBinding('class.nav-link')\n  get addLinkClasses() {\n    return !this.inOverflow;\n  }\n\n  templateRefContainer: TemplateRefContainer;\n\n  constructor(\n    public ifActiveService: IfActiveService,\n    @Inject(IF_ACTIVE_ID) private id: number,\n    private ariaService: AriaService,\n    private el: ElementRef,\n    private cfr: ComponentFactoryResolver,\n    private viewContainerRef: ViewContainerRef,\n    private tabsService: TabsService,\n    @Inject(TABS_ID) public tabsId: number\n  ) {\n    if (!this.tabLinkId) {\n      this.tabLinkId = 'clr-tab-link-' + nbTabLinkComponents++;\n    }\n\n    // Tab links can be rendered in one of two places: in the main area or inside the overflow dropdown menu.\n    // Here, we create a container so that its template can be used to create embeddedView on the fly.\n    // See TabsService's renderView() method and how it's used in Tabs class for an example.\n    const factory = this.cfr.resolveComponentFactory(TemplateRefContainer);\n    this.templateRefContainer = this.viewContainerRef.createComponent(factory, 1, undefined, [\n      [this.el.nativeElement],\n    ]).instance;\n  }\n\n  @HostBinding('attr.aria-controls')\n  get ariaControls(): string {\n    return this.ariaService.ariaControls;\n  }\n\n  get tabLinkId(): string {\n    return this.ariaService.ariaLabelledBy;\n  }\n\n  @HostBinding('id')\n  @Input('id')\n  set tabLinkId(id: string) {\n    this.ariaService.ariaLabelledBy = id;\n  }\n\n  @HostListener('click')\n  activate() {\n    this.ifActiveService.current = this.id;\n  }\n\n  @HostBinding('class.active')\n  @HostBinding('attr.aria-selected')\n  get active() {\n    return this.ifActiveService.current === this.id;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ContentChild, Inject } from '@angular/core';\n\nimport { IF_ACTIVE_ID, IF_ACTIVE_ID_PROVIDER, IfActiveService } from '../../utils/conditional/if-active.service';\n\nimport { AriaService } from './providers/aria.service';\nimport { TabsService } from './providers/tabs.service';\nimport { ClrTabContent } from './tab-content';\nimport { ClrTabLink } from './tab-link.directive';\n\n@Component({\n  selector: 'clr-tab',\n  template: `\n        <ng-content></ng-content>\n    `,\n  providers: [IF_ACTIVE_ID_PROVIDER, AriaService],\n})\nexport class ClrTab {\n  @ContentChild(ClrTabLink, { static: true })\n  tabLink: ClrTabLink;\n  @ContentChild(ClrTabContent, { static: true })\n  tabContent: ClrTabContent;\n\n  constructor(\n    public ifActiveService: IfActiveService,\n    @Inject(IF_ACTIVE_ID) public id: number,\n    private tabsService: TabsService\n  ) {\n    tabsService.register(this);\n  }\n\n  ngOnDestroy() {\n    this.tabsService.unregister(this);\n  }\n\n  get active() {\n    return this.ifActiveService.current === this.id;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ElementRef, Injector, SkipSelf } from '@angular/core';\n\nimport { AbstractPopover } from '../../popover/common/abstract-popover';\nimport { Point } from '../../popover/common/popover';\n\n@Component({\n  selector: 'clr-tab-overflow-content',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.dropdown-menu]': 'true',\n  },\n})\nexport class ClrTabOverflowContent extends AbstractPopover {\n  constructor(injector: Injector, @SkipSelf() parentHost: ElementRef) {\n    super(injector, parentHost);\n    this.anchorPoint = Point.BOTTOM_RIGHT;\n    this.popoverPoint = Point.RIGHT_TOP;\n    this.closeOnOutsideClick = true;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  Inject,\n  QueryList,\n  Input,\n  OnDestroy,\n  HostBinding,\n  ViewContainerRef,\n  ViewChild,\n} from '@angular/core';\n\nimport { IfActiveService } from '../../utils/conditional/if-active.service';\nimport { IfOpenService } from '../../utils/conditional/if-open.service';\n\nimport { TabsService } from './providers/tabs.service';\nimport { ClrTab } from './tab';\nimport { ClrTabLink } from './tab-link.directive';\nimport { TABS_ID, TABS_ID_PROVIDER } from './tabs-id.provider';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\nimport { TabsLayout } from './enums/tabs-layout.enum';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'clr-tabs',\n  template: `\n        <ul class=\"nav\" role=\"tablist\" [attr.aria-owns]=\"tabIds\">\n            <!--tab links-->\n            <ng-container *ngFor=\"let link of tabLinkDirectives\">\n                <ng-container *ngIf=\"link.tabsId === tabsId && !link.inOverflow\">\n                    <li role=\"presentation\" class=\"nav-item\">\n                        <ng-container [ngTemplateOutlet]=\"link.templateRefContainer.template\"></ng-container>\n                    </li>\n                </ng-container>\n            </ng-container>\n            <ng-container *ngIf=\"tabsService.overflowTabs.length > 0\">\n                <div class=\"tabs-overflow bottom-right\" [class.open]=\"ifOpenService.open\"\n                     (click)=\"toggleOverflow($event)\">\n                    <li role=\"presentation\" class=\"nav-item\">\n                        <button class=\"btn btn-link nav-link dropdown-toggle\" type=\"button\" [class.active]=\"activeTabInOverflow\">\n                            <clr-icon shape=\"ellipsis-horizontal\"\n                              [class.is-info]=\"ifOpenService.open\"\n                              [attr.title]=\"commonStrings.more\"></clr-icon>\n                        </button>\n                    </li>\n                    <!--tab links in overflow menu-->\n                    <clr-tab-overflow-content>\n                        <ng-container *ngFor=\"let link of tabLinkDirectives\">\n                            <ng-container *ngIf=\"link.tabsId === tabsId && link.inOverflow\"\n                                          [ngTemplateOutlet]=\"link.templateRefContainer.template\">\n                            </ng-container>\n                        </ng-container>\n                    </clr-tab-overflow-content>\n                </div>\n            </ng-container>\n        </ul>\n        <ng-container #tabContentViewContainer></ng-container>\n    `,\n  providers: [IfActiveService, IfOpenService, TabsService, TABS_ID_PROVIDER],\n})\nexport class ClrTabs implements AfterContentInit, OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  /* tslint:disable:no-unused-variable */\n  @ViewChild('tabContentViewContainer', { static: true, read: ViewContainerRef })\n  private set tabContentViewContainer(value: ViewContainerRef) {\n    this.tabsService.tabContentViewContainer = value;\n  }\n  /* tslint:enable:no-unused-variable */\n\n  @Input('clrLayout')\n  set layout(layout: TabsLayout) {\n    if (\n      Object.keys(TabsLayout)\n        .map(key => {\n          return TabsLayout[key];\n        })\n        .indexOf(layout) >= 0\n    ) {\n      this.tabsService.layout = layout;\n    }\n  }\n  get layout(): TabsLayout {\n    return this.tabsService.layout;\n  }\n\n  @ContentChildren(ClrTab) private tabs: QueryList<ClrTab>;\n\n  private _tabLinkDirectives: ClrTabLink[] = [];\n  get tabLinkDirectives(): ClrTabLink[] {\n    return this._tabLinkDirectives;\n  }\n\n  constructor(\n    public ifActiveService: IfActiveService,\n    public ifOpenService: IfOpenService,\n    public tabsService: TabsService,\n    @Inject(TABS_ID) public tabsId: number,\n    public commonStrings: ClrCommonStrings\n  ) {}\n\n  get activeTabInOverflow() {\n    return this.tabsService.overflowTabs.indexOf(this.tabsService.activeTab) > -1;\n  }\n\n  get tabIds() {\n    return this.tabsService.children.map(tab => tab.tabLink.tabLinkId).join(' ');\n  }\n\n  ngAfterContentInit() {\n    this._tabLinkDirectives = this.tabs.map(tab => tab.tabLink);\n    this.subscriptions.push(\n      this.tabs.changes.subscribe(() => {\n        this._tabLinkDirectives = this.tabs.map(tab => tab.tabLink);\n      })\n    );\n\n    if (typeof this.ifActiveService.current === 'undefined' && this.tabLinkDirectives[0]) {\n      this.tabLinkDirectives[0].activate();\n    }\n  }\n\n  toggleOverflow(event: any) {\n    this.ifOpenService.toggleWithEvent(event);\n  }\n\n  @HostBinding('class.tabs-vertical')\n  get isVertical() {\n    return this.layout === TabsLayout.VERTICAL;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonPopoverModule } from '../../popover/common/popover.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\nimport { ClrTemplateRefModule } from '../../utils/template-ref/template-ref.module';\n\nimport { ActiveOompaLoompa } from './chocolate/active-oompa-loompa';\nimport { TabsWillyWonka } from './chocolate/tabs-willy-wonka';\nimport { ClrTab } from './tab';\nimport { ClrTabContent } from './tab-content';\nimport { ClrTabLink } from './tab-link.directive';\nimport { ClrTabOverflowContent } from './tab-overflow-content';\nimport { ClrTabs } from './tabs';\n\nexport const CLR_TABS_DIRECTIVES: Type<any>[] = [\n  ClrTabContent,\n  ClrTab,\n  ClrTabs,\n  ClrTabOverflowContent,\n  ClrTabLink,\n  TabsWillyWonka,\n  ActiveOompaLoompa,\n];\n\n@NgModule({\n  imports: [CommonModule, ClrCommonPopoverModule, ClrConditionalModule, ClrIconModule, ClrTemplateRefModule],\n  declarations: [CLR_TABS_DIRECTIVES],\n  exports: [CLR_TABS_DIRECTIVES, ClrConditionalModule],\n})\nexport class ClrTabsModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class VerticalNavGroupRegistrationService {\n  public navGroupCount: number = 0;\n\n  registerNavGroup() {\n    this.navGroupCount++;\n  }\n\n  unregisterNavGroup(): void {\n    this.navGroupCount--;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class VerticalNavIconService {\n  private _icons: number = 0;\n\n  get hasIcons(): boolean {\n    return this._icons > 0;\n  }\n\n  registerIcon(): void {\n    this._icons++;\n  }\n\n  unregisterIcon(): void {\n    this._icons--;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class VerticalNavService {\n  private _animateOnCollapsed: Subject<boolean> = new Subject<boolean>();\n\n  get animateOnCollapsed(): Observable<boolean> {\n    return this._animateOnCollapsed.asObservable();\n  }\n\n  private _collapsedChanged: Subject<boolean> = new Subject<boolean>();\n\n  get collapsedChanged(): Observable<boolean> {\n    return this._collapsedChanged.asObservable();\n  }\n\n  private _collapsed: boolean = false;\n\n  get collapsed(): boolean {\n    return this._collapsed;\n  }\n\n  set collapsed(value: boolean) {\n    value = !!value;\n    if (this.collapsible && this._collapsed !== value) {\n      this.updateCollapseBehavior(value);\n    }\n  }\n\n  private _collapsible: boolean = false;\n\n  get collapsible(): boolean {\n    return this._collapsible;\n  }\n\n  set collapsible(value: boolean) {\n    value = !!value;\n    if (this._collapsible !== value) {\n      if (!value && this.collapsed) {\n        this.updateCollapseBehavior(false);\n      }\n      this._collapsible = value;\n    }\n  }\n\n  private updateCollapseBehavior(value: boolean): void {\n    this._animateOnCollapsed.next(value);\n    this._collapsed = value;\n    this._collapsedChanged.next(value);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, EventEmitter, Input, OnDestroy, Output } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { VerticalNavGroupRegistrationService } from './providers/vertical-nav-group-registration.service';\nimport { VerticalNavIconService } from './providers/vertical-nav-icon.service';\nimport { VerticalNavService } from './providers/vertical-nav.service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n@Component({\n  selector: 'clr-vertical-nav',\n  templateUrl: './vertical-nav.html',\n  providers: [VerticalNavService, VerticalNavIconService, VerticalNavGroupRegistrationService],\n  host: {\n    class: 'clr-vertical-nav',\n    '[class.is-collapsed]': 'collapsed',\n    '[class.has-nav-groups]': 'hasNavGroups',\n    '[class.has-icons]': 'hasIcons',\n  },\n})\nexport class ClrVerticalNav implements OnDestroy {\n  get collapsible(): boolean {\n    return this._navService.collapsible;\n  }\n\n  @Input('clrVerticalNavCollapsible')\n  set collapsible(value: boolean) {\n    this._navService.collapsible = value;\n  }\n\n  get collapsed(): boolean {\n    return this._navService.collapsed;\n  }\n\n  @Input('clrVerticalNavCollapsed')\n  set collapsed(value: boolean) {\n    this._navService.collapsed = value;\n  }\n\n  @Output('clrVerticalNavCollapsedChange')\n  private _collapsedChanged: EventEmitter<boolean> = new EventEmitter<boolean>(true);\n\n  get hasNavGroups(): boolean {\n    return this._navGroupRegistrationService.navGroupCount > 0;\n  }\n\n  get hasIcons(): boolean {\n    return this._navIconService.hasIcons;\n  }\n\n  private _sub: Subscription;\n\n  constructor(\n    private _navService: VerticalNavService,\n    private _navIconService: VerticalNavIconService,\n    private _navGroupRegistrationService: VerticalNavGroupRegistrationService,\n    public commonStrings: ClrCommonStrings\n  ) {\n    this._sub = this._navService.collapsedChanged.subscribe(value => {\n      this._collapsedChanged.emit(value);\n    });\n  }\n\n  toggleByButton() {\n    this.collapsed = !this.collapsed;\n  }\n\n  ngOnDestroy() {\n    this._sub.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class VerticalNavGroupService {\n  private _expandChange: Subject<boolean> = new Subject<boolean>();\n\n  get expandChange(): Observable<boolean> {\n    return this._expandChange.asObservable();\n  }\n\n  expand(): void {\n    this._expandChange.next(true);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { animate, AnimationEvent, state, style, transition, trigger } from '@angular/animations';\nimport { AfterContentInit, Component, EventEmitter, HostBinding, Input, OnDestroy, Output } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\n\nimport { VerticalNavGroupRegistrationService } from './providers/vertical-nav-group-registration.service';\nimport { VerticalNavGroupService } from './providers/vertical-nav-group.service';\nimport { VerticalNavService } from './providers/vertical-nav.service';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\nconst EXPANDED_STATE: string = 'expanded';\nconst COLLAPSED_STATE: string = 'collapsed';\n\n@Component({\n  selector: 'clr-vertical-nav-group',\n  templateUrl: './vertical-nav-group.html',\n  providers: [IfExpandService, VerticalNavGroupService],\n  animations: [\n    trigger('clrExpand', [\n      state(EXPANDED_STATE, style({ height: '*' })),\n      state(COLLAPSED_STATE, style({ height: 0, 'overflow-y': 'hidden', visibility: 'hidden' })),\n      transition(`${EXPANDED_STATE} <=> ${COLLAPSED_STATE}`, animate('0.2s ease-in-out')),\n    ]),\n  ],\n  host: { class: 'nav-group' },\n})\nexport class ClrVerticalNavGroup implements AfterContentInit, OnDestroy {\n  constructor(\n    private _itemExpand: IfExpandService,\n    private _navGroupRegistrationService: VerticalNavGroupRegistrationService,\n    private _navGroupService: VerticalNavGroupService,\n    private _navService: VerticalNavService,\n    public commonStrings: ClrCommonStrings\n  ) {\n    this._navGroupRegistrationService.registerNavGroup();\n\n    // FIXME: This subscription handles a corner case\n    // Vertical Nav collapse requires the animation to run first and then\n    // remove the nodes from the DOM. If the user directly sets the input\n    // on the clrIfExpanded directive, we have no chance to run the animation\n    // and wait for it to complete. This subscription makes sure that the\n    // animation states are correct for that edge case.\n    this._subscriptions.push(\n      this._itemExpand.expandChange.subscribe(value => {\n        if (value && this.expandAnimationState === COLLAPSED_STATE) {\n          if (this._navService.collapsed) {\n            this._navService.collapsed = false;\n          }\n          this.expandAnimationState = EXPANDED_STATE;\n        } else if (!value && this.expandAnimationState === EXPANDED_STATE) {\n          this.expandAnimationState = COLLAPSED_STATE;\n        }\n      })\n    );\n\n    // 1. If the nav is collapsing, close the open nav group + save its state\n    // 2. If the nav is expanding, expand the nav group if the previous state was expanded\n    this._subscriptions.push(\n      this._navService.animateOnCollapsed.subscribe((goingToCollapse: boolean) => {\n        if (goingToCollapse && this.expanded) {\n          this.wasExpanded = true;\n          this.expandAnimationState = COLLAPSED_STATE;\n        } else if (!goingToCollapse && this.wasExpanded) {\n          this.expandGroup();\n          this.wasExpanded = false;\n        }\n      })\n    );\n\n    // If a link is clicked, expand the nav group\n    this._subscriptions.push(\n      this._navGroupService.expandChange.subscribe((expand: boolean) => {\n        if (expand && !this.expanded) {\n          this.expandGroup();\n        }\n      })\n    );\n  }\n\n  private wasExpanded: boolean = false;\n\n  @HostBinding('class.is-expanded')\n  get expanded(): boolean {\n    return this._itemExpand.expanded;\n  }\n\n  set expanded(value: boolean) {\n    if (this._itemExpand.expanded !== value) {\n      this._itemExpand.expanded = value;\n      this.expandedChange.emit(value);\n    }\n  }\n\n  @Input('clrVerticalNavGroupExpanded')\n  set userExpandedInput(value: boolean) {\n    value = !!value;\n    if (this.expanded !== value) {\n      // We have to call toggleExpand because some cases require animations to occur first\n      // Directly setting the Expand service value skips the animation and can result in\n      // nodes in the DOM but the nav group still being collapsed\n      this.toggleExpand();\n    }\n  }\n\n  @Output('clrVerticalNavGroupExpandedChange') expandedChange: EventEmitter<boolean> = new EventEmitter<boolean>(true);\n\n  private _subscriptions: Subscription[] = [];\n\n  private _expandAnimationState: string = COLLAPSED_STATE;\n\n  expandGroup(): void {\n    this.expanded = true;\n    // Expanded animation occurs after Expand.expand is set to true\n    this.expandAnimationState = EXPANDED_STATE;\n  }\n\n  collapseGroup(): void {\n    // If a Vertical Nav Group toggle button is clicked while the Vertical Nav is in Collapsed state,\n    // the Vertical Nav should be expanded first.\n    this.expandAnimationState = COLLAPSED_STATE;\n  }\n\n  // closes a group after the collapse animation\n  expandAnimationDone($event: AnimationEvent) {\n    if ($event.toState === COLLAPSED_STATE) {\n      this.expanded = false;\n    }\n  }\n\n  get expandAnimationState(): string {\n    return this._expandAnimationState;\n  }\n\n  set expandAnimationState(value: string) {\n    if (value !== this._expandAnimationState) {\n      this._expandAnimationState = value;\n    }\n  }\n\n  toggleExpand(): void {\n    if (this.expanded) {\n      this.collapseGroup();\n    } else {\n      // If nav is collasped, first open the nav\n      if (this._navService.collapsed) {\n        this._navService.collapsed = false;\n      }\n      // then expand the nav group\n      this.expandGroup();\n    }\n  }\n\n  ngAfterContentInit() {\n    // This makes sure that if someone marks a nav group expanded in a collapsed nav\n    // the expanded property is switched back to collapsed state.\n    if (this._navService.collapsed && this.expanded) {\n      this.wasExpanded = true;\n      this.expandAnimationState = COLLAPSED_STATE;\n    }\n  }\n\n  ngOnDestroy() {\n    this._subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n    this._navGroupRegistrationService.unregisterNavGroup();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-vertical-nav-group-children',\n  template: `\n        <ng-content></ng-content>\n    `,\n})\nexport class ClrVerticalNavGroupChildren {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, OnDestroy } from '@angular/core';\nimport { VerticalNavIconService } from './providers/vertical-nav-icon.service';\n\n@Directive({ selector: '[clrVerticalNavIcon]', host: { class: 'nav-icon' } })\nexport class ClrVerticalNavIcon implements OnDestroy {\n  constructor(private _verticalNavIconService: VerticalNavIconService) {\n    this._verticalNavIconService.registerIcon();\n  }\n\n  ngOnDestroy() {\n    this._verticalNavIconService.unregisterIcon();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, HostListener, Optional } from '@angular/core';\nimport { VerticalNavGroupService } from './providers/vertical-nav-group.service';\n\n@Component({\n  selector: '[clrVerticalNavLink]',\n  template: `\n        <ng-content select=\"[clrVerticalNavIcon]\"></ng-content>\n        <span class=\"nav-text\">\n            <ng-content></ng-content>    \n        </span>\n    `,\n  host: { class: 'nav-link' },\n})\nexport class ClrVerticalNavLink {\n  constructor(@Optional() private _navGroupService: VerticalNavGroupService) {}\n\n  @HostListener('click')\n  public expandParentNavGroup(): void {\n    if (this._navGroupService) {\n      this._navGroupService.expand();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\n\nimport { ClrVerticalNav } from './vertical-nav';\nimport { ClrVerticalNavGroup } from './vertical-nav-group';\nimport { ClrVerticalNavGroupChildren } from './vertical-nav-group-children';\nimport { ClrVerticalNavIcon } from './vertical-nav-icon';\nimport { ClrVerticalNavLink } from './vertical-nav-link';\n\nexport const CLR_VERTICAL_NAV_DIRECTIVES: Type<any>[] = [\n  ClrVerticalNav,\n  ClrVerticalNavLink,\n  ClrVerticalNavGroup,\n  ClrVerticalNavGroupChildren,\n  ClrVerticalNavIcon,\n];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrConditionalModule],\n  declarations: [CLR_VERTICAL_NAV_DIRECTIVES],\n  exports: [CLR_VERTICAL_NAV_DIRECTIVES, ClrConditionalModule, ClrIconModule],\n})\nexport class ClrVerticalNavModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { NgModule } from '@angular/core';\n\nimport { ClrMainContainerModule } from './main-container/main-container.module';\nimport { ClrNavigationModule } from './nav/navigation.module';\nimport { ClrTabsModule } from './tabs/tabs.module';\nimport { ClrVerticalNavModule } from './vertical-nav/vertical-nav.module';\n\n@NgModule({ exports: [ClrMainContainerModule, ClrNavigationModule, ClrTabsModule, ClrVerticalNavModule] })\nexport class ClrLayoutModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\n\n@Injectable()\nexport class ScrollingService {\n  constructor(@Inject(DOCUMENT) private _document: any) {}\n\n  stopScrolling(): void {\n    this._document.body.classList.add('no-scrolling');\n  }\n\n  resumeScrolling(): void {\n    if (this._document.body.classList.contains('no-scrolling')) {\n      this._document.body.classList.remove('no-scrolling');\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, AnimationEvent, style, transition, trigger } from '@angular/animations';\nimport {\n  Component,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Output,\n  SimpleChange,\n  ViewChild,\n  Inject,\n} from '@angular/core';\n\nimport { FocusTrapDirective } from '../utils/focus-trap/focus-trap.directive';\nimport { ScrollingService } from '../utils/scrolling/scrolling-service';\nimport { ClrCommonStrings } from '../utils/i18n/common-strings.interface';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../utils/id-generator/id-generator.service';\n\n@Component({\n  selector: 'clr-modal',\n  viewProviders: [ScrollingService],\n  templateUrl: './modal.html',\n  styles: [\n    `\n        :host { display: none; }\n        :host.open { display: inline; }\n    `,\n  ],\n  animations: [\n    trigger('fadeDown', [\n      transition('* => false', [style({ opacity: 0, transform: 'translate(0, -25%)' }), animate('0.2s ease-in-out')]),\n      transition('false => *', [animate('0.2s ease-in-out', style({ opacity: 0, transform: 'translate(0, -25%)' }))]),\n    ]),\n    trigger('fade', [\n      transition('void => *', [style({ opacity: 0 }), animate('0.2s ease-in-out', style({ opacity: 0.85 }))]),\n      transition('* => void', [animate('0.2s ease-in-out', style({ opacity: 0 }))]),\n    ]),\n  ],\n  providers: [UNIQUE_ID_PROVIDER],\n})\nexport class ClrModal implements OnChanges, OnDestroy {\n  @ViewChild(FocusTrapDirective, { static: false })\n  focusTrap: FocusTrapDirective;\n\n  @HostBinding('class.open')\n  @Input('clrModalOpen')\n  _open: boolean = false;\n  @Output('clrModalOpenChange') _openChanged: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  @Input('clrModalClosable') closable: boolean = true;\n  @Input('clrModalSize') size: string;\n  @Input('clrModalStaticBackdrop') staticBackdrop: boolean = true;\n  @Input('clrModalSkipAnimation') skipAnimation: string = 'false';\n\n  // presently this is only used by wizards\n  @Input('clrModalOverrideScrollService') bypassScrollService: boolean = false;\n  @Input('clrModalPreventClose') stopClose: boolean = false;\n  @Output('clrModalAlternateClose') altClose: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  constructor(\n    private _scrollingService: ScrollingService,\n    public commonStrings: ClrCommonStrings,\n    @Inject(UNIQUE_ID) public modalId: string\n  ) {}\n\n  get sizeClass(): string {\n    if (this.size) {\n      return 'modal-' + this.size;\n    } else {\n      return '';\n    }\n  }\n\n  // Detect when _open is set to true and set no-scrolling to true\n  ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    if (!this.bypassScrollService && changes && changes.hasOwnProperty('_open')) {\n      if (changes._open.currentValue) {\n        this._scrollingService.stopScrolling();\n      } else {\n        this._scrollingService.resumeScrolling();\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._scrollingService.resumeScrolling();\n  }\n\n  open(): void {\n    if (this._open) {\n      return;\n    }\n    this._open = true;\n    this._openChanged.emit(true);\n  }\n\n  @HostListener('body:keyup.escape')\n  close(): void {\n    if (this.stopClose) {\n      this.altClose.emit(false);\n      return;\n    }\n    if (!this.closable || !this._open) {\n      return;\n    }\n    this._open = false;\n    // todo: remove this after animation bug is fixed https://github.com/angular/angular/issues/15798\n    // this was handled by the fadeDone event below, but that AnimationEvent is not firing in Angular 4.0.\n    this._openChanged.emit(false);\n    // SPECME\n    this.focusTrap.setPreviousFocus(); // Handles moving focus back to the element that had it before.\n  }\n\n  fadeDone(e: AnimationEvent) {\n    if (e.toState === 'void') {\n      this._openChanged.emit(false);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../icon/icon.module';\nimport { ClrFocusTrapModule } from '../utils/focus-trap/focus-trap.module';\nimport { ClrModal } from './modal';\n\nexport const CLR_MODAL_DIRECTIVES: Type<any>[] = [ClrModal];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrFocusTrapModule],\n  declarations: [CLR_MODAL_DIRECTIVES],\n  exports: [CLR_MODAL_DIRECTIVES],\n})\nexport class ClrModalModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Point } from '../common/popover';\n\nexport interface Position {\n  anchorPoint: Point;\n  popoverPoint: Point;\n  offsetY: number;\n  offsetX: number;\n}\n\nexport const SIGNPOST_POSITIONS: { [input: string]: Position } = {\n  'top-left': { anchorPoint: Point.TOP_CENTER, popoverPoint: Point.BOTTOM_RIGHT, offsetY: -10, offsetX: 0 },\n  'top-middle': { anchorPoint: Point.TOP_CENTER, popoverPoint: Point.BOTTOM_CENTER, offsetY: -10, offsetX: 0 },\n  'top-right': { anchorPoint: Point.TOP_CENTER, popoverPoint: Point.BOTTOM_LEFT, offsetY: -10, offsetX: 0 },\n  'right-top': { anchorPoint: Point.RIGHT_CENTER, popoverPoint: Point.LEFT_BOTTOM, offsetY: 2, offsetX: 14 },\n  'right-middle': { anchorPoint: Point.RIGHT_CENTER, popoverPoint: Point.LEFT_CENTER, offsetY: 6, offsetX: 14 },\n  'right-bottom': { anchorPoint: Point.RIGHT_CENTER, popoverPoint: Point.LEFT_TOP, offsetY: -1, offsetX: 14 },\n  'bottom-right': { anchorPoint: Point.BOTTOM_CENTER, popoverPoint: Point.TOP_LEFT, offsetY: 9, offsetX: -1 },\n  'bottom-middle': { anchorPoint: Point.BOTTOM_CENTER, popoverPoint: Point.TOP_CENTER, offsetY: 9, offsetX: 12 },\n  'bottom-left': { anchorPoint: Point.BOTTOM_CENTER, popoverPoint: Point.TOP_RIGHT, offsetY: 9, offsetX: 0 },\n  'left-bottom': { anchorPoint: Point.LEFT_CENTER, popoverPoint: Point.RIGHT_TOP, offsetY: 0, offsetX: -14 },\n  'left-middle': { anchorPoint: Point.LEFT_CENTER, popoverPoint: Point.RIGHT_CENTER, offsetY: 4, offsetX: -14 },\n  'left-top': { anchorPoint: Point.LEFT_CENTER, popoverPoint: Point.RIGHT_BOTTOM, offsetY: 0, offsetX: -14 },\n  default: { anchorPoint: Point.RIGHT_CENTER, popoverPoint: Point.LEFT_CENTER, offsetY: 6, offsetX: 14 },\n};\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ElementRef, Inject, Injector, Input, Optional } from '@angular/core';\n\nimport { AbstractPopover } from '../common/abstract-popover';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\n\nimport { SIGNPOST_POSITIONS } from './signpost-positions';\nimport { ClrCommonStrings } from '../../utils/i18n/common-strings.interface';\n\n// aka where the arrow / pointer is at in relation to the anchor\nconst POSITIONS: string[] = [\n  'top-left',\n  'top-middle',\n  'top-right',\n  'right-top',\n  'right-middle', // default\n  'right-bottom',\n  'bottom-right',\n  'bottom-middle',\n  'bottom-left',\n  'left-bottom',\n  'left-middle',\n  'left-top',\n];\n\n@Component({\n  selector: 'clr-signpost-content',\n  template: `\n        <div class=\"signpost-flex-wrap\">\n            <div class=\"popover-pointer\"></div>\n            <div class=\"signpost-content-header\">\n                <button type=\"button\" class=\"signpost-action close\" (click)=\"close()\">\n                    <clr-icon shape=\"close\" [attr.title]=\"commonStrings.close\"></clr-icon>\n                </button>\n            </div>\n            <div class=\"signpost-content-body\">\n                <ng-content></ng-content>\n            </div>\n        </div>\n    `,\n  host: { '[class.signpost-content]': 'true' },\n})\nexport class ClrSignpostContent extends AbstractPopover {\n  constructor(\n    injector: Injector,\n    @Optional()\n    @Inject(POPOVER_HOST_ANCHOR)\n    parentHost: ElementRef,\n    commonStrings: ClrCommonStrings\n  ) {\n    if (!parentHost) {\n      throw new Error('clr-signpost-content should only be used inside of a clr-signpost');\n    }\n    super(injector, parentHost);\n    this.commonStrings = commonStrings;\n    // Defaults\n    this.position = 'right-middle';\n    this.closeOnOutsideClick = true;\n  }\n\n  commonStrings: ClrCommonStrings;\n\n  /**********\n   *\n   * @description\n   * Close function that uses the signpost instance to toggle the state of the content popover.\n   *\n   */\n  close() {\n    this.ifOpenService.open = false;\n  }\n\n  private _position: string;\n\n  get position() {\n    return this._position;\n  }\n\n  /*********\n   *\n   * @description\n   * A setter for the position of the ClrSignpostContent popover. This is a combination of the following:\n   * - anchorPoint - where on the trigger to anchor the ClrSignpostContent\n   * - popoverPoint - where on the ClrSignpostContent container to align with the anchorPoint\n   * - offsetY - where on the Y axis to align the ClrSignpostContent so it meets specs\n   * - offsetX - where on the X axis to align the ClrSignpostContent so it meets specs\n   * There are 12 possible positions to place a ClrSignpostContent container:\n   * - top-left\n   * - top-middle\n   * - top-right\n   * - right-top\n   * - right-middle\n   * - right-bottom\n   * - bottom-right\n   * - bottom-middle\n   * - bottom-left\n   * - left-bottom\n   * - left-middle\n   * - left-top\n   *\n   * I think of it as follows for 'top-left' -> CONTAINER_SIDE-SIDE_POSITION. In this case CONTAINER_SIDE is 'top'\n   * meaning the top of the trigger icon (above the icon that hides/shows) the ClrSignpostContent. And, SIDE_POSITION\n   * is 'left' meaning two things: 1) the ClrSignpostContent container extends to the left and 2) the 'arrow/pointer'\n   * linking the SingpostContent to the trigger points down at the horizontal center of the trigger icon.\n   *\n   * @param newPosition\n   */\n  @Input('clrPosition')\n  set position(position: string) {\n    // Ugh\n    this.renderer.removeClass(this.el.nativeElement, this.position);\n    if (position && POSITIONS.indexOf(position) > -1) {\n      this._position = position;\n    } else {\n      this._position = 'right-middle';\n    }\n    // Ugh\n    this.renderer.addClass(this.el.nativeElement, this.position);\n\n    const setPosition = SIGNPOST_POSITIONS[this.position];\n    this.anchorPoint = setPosition.anchorPoint;\n    this.popoverPoint = setPosition.popoverPoint;\n    this.popoverOptions.offsetY = setPosition.offsetY;\n    this.popoverOptions.offsetX = setPosition.offsetX;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\nimport { ClrCommonPopoverModule } from '../common/popover.module';\n\nimport { ClrSignpost } from './signpost';\nimport { ClrSignpostContent } from './signpost-content';\nimport { ClrSignpostTrigger } from './signpost-trigger';\n\nexport const CLR_SIGNPOST_DIRECTIVES: Type<any>[] = [ClrSignpost, ClrSignpostContent, ClrSignpostTrigger];\n\n@NgModule({\n  imports: [CommonModule, ClrCommonPopoverModule, ClrIconModule],\n  declarations: [CLR_SIGNPOST_DIRECTIVES],\n  exports: [CLR_SIGNPOST_DIRECTIVES, ClrConditionalModule],\n})\nexport class ClrSignpostModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ElementRef } from '@angular/core';\nimport { IfOpenService } from '../../utils/conditional/if-open.service';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\n\n@Component({\n  selector: 'clr-tooltip',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.tooltip]': 'true',\n  },\n  providers: [IfOpenService, { provide: POPOVER_HOST_ANCHOR, useExisting: ElementRef }],\n})\nexport class ClrTooltip {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ElementRef, Inject, Injector, Input, Optional } from '@angular/core';\nimport { AbstractPopover } from '../common/abstract-popover';\nimport { Point } from '../common/popover';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\n\nconst POSITIONS: string[] = ['bottom-left', 'bottom-right', 'top-left', 'top-right', 'right', 'left'];\n\nconst SIZES: string[] = ['xs', 'sm', 'md', 'lg'];\n\n@Component({\n  selector: 'clr-tooltip-content',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.tooltip-content]': 'true',\n    // I'm giving up on animation, they did not work before and will not work now.\n    // Too many conflicts with Clarity UI.\n    '[style.opacity]': '1',\n  },\n})\nexport class ClrTooltipContent extends AbstractPopover {\n  constructor(\n    injector: Injector,\n    @Optional()\n    @Inject(POPOVER_HOST_ANCHOR)\n    parentHost: ElementRef\n  ) {\n    if (!parentHost) {\n      throw new Error('clr-tooltip-content should only be used inside of a clr-tooltip');\n    }\n    super(injector, parentHost);\n    // Defaults\n    this.position = 'right';\n    this.size = 'sm';\n  }\n\n  private _position: string;\n\n  get position() {\n    return this._position;\n  }\n\n  @Input('clrPosition')\n  set position(position: string) {\n    // Ugh\n    this.renderer.removeClass(this.el.nativeElement, 'tooltip-' + this.position);\n    if (position && POSITIONS.indexOf(position) > -1) {\n      this._position = position;\n    } else {\n      this._position = 'right';\n    }\n    // Ugh\n    this.renderer.addClass(this.el.nativeElement, 'tooltip-' + this.position);\n\n    // set the popover values based on direction\n    switch (position) {\n      case 'top-right':\n        this.anchorPoint = Point.TOP_CENTER;\n        this.popoverPoint = Point.LEFT_BOTTOM;\n        break;\n      case 'top-left':\n        this.anchorPoint = Point.TOP_CENTER;\n        this.popoverPoint = Point.RIGHT_BOTTOM;\n        break;\n      case 'bottom-right':\n        this.anchorPoint = Point.BOTTOM_CENTER;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n      case 'bottom-left':\n        this.anchorPoint = Point.BOTTOM_CENTER;\n        this.popoverPoint = Point.RIGHT_TOP;\n        break;\n      case 'right':\n        this.anchorPoint = Point.RIGHT_CENTER;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n      case 'left':\n        this.anchorPoint = Point.LEFT_CENTER;\n        this.popoverPoint = Point.RIGHT_TOP;\n        break;\n      default:\n        this.anchorPoint = Point.RIGHT_CENTER;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n    }\n  }\n\n  private _size: string;\n\n  get size() {\n    return this._size;\n  }\n\n  @Input('clrSize')\n  set size(size: string) {\n    // Ugh\n    this.renderer.removeClass(this.el.nativeElement, 'tooltip-' + this.size);\n    if (size && SIZES.indexOf(size) > -1) {\n      this._size = size;\n    } else {\n      this._size = 'sm';\n    }\n    // Ugh\n    this.renderer.addClass(this.el.nativeElement, 'tooltip-' + this.size);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, HostListener } from '@angular/core';\nimport { IfOpenService } from '../../utils/conditional/if-open.service';\n\n@Directive({ selector: '[clrTooltipTrigger]', host: { '[attr.tabindex]': '0', '[class.tooltip-trigger]': 'true' } })\nexport class ClrTooltipTrigger {\n  constructor(private ifOpenService: IfOpenService) {}\n\n  @HostListener('mouseenter')\n  @HostListener('focus')\n  showTooltip(): void {\n    this.ifOpenService.open = true;\n  }\n\n  @HostListener('mouseleave')\n  @HostListener('blur')\n  hideTooltip(): void {\n    this.ifOpenService.open = false;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\nimport { ClrCommonPopoverModule } from '../common/popover.module';\n\nimport { ClrTooltip } from './tooltip';\nimport { ClrTooltipContent } from './tooltip-content';\nimport { ClrTooltipTrigger } from './tooltip-trigger';\n\nexport const CLR_TOOLTIP_DIRECTIVES: Type<any>[] = [ClrTooltip, ClrTooltipTrigger, ClrTooltipContent];\n\n@NgModule({\n  imports: [CommonModule, ClrCommonPopoverModule],\n  declarations: [CLR_TOOLTIP_DIRECTIVES],\n  exports: [CLR_TOOLTIP_DIRECTIVES, ClrConditionalModule, ClrIconModule],\n})\nexport class ClrTooltipModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { NgModule } from '@angular/core';\n\nimport { ClrDropdownModule } from './dropdown/dropdown.module';\nimport { ClrSignpostModule } from './signpost/signpost.module';\nimport { ClrTooltipModule } from './tooltip/tooltip.module';\n\n@NgModule({ exports: [ClrDropdownModule, ClrSignpostModule, ClrTooltipModule] })\nexport class ClrPopoverModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class ButtonHubService {\n  public buttonsReady: boolean = false;\n\n  private _previousBtnClicked = new Subject<any>();\n  public get previousBtnClicked(): Observable<any> {\n    return this._previousBtnClicked.asObservable();\n  }\n\n  private _nextBtnClicked = new Subject<any>();\n  public get nextBtnClicked(): Observable<any> {\n    return this._nextBtnClicked.asObservable();\n  }\n\n  private _dangerBtnClicked = new Subject<any>();\n  public get dangerBtnClicked(): Observable<any> {\n    return this._dangerBtnClicked.asObservable();\n  }\n\n  private _cancelBtnClicked = new Subject<any>();\n  public get cancelBtnClicked(): Observable<any> {\n    return this._cancelBtnClicked.asObservable();\n  }\n\n  private _finishBtnClicked = new Subject<any>();\n  public get finishBtnClicked(): Observable<any> {\n    return this._finishBtnClicked.asObservable();\n  }\n\n  private _customBtnClicked = new Subject<any>();\n  public get customBtnClicked(): Observable<any> {\n    return this._customBtnClicked.asObservable();\n  }\n\n  public buttonClicked(buttonType: string): void {\n    if ('previous' === buttonType) {\n      this._previousBtnClicked.next();\n    } else if ('next' === buttonType) {\n      this._nextBtnClicked.next();\n    } else if ('finish' === buttonType) {\n      this._finishBtnClicked.next();\n    } else if ('danger' === buttonType) {\n      this._dangerBtnClicked.next();\n    } else if ('cancel' === buttonType) {\n      this._cancelBtnClicked.next();\n    } else {\n      this._customBtnClicked.next(buttonType);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, QueryList } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nimport { ClrWizardPage } from '../wizard-page';\n\n/**\n * PageCollectionService manages the collection of pages assigned to the wizard and offers\n * a number of functions useful across the wizards providers and subcomponents -- all related\n * to essentially lookups on the collection of pages.\n *\n * The easiest way to access PageCollectionService is via the wizard. The\n * following example would allow you to access your instance of the wizard from your host\n * component and thereby access the page collection via YourHostComponent.wizard.pageCollection.\n *\n * @example\n * <clr-wizard #wizard ...>\n *\n * @example\n * export class YourHostComponent {\n *   @ViewChild(\"wizard\") wizard: Wizard;\n *   ...\n * }\n *\n * The heart of the page collection is the query list of pages, which it is assigned as a\n * reference to the Wizard.pages QueryList when the wizard is created.\n *\n */\n@Injectable()\nexport class PageCollectionService {\n  /**\n   * A reference to the Wizard.pages QueryList.\n   *\n   * Populated when the wizard is created.\n   *\n   * @memberof PageCollectionService\n   */\n  public pages: QueryList<ClrWizardPage>;\n\n  /**\n   * Converts the PageCollectionService.pages QueryList to an array and returns it.\n   *\n   * Useful for many instances when you would prefer a QueryList to act like an array.\n   *\n   * @memberof PageCollectionService\n   */\n  public get pagesAsArray(): ClrWizardPage[] {\n    return this.pages ? this.pages.toArray() : [];\n  }\n\n  /**\n   * Returns the length of the pages query list.\n   *\n   * @memberof PageCollectionService\n   */\n  public get pagesCount(): number {\n    return this.pages ? this.pages.length : 0;\n  }\n\n  /**\n   * Returns the next-to-last page in the query list of pages. Operates as a getter\n   * so that it isn't working with stale data.\n   *\n   * @memberof PageCollectionService\n   */\n  public get penultimatePage(): ClrWizardPage {\n    const pageCount = this.pagesCount;\n\n    if (pageCount < 2) {\n      return;\n    }\n\n    return this.pagesAsArray[pageCount - 2];\n  }\n\n  /**\n   * Returns the last page in the query list of pages. Operates as a getter\n   * so that it isn't working with stale data.\n   *\n   * @memberof PageCollectionService\n   */\n  public get lastPage(): ClrWizardPage {\n    const pageCount = this.pagesCount;\n\n    if (pageCount < 1) {\n      return;\n    }\n\n    return this.pagesAsArray[pageCount - 1];\n  }\n\n  /**\n   * Returns the first page in the query list of pages. Operates as a getter\n   * so that it isn't working with stale data.\n   *\n   * @memberof PageCollectionService\n   */\n  public get firstPage(): ClrWizardPage {\n    if (!this.pagesCount) {\n      return;\n    }\n\n    return this.pagesAsArray[0];\n  }\n\n  /**\n   * Used mostly internally, but accepts a string ID and returns a ClrWizardPage\n   * object that matches the ID passed. Note that IDs here should include the prefix\n   * \"clr-wizard-page-\".\n   *\n   * Returns the next-to-last page in the query list of pages. Operates as a getter\n   * so that it isn't working with stale data.\n   *\n   * @memberof PageCollectionService\n   */\n  public getPageById(id: string): ClrWizardPage {\n    const foundPages: ClrWizardPage[] = this.pages.filter((page: ClrWizardPage) => id === page.id);\n    return this.checkResults(foundPages, id);\n  }\n\n  /**\n   * Accepts s number as a parameter and treats that number as the index of the page\n   * you're looking for in the collection of pages. Returns a  wizard page object.\n   *\n   * @memberof PageCollectionService\n   */\n  public getPageByIndex(index: number): ClrWizardPage {\n    const pageCount = this.pagesCount;\n    const pagesLastIndex: number = pageCount > 1 ? pageCount - 1 : 0;\n\n    if (index < 0) {\n      throw new Error('Cannot retrieve page with index of ' + index);\n    }\n\n    if (index > pagesLastIndex) {\n      throw new Error('Page index is greater than length of pages array.');\n    }\n\n    return this.pagesAsArray[index];\n  }\n\n  /**\n   * Takes a wizard page object as a parameter and returns its index in the\n   * collection of pages.\n   *\n   * @memberof PageCollectionService\n   */\n  public getPageIndex(page: ClrWizardPage): number {\n    const index = this.pagesAsArray.indexOf(page);\n\n    if (index < 0) {\n      throw new Error('Requested page cannot be found in collection of pages.');\n    }\n\n    return index;\n  }\n\n  /**\n   * Consolidates guard logic that prevents a couple of unfortunate edge cases with\n   * look ups on the collection of pages.\n   *\n   * @memberof PageCollectionService\n   */\n  private checkResults(results: ClrWizardPage[], requestedPageId: string) {\n    const foundPagesCount: number = results.length || 0;\n\n    if (foundPagesCount > 1) {\n      throw new Error('More than one page has the requested id ' + requestedPageId + '.');\n    } else if (foundPagesCount < 1) {\n      throw new Error('No page can be found with the id ' + requestedPageId + '.');\n    } else {\n      return results[0];\n    }\n  }\n\n  /**\n   * Accepts two numeric indexes and returns an array of wizard page objects that include\n   * all wizard pages in the page collection from the first index to the second.\n   *\n   * @memberof PageCollectionService\n   */\n  public pageRange(start: number, end: number): ClrWizardPage[] {\n    let pages: ClrWizardPage[] = [];\n\n    if (start < 0 || end < 0) {\n      return [];\n    }\n\n    if (start === null || typeof start === 'undefined' || isNaN(start)) {\n      return [];\n    }\n\n    if (end === null || typeof end === 'undefined' || isNaN(end)) {\n      return [];\n    }\n\n    if (end > this.pagesCount) {\n      end = this.pagesCount;\n    }\n\n    pages = this.pagesAsArray;\n\n    if (end - start === 0) {\n      // just return the one page they want\n      return [this.getPageByIndex(start)];\n    }\n\n    // slice end does not include item referenced by end index, which is weird for users\n    // incrementing end index here to correct that so users and other methods\n    // don't have to think about it\n    end = end + 1;\n\n    // slice does not return the last one in the range but it does include the first one\n    // does not modify original array\n    return pages.slice(start, end);\n  }\n\n  /**\n   * Accepts two wizard page objects and returns those page objects with all other page\n   * objects between them in the page collection. It doesn't care which page is ahead of the\n   * other in the parameters. It will be smart enough to figure that out  on its own.\n   *\n   * @memberof PageCollectionService\n   */\n  public getPageRangeFromPages(page: ClrWizardPage, otherPage: ClrWizardPage): ClrWizardPage[] {\n    const pageIndex = this.getPageIndex(page);\n    const otherPageIndex = this.getPageIndex(otherPage);\n    let startIndex: number;\n    let endIndex: number;\n\n    if (pageIndex <= otherPageIndex) {\n      startIndex = pageIndex;\n      endIndex = otherPageIndex;\n    } else {\n      startIndex = otherPageIndex;\n      endIndex = pageIndex;\n    }\n    return this.pageRange(startIndex, endIndex);\n  }\n\n  /**\n   * Takes a wizard page object as a parameter and returns the wizard page object of\n   * the page immediately before it in the page collection. Returns null if there is\n   * no page before the page it is passed.\n   *\n   * @memberof PageCollectionService\n   */\n  public getPreviousPage(page: ClrWizardPage) {\n    const myPageIndex = this.getPageIndex(page);\n    const previousPageIndex = myPageIndex - 1;\n    if (previousPageIndex < 0) {\n      return null;\n    }\n    return this.getPageByIndex(previousPageIndex);\n  }\n\n  /**\n   * Accepts a wizard page object as a parameter and returns a Boolean that says if\n   * the page you sent it is complete.\n   *\n   * @memberof PageCollectionService\n   */\n  public previousPageIsCompleted(page: ClrWizardPage) {\n    let previousPage: ClrWizardPage;\n\n    if (!page) {\n      return false;\n    }\n\n    previousPage = this.getPreviousPage(page);\n\n    if (null === previousPage) {\n      // page is the first page. no previous page.\n      return true;\n    }\n\n    return previousPage.completed;\n  }\n\n  /**\n   * Takes a wizard page object as a parameter and returns the wizard page object of\n   * the page immediately after it in the page collection. Returns null if there is\n   * no page after the page it is passed.\n   *\n   * @memberof PageCollectionService\n   */\n  public getNextPage(page: ClrWizardPage) {\n    const myPageIndex = this.getPageIndex(page);\n    const nextPageIndex = myPageIndex + 1;\n\n    if (nextPageIndex >= this.pagesAsArray.length) {\n      return null;\n    }\n    return this.getPageByIndex(nextPageIndex);\n  }\n\n  /**\n   * Takes a wizard page object as a parameter and generates a step item id from the\n   * page ID. Returns the generated step item ID as a string.\n   *\n   * @memberof PageCollectionService\n   */\n  public getStepItemIdForPage(page: ClrWizardPage) {\n    const pageId = page.id;\n    const pageIdParts = pageId.split('-').reverse();\n\n    pageIdParts[1] = 'step';\n    return pageIdParts.reverse().join('-');\n  }\n\n  /**\n   * Generally only used internally to mark that a specific page has been \"committed\".\n   * This involves marking the page complete and firing the ClrWizardPage.onCommit\n   * (clrWizardPageOnCommit) output. Takes the wizard page object that you intend to\n   * mark completed as a parameter.\n   *\n   * @memberof PageCollectionService\n   */\n  public commitPage(page: ClrWizardPage) {\n    const pageHasOverrides = page.stopNext || page.preventDefault;\n    page.completed = true;\n\n    if (!pageHasOverrides) {\n      // prevent loop of event emission; alternate flows work off\n      // of event emitters this is how they break that cycle.\n      page.onCommit.emit(page.id);\n    }\n  }\n\n  // used by the navService to navigate back to first possible step after\n  // pages are reset\n\n  /**\n   *\n   * @memberof PageCollectionService\n   */\n  private _pagesReset = new Subject<boolean>();\n\n  /**\n   * An observable that the navigation service listens to in order to know when\n   * the page collection completed states have been reset to false so that way it\n   * can also reset the navigation to make the first page in the page collection\n   * current/active.\n   *\n   * @memberof PageCollectionService\n   */\n  public get pagesReset(): Observable<boolean> {\n    return this._pagesReset.asObservable();\n  }\n\n  /**\n   * Sets all completed states of the pages in the page collection to false and\n   * notifies the navigation service to likewise reset the navigation.\n   *\n   * @memberof PageCollectionService\n   */\n  public reset() {\n    this.pagesAsArray.forEach((page: ClrWizardPage) => {\n      page.completed = false;\n    });\n    this._pagesReset.next(true);\n  }\n\n  /**\n   * Rolls through all the pages in the page collection to make sure there are no\n   * incomplete pages sandwiched between completed pages in the workflow. Identifies\n   * the first incomplete page index and sets all pages behind it to a completed\n   * state of false.\n   *\n   * @memberof PageCollectionService\n   */\n  public updateCompletedStates(): void {\n    const firstIncompleteIndex = this.findFirstIncompletePageIndex();\n\n    if (firstIncompleteIndex === this.pagesAsArray.length - 1) {\n      // all complete no need to do anything\n      return;\n    }\n\n    this.pagesAsArray.forEach((page: ClrWizardPage, index: number) => {\n      if (index > firstIncompleteIndex) {\n        page.completed = false;\n      }\n    });\n  }\n\n  /**\n   * Retrieves the index of the first incomplete page in the page collection.\n   *\n   * @memberof PageCollectionService\n   */\n  public findFirstIncompletePageIndex(): number {\n    let returnIndex: number = null;\n    this.pagesAsArray.forEach((page: ClrWizardPage, index: number) => {\n      if (null === returnIndex && false === page.completed) {\n        returnIndex = index;\n      }\n    });\n\n    // fallthrough, all completed, return last page\n    if (null === returnIndex) {\n      returnIndex = this.pagesCount - 1;\n    }\n\n    return returnIndex;\n  }\n\n  public findFirstIncompletePage(): ClrWizardPage {\n    const myIncompleteIndex = this.findFirstIncompletePageIndex();\n    return this.pagesAsArray[myIncompleteIndex];\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, OnDestroy, TemplateRef } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { Subscription } from 'rxjs';\n\nimport { ClrWizardPage } from '../wizard-page';\n\nimport { ButtonHubService } from './button-hub.service';\nimport { PageCollectionService } from './page-collection.service';\n\n/**\n * Performs navigation functions for a wizard and manages the current page. Presented as a\n * separate service to encapsulate the behavior of navigating and completing the wizard so\n * that it can be shared across the wizard and its sub-components.\n *\n * The easiest way to access the navigation service is there a reference on your wizard. The\n * Following example would allow you to access your instance of the wizard from your host\n * component and thereby access the navigation service via YourHostComponent.wizard.navService.\n *\n * @example\n * <clr-wizard #wizard ...>\n *\n * @example\n * export class YourHostComponent {\n *   @ViewChild(\"wizard\") wizard: Wizard;\n *   ...\n * }\n *\n */\n@Injectable()\nexport class WizardNavigationService implements OnDestroy {\n  /**\n   * Is notified when a previous button is clicked in the wizard. Performs checks\n   * before alerting the current page of the button click. Enacts navigation to\n   * the previous page if not overridden at the page level.\n   *\n   * @memberof WizardNavigationService\n   */\n  public previousButtonSubscription: Subscription;\n\n  /**\n   * Is notified when a Next button is clicked in the wizard.\n   *\n   * @memberof WizardNavigationService\n   */\n  public nextButtonSubscription: Subscription;\n\n  /**\n   * Is notified when a danger button is clicked in the wizard.\n   *\n   * @memberof WizardNavigationService\n   */\n  public dangerButtonSubscription: Subscription;\n\n  /**\n   * Is notified when a  finish button is clicked in the wizard.\n   *\n   * @memberof WizardNavigationService\n   */\n  public finishButtonSubscription: Subscription;\n\n  /**\n   * Is notified when a Custom button is clicked in the wizard.\n   *\n   * @memberof WizardNavigationService\n   */\n  public customButtonSubscription: Subscription;\n\n  /**\n   * Is notified when a Cancel button is clicked in the wizard. Notifies the wizard,\n   * which handles all cancel functionality, if cancel is not overridden at the page\n   * level.\n   *\n   * @memberof WizardNavigationService\n   */\n  public cancelButtonSubscription: Subscription;\n\n  /**\n   * Resets navigation to make the first page current when the page collection service\n   * emits an event notifying WizardNavigationService that it has reset all pages\n   * to their pristine, incomplete state.\n   *\n   * @memberof WizardNavigationService\n   */\n  public pagesResetSubscription: Subscription;\n\n  /**\n   * Creates an instance of WizardNavigationService. Also sets up subscriptions\n   * that listen to the button service to determine when a button has been clicked\n   * in the wizard. Is also responsible for taking action when the page collection\n   * requests that navigation be reset to its pristine state.\n   *\n   * @memberof WizardNavigationService\n   */\n  constructor(public pageCollection: PageCollectionService, public buttonService: ButtonHubService) {\n    this.previousButtonSubscription = this.buttonService.previousBtnClicked.subscribe(() => {\n      const currentPage = this.currentPage;\n      if (this.currentPageIsFirst || currentPage.previousStepDisabled) {\n        return;\n      }\n      currentPage.previousButtonClicked.emit(currentPage);\n      if (!currentPage.preventDefault) {\n        this.previous();\n      }\n    });\n\n    this.nextButtonSubscription = this.buttonService.nextBtnClicked.subscribe(() => {\n      this.checkAndCommitCurrentPage('next');\n    });\n\n    this.dangerButtonSubscription = this.buttonService.dangerBtnClicked.subscribe(() => {\n      this.checkAndCommitCurrentPage('danger');\n    });\n\n    this.finishButtonSubscription = this.buttonService.finishBtnClicked.subscribe(() => {\n      this.checkAndCommitCurrentPage('finish');\n    });\n\n    this.customButtonSubscription = this.buttonService.customBtnClicked.subscribe((type: string) => {\n      if (!this.wizardStopNavigation) {\n        this.currentPage.customButtonClicked.emit(type);\n      }\n    });\n\n    this.cancelButtonSubscription = this.buttonService.cancelBtnClicked.subscribe(() => {\n      if (this.wizardStopNavigation) {\n        return;\n      }\n\n      if (this.currentPage.preventDefault) {\n        this.currentPage.pageOnCancel.emit(this.currentPage);\n      } else {\n        this.cancel();\n      }\n    });\n\n    this.pagesResetSubscription = this.pageCollection.pagesReset.subscribe(() => {\n      this.setFirstPageCurrent();\n    });\n  }\n\n  /**\n   *\n   * @memberof WizardNavigationService\n   */\n  ngOnDestroy(): void {\n    this.previousButtonSubscription.unsubscribe();\n    this.nextButtonSubscription.unsubscribe();\n    this.dangerButtonSubscription.unsubscribe();\n    this.finishButtonSubscription.unsubscribe();\n    this.customButtonSubscription.unsubscribe();\n    this.cancelButtonSubscription.unsubscribe();\n    this.pagesResetSubscription.unsubscribe();\n  }\n\n  /**\n   *\n   * @memberof WizardNavigationService\n   */\n  private _currentChanged = new Subject<ClrWizardPage>();\n\n  /**\n   * An Observable that is predominantly used amongst the subcomponents and services\n   * of the wizard. It is recommended that users listen to the ClrWizardPage.onLoad\n   * (clrWizardPageOnLoad) output instead of this Observable.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get currentPageChanged(): Observable<ClrWizardPage> {\n    // TODO: MAKE SURE EXTERNAL OUTPUTS SAY 'CHANGE' NOT 'CHANGED'\n    // A BREAKING CHANGE SO AWAITING MINOR RELEASE\n    return this._currentChanged.asObservable();\n  }\n\n  /**\n   * A Boolean flag used by the ClrWizardPage to avoid a race condition when pages are\n   * loading and there is no current page defined.\n   *\n   * @memberof WizardNavigationService\n   */\n  public navServiceLoaded = false;\n\n  /**\n   * A boolean flag shared across the Wizard subcomponents that follows the value\n   * of the Wizard.forceForward (clrWizardForceForwardNavigation) input. When true,\n   * navigating backwards in the stepnav menu will reset any skipped pages' completed\n   * state to false.\n   *\n   * This is useful when a wizard executes validation on a page-by-page basis when\n   * the next button is clicked.\n   *\n   * @memberof WizardNavigationService\n   */\n  public forceForwardNavigation = false;\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  public get currentPageTitle(): TemplateRef<any> {\n    // when the querylist of pages is empty. this is the first place it fails...\n    if (!this.currentPage) {\n      return null;\n    }\n    return this.currentPage.title;\n  }\n\n  /**\n   * Returns a Boolean that tells you whether or not the current page is the first\n   * page in the Wizard.\n   *\n   * This is helpful for determining whether a page is navigable.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get currentPageIsFirst(): boolean {\n    return this.pageCollection.firstPage === this.currentPage;\n  }\n\n  /**\n   * Returns a Boolean that tells you whether or not the current page is the\n   * last page in the Wizard.\n   *\n   * This is used to determine which buttons should display in the wizard footer.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get currentPageIsLast(): boolean {\n    return this.pageCollection.lastPage === this.currentPage;\n  }\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  private _currentPage: ClrWizardPage;\n\n  /**\n   * Returns the ClrWizardPage object of the current page or null.\n   *\n   * @memberof WizardNavigationService\n   */\n  get currentPage(): ClrWizardPage {\n    if (!this._currentPage) {\n      return null;\n    }\n    return this._currentPage;\n  }\n\n  /**\n   * Accepts a ClrWizardPage object, since that object to be the current/active\n   * page in the wizard, and emits the ClrWizardPage.onLoad (clrWizardPageOnLoad)\n   * event for that page.\n   *\n   * Note that all of this work is bypassed if the ClrWizardPage object is already\n   * the current page.\n   *\n   * @memberof WizardNavigationService\n   */\n  set currentPage(page: ClrWizardPage) {\n    if (this._currentPage !== page && !this.wizardStopNavigation) {\n      this._currentPage = page;\n      page.onLoad.emit(page.id);\n      this._currentChanged.next(page);\n    }\n  }\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  private _movedToNextPage = new Subject<boolean>();\n\n  /**\n   * An observable used internally to alert the wizard that forward navigation\n   * has occurred. It is recommended that you use the Wizard.onMoveNext\n   * (clrWizardOnNext) output instead of this one.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get movedToNextPage(): Observable<boolean> {\n    return this._movedToNextPage.asObservable();\n  }\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  private _wizardFinished = new Subject<boolean>();\n\n  /**\n   * An observable used internally to alert the wizard that the nav service\n   * has approved completion of the wizard.\n   *\n   * It is recommended that you use the Wizard.wizardFinished (clrWizardOnFinish)\n   * output instead of this one.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get wizardFinished(): Observable<boolean> {\n    return this._wizardFinished.asObservable();\n  }\n\n  /**\n   * This is a public function that can be used to programmatically advance\n   * the user to the next page.\n   *\n   * When invoked, this method will move the wizard to the next page after\n   * successful validation. Note that this method goes through all checks\n   * and event emissions as if Wizard.next(false) had been called.\n   *\n   * In most cases, it makes more sense to use Wizard.next(false).\n   *\n   * @memberof WizardNavigationService\n   */\n  public next(): void {\n    if (this.currentPageIsLast) {\n      this.checkAndCommitCurrentPage('finish');\n      return;\n    }\n\n    this.checkAndCommitCurrentPage('next');\n\n    if (!this.wizardHasAltNext && !this.wizardStopNavigation) {\n      this._movedToNextPage.next(true);\n    }\n  }\n\n  /**\n   * Bypasses checks and most event emissions to force a page to navigate forward.\n   *\n   * Comparable to calling Wizard.next() or Wizard.forceNext().\n   *\n   * @memberof WizardNavigationService\n   */\n  public forceNext(): void {\n    const currentPage: ClrWizardPage = this.currentPage;\n    const nextPage: ClrWizardPage = this.pageCollection.getNextPage(currentPage);\n\n    // catch errant null or undefineds that creep in\n    if (!nextPage) {\n      throw new Error('The wizard has no next page to go to.');\n    }\n\n    if (this.wizardStopNavigation) {\n      return;\n    }\n\n    if (!currentPage.completed) {\n      // this is a state that alt next flows can get themselves in...\n      this.pageCollection.commitPage(currentPage);\n    }\n    this.currentPage = nextPage;\n  }\n\n  /**\n   * Accepts a button/action type as a parameter. Encapsulates all logic for\n   * event emissions, state of the current page, and wizard and page level overrides.\n   *\n   * Avoid calling this function directly unless you really know what you're doing.\n   *\n   * @memberof WizardNavigationService\n   */\n  public checkAndCommitCurrentPage(buttonType: string): void {\n    const currentPage: ClrWizardPage = this.currentPage;\n    let iAmTheLastPage: boolean;\n\n    let isNext: boolean;\n    let isDanger: boolean;\n    let isDangerNext: boolean;\n    let isDangerFinish: boolean;\n    let isFinish: boolean;\n\n    if (!currentPage.readyToComplete || this.wizardStopNavigation) {\n      return;\n    }\n\n    iAmTheLastPage = this.currentPageIsLast;\n\n    isNext = buttonType === 'next';\n    isDanger = buttonType === 'danger';\n    isDangerNext = isDanger && !iAmTheLastPage;\n    isDangerFinish = isDanger && iAmTheLastPage;\n    isFinish = buttonType === 'finish' || isDangerFinish;\n\n    if (isFinish && !iAmTheLastPage) {\n      return;\n    }\n\n    currentPage.primaryButtonClicked.emit(buttonType);\n\n    if (isFinish) {\n      currentPage.finishButtonClicked.emit(currentPage);\n    } else if (isDanger) {\n      currentPage.dangerButtonClicked.emit();\n    } else if (isNext) {\n      currentPage.nextButtonClicked.emit();\n    }\n\n    if (currentPage.stopNext || currentPage.preventDefault) {\n      currentPage.onCommit.emit(currentPage.id);\n      return;\n    }\n\n    // order is very important with these emitters!\n    if (isFinish) {\n      // mark page as complete\n      if (!this.wizardHasAltNext) {\n        this.pageCollection.commitPage(currentPage);\n      }\n      this._wizardFinished.next();\n    }\n\n    if (this.wizardHasAltNext) {\n      this.pageCollection.commitPage(currentPage);\n\n      if (isNext || isDangerNext) {\n        this._movedToNextPage.next(true);\n      }\n      // jump out here, no matter what type we're looking at\n      return;\n    }\n\n    if (isNext || isDangerNext) {\n      this.forceNext();\n    }\n  }\n\n  /**\n   * This is a public function that can be used to programmatically conclude\n   * the wizard.\n   *\n   * When invoked, this method will  initiate the work involved with finalizing\n   * and finishing the wizard workflow. Note that this method goes through all\n   * checks and event emissions as if Wizard.finish(false) had been called.\n   *\n   * In most cases, it makes more sense to use Wizard.finish(false).\n   *\n   * @memberof WizardNavigationService\n   */\n  public finish(): void {\n    this.checkAndCommitCurrentPage('finish');\n  }\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  private _movedToPreviousPage = new Subject<boolean>();\n\n  /**\n   * Notifies the wizard when backwards navigation has occurred via the\n   * previous button.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get movedToPreviousPage(): Observable<boolean> {\n    return this._movedToPreviousPage.asObservable();\n  }\n\n  /**\n   * Programmatically moves the wizard to the page before the current page.\n   *\n   * In most instances, it makes more sense to call Wizard.previous()\n   * which does the same thing.\n   *\n   * @memberof WizardNavigationService\n   */\n  public previous(): void {\n    let previousPage: ClrWizardPage;\n\n    if (this.currentPageIsFirst || this.wizardStopNavigation) {\n      return;\n    }\n\n    previousPage = this.pageCollection.getPreviousPage(this.currentPage);\n\n    if (!previousPage) {\n      return;\n    }\n\n    this._movedToPreviousPage.next(true);\n\n    if (this.forceForwardNavigation) {\n      this.currentPage.completed = false;\n    }\n\n    this.currentPage = previousPage;\n  }\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  private _cancelWizard = new Subject<any>();\n\n  /**\n   * Notifies the wizard that a user is trying to cancel it.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get notifyWizardCancel(): Observable<any> {\n    return this._cancelWizard.asObservable();\n  }\n\n  /**\n   * Allows a hook into the cancel workflow of the wizard from the nav service. Note that\n   * this route goes through all checks and event emissions as if a cancel button had\n   * been clicked.\n   *\n   * In most cases, users looking for a hook into the cancel routine are actually looking\n   * for a way to close the wizard from their host component because they have prevented\n   * the default cancel action.\n   *\n   * In this instance, it is recommended that you use Wizard.close() to avoid any event\n   * emission loop resulting from an event handler calling back into routine that will\n   * again evoke the events it handles.\n   *\n   * @memberof WizardNavigationService\n   */\n  public cancel(): void {\n    this._cancelWizard.next();\n  }\n\n  /**\n   * A boolean flag shared across the Wizard subcomponents that follows the value\n   * of the Wizard.stopCancel (clrWizardPreventDefaultCancel) input. When true, the cancel\n   * routine is subverted and must be reinstated in the host component calling Wizard.close()\n   * at some point.\n   *\n   * @memberof WizardNavigationService\n   */\n  public wizardHasAltCancel: boolean = false;\n\n  /**\n   * A boolean flag shared across the Wizard subcomponents that follows the value\n   * of the Wizard.stopNext (clrWizardPreventDefaultNext) input. When true, the next and finish\n   * routines are subverted and must be reinstated in the host component calling Wizard.next(),\n   * Wizard.forceNext(), Wizard.finish(), or Wizard.forceFinish().\n   *\n   * @memberof WizardNavigationService\n   */\n  public wizardHasAltNext: boolean = false;\n\n  /**\n   * A boolean flag shared across the Wizard subcomponents that follows the value\n   * of the Wizard.stopNavigation (clrWizardPreventNavigation) input. When true, all\n   * navigational elements in the wizard are disabled.\n   *\n   * This is intended to freeze the wizard in place. Events are not fired so this is\n   * not a way to implement alternate functionality for navigation.\n   *\n   * @memberof WizardNavigationService\n   */\n  public wizardStopNavigation: boolean = false;\n\n  /**\n   * A boolean flag shared with the stepnav items that prevents user clicks on\n   * stepnav items from navigating the wizard.\n   *\n   * @memberof WizardNavigationService\n   */\n  public wizardDisableStepnav: boolean = false;\n\n  /**\n   * Performs all required checks to determine if a user can navigate to a page. Checking at each\n   * point if a page is navigable -- completed where the page immediately after the last completed\n   * page.\n   *\n   * Takes two parameters. The first one must be either the ClrWizardPage object or the ID of the\n   * ClrWizardPage object that you want to make the current page.\n   *\n   * The second parameter is optional and is a Boolean flag for \"lazy completion\". What this means\n   * is the Wizard will mark all pages between the current page and the page you want to navigate\n   * to as completed. This is useful for informational wizards that do not require user action,\n   * allowing an easy means for users to jump ahead.\n   *\n   * To avoid checks on navigation, use ClrWizardPage.makeCurrent() instead.\n   *\n   * @memberof WizardNavigationService\n   */\n  public goTo(pageToGoToOrId: any, lazyComplete: boolean = false) {\n    let pageToGoTo: ClrWizardPage;\n    let currentPage: ClrWizardPage;\n    let myPages: PageCollectionService;\n    let pagesToCheck: ClrWizardPage[];\n    let okayToMove: boolean;\n    let goingForward: boolean;\n    let currentPageIndex: number;\n    let goToPageIndex: number;\n\n    myPages = this.pageCollection;\n    pageToGoTo = typeof pageToGoToOrId === 'string' ? myPages.getPageById(pageToGoToOrId) : pageToGoToOrId;\n    currentPage = this.currentPage;\n\n    // no point in going to the current page. you're there already!\n    // also hard block on any navigation when stopNavigation is true\n    if (pageToGoTo === currentPage || this.wizardStopNavigation) {\n      return;\n    }\n\n    currentPageIndex = myPages.getPageIndex(currentPage);\n    goToPageIndex = myPages.getPageIndex(pageToGoTo);\n    goingForward = goToPageIndex > currentPageIndex;\n    pagesToCheck = myPages.getPageRangeFromPages(this.currentPage, pageToGoTo);\n\n    okayToMove = lazyComplete || this.canGoTo(pagesToCheck);\n\n    if (!okayToMove) {\n      return;\n    }\n\n    if (goingForward && lazyComplete) {\n      pagesToCheck.forEach((page: ClrWizardPage) => {\n        if (page !== pageToGoTo) {\n          page.completed = true;\n        }\n      });\n    } else if (!goingForward && this.forceForwardNavigation) {\n      pagesToCheck.forEach((page: ClrWizardPage) => {\n        page.completed = false;\n      });\n    }\n\n    this.currentPage = pageToGoTo;\n  }\n\n  /**\n   * Accepts a range of ClrWizardPage objects as a parameter. Performs the work of checking\n   * those objects to determine if navigation can be accomplished.\n   *\n   * @memberof WizardNavigationService\n   */\n  public canGoTo(pagesToCheck: ClrWizardPage[]): boolean {\n    let okayToMove = true;\n    const myPages = this.pageCollection;\n\n    // previous page can be important when moving because if it's completed it\n    // allows us to move to the page even if it's incomplete...\n    let previousPagePasses: boolean;\n\n    if (!pagesToCheck || pagesToCheck.length < 1) {\n      return false;\n    }\n\n    pagesToCheck.forEach((page: ClrWizardPage) => {\n      let previousPage: ClrWizardPage;\n\n      if (!okayToMove) {\n        return;\n      }\n\n      if (page.completed) {\n        // default is true. just jump out instead of complicating it.\n        return;\n      }\n\n      // so we know our page is not completed...\n      previousPage = myPages.getPageIndex(page) > 0 ? myPages.getPreviousPage(page) : null;\n      previousPagePasses = previousPage === null || previousPage.completed === true;\n\n      // we are false if not the current page AND previous page is not completed\n      // (but must have a previous page)\n      if (!page.current && !previousPagePasses) {\n        okayToMove = false;\n      }\n      // falls through to true as default\n    });\n\n    return okayToMove;\n  }\n\n  /**\n   * Looks through the collection of pages to find the first one that is incomplete\n   * and makes that page the current/active page.\n   *\n   * @memberof WizardNavigationService\n   */\n  public setLastEnabledPageCurrent(): void {\n    const allPages: ClrWizardPage[] = this.pageCollection.pagesAsArray;\n    let lastCompletedPageIndex: number = null;\n\n    allPages.forEach((page: ClrWizardPage, index: number) => {\n      if (page.completed) {\n        lastCompletedPageIndex = index;\n      }\n    });\n\n    if (lastCompletedPageIndex === null) {\n      // always is at least the first item...\n      lastCompletedPageIndex = 0;\n    } else if (lastCompletedPageIndex + 1 < allPages.length) {\n      lastCompletedPageIndex = lastCompletedPageIndex + 1;\n    }\n\n    this.currentPage = allPages[lastCompletedPageIndex];\n  }\n\n  /**\n   * Finds the first page in the collection of pages and makes that page the\n   * current/active page.\n   *\n   * @memberof WizardNavigationService\n   */\n  public setFirstPageCurrent(): void {\n    this.currentPage = this.pageCollection.pagesAsArray[0];\n  }\n\n  /**\n   * Updates the stepnav on the left side of the wizard when pages are dynamically\n   * added or removed from the collection of pages.\n   *\n   * @memberof WizardNavigationService\n   */\n  public updateNavigation(): void {\n    let toSetCurrent: ClrWizardPage;\n    let currentPageRemoved: boolean;\n\n    this.pageCollection.updateCompletedStates();\n\n    currentPageRemoved = this.pageCollection.pagesAsArray.indexOf(this.currentPage) < 0;\n    if (currentPageRemoved) {\n      toSetCurrent = this.pageCollection.findFirstIncompletePage();\n      this.currentPage = toSetCurrent;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, QueryList } from '@angular/core';\nimport { ClrWizardHeaderAction } from '../wizard-header-action';\nimport { WizardNavigationService } from './wizard-navigation.service';\n\n@Injectable()\nexport class HeaderActionService {\n  // this service communicates information about the presence/display of header actions\n  // across the wizard\n\n  constructor(public navService: WizardNavigationService) {}\n\n  public wizardHeaderActions: QueryList<ClrWizardHeaderAction>;\n\n  public get wizardHasHeaderActions(): boolean {\n    const wizardHdrActions = this.wizardHeaderActions;\n    if (!wizardHdrActions) {\n      return false;\n    }\n    return wizardHdrActions.toArray().length > 0;\n  }\n\n  public get currentPageHasHeaderActions(): boolean {\n    return this.navService.currentPage ? this.navService.currentPage.hasHeaderActions : false;\n  }\n\n  public get showWizardHeaderActions(): boolean {\n    return !this.currentPageHasHeaderActions && this.wizardHasHeaderActions;\n  }\n\n  public get displayHeaderActionsWrapper(): boolean {\n    return this.currentPageHasHeaderActions || this.wizardHasHeaderActions;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\n\nlet wizardHeaderActionIndex = 0;\n\n@Component({\n  selector: 'clr-wizard-header-action',\n  template: `\n        <button \n            type=\"button\"\n            class=\"btn clr-wizard-header-action btn-link\"\n            [id]=\"id\"\n            [class.disabled]=\"disabled\"\n            (click)=\"click()\"\n            [title]=\"title\">\n            <ng-content></ng-content>\n        </button>\n    `,\n  host: { class: 'clr-wizard-header-action-wrapper' },\n})\nexport class ClrWizardHeaderAction {\n  // title is explanatory text added to the header action\n  @Input('title') title: string = '';\n\n  // If our host has an ID attribute, we use this instead of our index.\n  @Input('id') _id: string = (wizardHeaderActionIndex++).toString();\n\n  public get id(): string {\n    return `clr-wizard-header-action-${this._id}`;\n  }\n\n  @Input('clrWizardHeaderActionDisabled') public disabled: boolean = false;\n\n  @Output('actionClicked') headerActionClicked: EventEmitter<string> = new EventEmitter(false);\n\n  click(): void {\n    if (this.disabled) {\n      return;\n    }\n\n    // passing the header action id allows users to have one method that\n    // routes to many different actions based on the type of header action\n    // clicked. this is further aided by users being able to specify ids\n    // for their header actions.\n    this.headerActionClicked.emit(this._id);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, TemplateRef } from '@angular/core';\n\n@Directive({ selector: '[clrPageButtons]' })\nexport class ClrWizardPageButtons {\n  constructor(public pageButtonsTemplateRef: TemplateRef<any>) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, TemplateRef } from '@angular/core';\n\n@Directive({ selector: '[clrPageHeaderActions]' })\nexport class ClrWizardPageHeaderActions {\n  constructor(public pageHeaderActionsTemplateRef: TemplateRef<any>) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, TemplateRef } from '@angular/core';\n\n@Directive({ selector: '[clrPageNavTitle]' })\nexport class ClrWizardPageNavTitle {\n  constructor(public pageNavTitleTemplateRef: TemplateRef<any>) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, TemplateRef } from '@angular/core';\n\n@Directive({ selector: '[clrPageTitle]' })\nexport class ClrWizardPageTitle {\n  constructor(public pageTitleTemplateRef: TemplateRef<any>) {}\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, EventEmitter, Input, OnInit, Output, TemplateRef } from '@angular/core';\n\nimport { ButtonHubService } from './providers/button-hub.service';\nimport { PageCollectionService } from './providers/page-collection.service';\nimport { WizardNavigationService } from './providers/wizard-navigation.service';\nimport { ClrWizardPageButtons } from './wizard-page-buttons';\nimport { ClrWizardPageHeaderActions } from './wizard-page-header-actions';\nimport { ClrWizardPageNavTitle } from './wizard-page-navtitle';\nimport { ClrWizardPageTitle } from './wizard-page-title';\n\nlet wizardPageIndex = 0;\n\n/**\n * The ClrWizardPage component is responsible for displaying the content of each step\n * in the wizard workflow.\n *\n * ClrWizardPage component has hooks into the navigation service (ClrWizardPage.navService),\n * page collection (ClrWizardPage.pageCollection), and button service\n * (ClrWizardPage.buttonService). These three providers are shared across the components\n * within each instance of a Wizard.\n *\n */\n@Component({\n  selector: 'clr-wizard-page',\n  template: '<ng-content></ng-content>',\n  host: {\n    '[id]': 'id',\n    role: 'tabpanel',\n    '[attr.aria-hidden]': '!current',\n    '[attr.aria-labelledby]': 'stepItemId',\n    '[class.active]': 'current',\n    '[class.clr-wizard-page]': 'true',\n  },\n})\nexport class ClrWizardPage implements OnInit {\n  /**\n   * Creates an instance of ClrWizardPage.\n   *\n   * @memberof WizardPage\n   */\n  constructor(\n    private navService: WizardNavigationService,\n    public pageCollection: PageCollectionService,\n    public buttonService: ButtonHubService\n  ) {}\n\n  /**\n   * Contains a reference to the page title which is used for a number\n   * of different tasks for display in the wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @ContentChild(ClrWizardPageTitle, { static: true })\n  public pageTitle: ClrWizardPageTitle;\n\n  /**\n   * Contains a reference to the desired title for the page's step in the\n   * navigation on the left side of the wizard. Can be projected to change the\n   * navigation link's text.\n   *\n   * If not defined, then ClrWizardPage.pageTitle will be displayed in the stepnav.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @ContentChild(ClrWizardPageNavTitle, { static: true })\n  public pageNavTitle: ClrWizardPageNavTitle;\n\n  /**\n   * Contains a reference to the buttons defined within the page. If not defined,\n   * the wizard defaults to the set of buttons defined as a direct child of the\n   * wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @ContentChild(ClrWizardPageButtons, { static: true })\n  public _buttons: ClrWizardPageButtons;\n\n  /**\n   * Contains a reference to the header actions defined within the page. If not defined,\n   * the wizard defaults to the set of header actions defined as a direct child of the\n   * wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @ContentChild(ClrWizardPageHeaderActions, { static: true })\n  public _headerActions: ClrWizardPageHeaderActions;\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _nextStepDisabled = false;\n\n  /**\n   * A getter that tells whether or not the wizard should be allowed\n   * to move to the next page.\n   *\n   * Useful for in-page validation because it prevents forward navigation\n   * and visibly disables the next button.\n   *\n   * Does not require that you re-implement navigation routines like you\n   * would if you were using ClrWizardPage.preventDefault or\n   * Wizard.preventDefault.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get nextStepDisabled(): boolean {\n    return this._nextStepDisabled;\n  }\n\n  /**\n   * Sets whether the page should allow forward navigation.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Input('clrWizardPageNextDisabled')\n  public set nextStepDisabled(val: boolean) {\n    const valBool = !!val;\n    if (valBool !== this._nextStepDisabled) {\n      this._nextStepDisabled = valBool;\n      this.nextStepDisabledChange.emit(valBool);\n    }\n  }\n\n  /**\n   * Emits when the value of ClrWizardPage.nextStepDisabled changes.\n   * Should emit the new value of nextStepDisabled.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageNextDisabledChange') nextStepDisabledChange: EventEmitter<boolean> = new EventEmitter();\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _previousStepDisabled = false;\n\n  /**\n   * A getter that tells whether or not the wizard should be allowed\n   * to move to the previous page.\n   *\n   * Useful for in-page validation because it prevents backward navigation\n   * and visibly disables the previous button.\n   *\n   * Does not require that you re-implement navigation routines like you\n   * would if you were using ClrWizardPage.preventDefault or\n   * Wizard.preventDefault.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get previousStepDisabled(): boolean {\n    return this._previousStepDisabled;\n  }\n\n  /**\n   * Sets whether the page should allow backward navigation.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Input('clrWizardPagePreviousDisabled')\n  public set previousStepDisabled(val: boolean) {\n    const valBool = !!val;\n    if (valBool !== this._previousStepDisabled) {\n      this._previousStepDisabled = valBool;\n      this.previousStepDisabledChange.emit(valBool);\n    }\n  }\n\n  /**\n   * Emits when the value of ClrWizardPage.previousStepDisabled changes.\n   * Should emit the new value of previousStepDisabled.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPagePreviousDisabledChange')\n  public previousStepDisabledChange: EventEmitter<boolean> = new EventEmitter();\n\n  /**\n   * Overrides all actions from the page level, so you can use an alternate function for\n   * validation or data-munging with a ClrWizardPage.onCommit (clrWizardPageOnCommit output),\n   * ClrWizardPage.onCancel (clrWizardPageOnCancel output), or one\n   * of the granular page-level button click event emitters.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Input('clrWizardPagePreventDefault') public preventDefault: boolean = false;\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _stopCancel = false;\n\n  /**\n   * A getter that retrieves whether the page is preventing the cancel action.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get stopCancel(): boolean {\n    return this._stopCancel;\n  }\n\n  /**\n   * Overrides the cancel action from the page level. Allows you to use an\n   * alternate function for validation or data-munging before cancelling the\n   * wizard when combined with the ClrWizardPage.onCancel\n   * (the clrWizardPageOnCancel output).\n   *\n   * Requires that you manually close the wizard from your host component,\n   * usually with a call to Wizard.forceNext() or wizard.next();\n   *\n   * @memberof ClrWizardPage\n   */\n  @Input('clrWizardPagePreventDefaultCancel')\n  public set stopCancel(val: boolean) {\n    const valBool = !!val;\n    if (valBool !== this._stopCancel) {\n      this._stopCancel = valBool;\n      this.stopCancelChange.emit(valBool);\n    }\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPagePreventDefaultCancelChange') stopCancelChange: EventEmitter<boolean> = new EventEmitter();\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _stopNext = false;\n\n  /**\n   * A getter that tells you whether the page is preventing the next action.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get stopNext(): boolean {\n    return this._stopNext;\n  }\n\n  /**\n   * Overrides forward navigation from the page level. Allows you to use an\n   * alternate function for validation or data-munging before moving the\n   * wizard to the next pagewhen combined with the ClrWizardPage.onCommit\n   * (clrWizardPageOnCommit) or ClrWizardPage.nextButtonClicked\n   * (clrWizardPageNext) outputs.\n   *\n   * Requires that you manually tell the wizard to navigate forward from\n   * the hostComponent, usually with a call to Wizard.forceNext() or\n   * wizard.next();\n   *\n   * @memberof ClrWizardPage\n   */\n  @Input('clrWizardPagePreventDefaultNext')\n  public set stopNext(val: boolean) {\n    const valBool = !!val;\n    if (valBool !== this._stopNext) {\n      this._stopNext = valBool;\n    }\n  }\n\n  /**\n   * An event emitter carried over from a legacy version of ClrWizardPage.\n   * Fires an event on ClrWizardPage whenever the next or finish buttons\n   * are clicked and the page is the current page of the Wizard.\n   *\n   * Note that this does not automatically emit an event when a custom\n   * button is used in place of a next or finish button.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageOnCommit') onCommit: EventEmitter<string> = new EventEmitter<string>(false);\n\n  /**\n   * Emits an event when ClrWizardPage becomes the current page of the\n   * Wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageOnLoad') onLoad: EventEmitter<string> = new EventEmitter();\n\n  /**\n   * Emits an event when the ClrWizardPage invokes the cancel routine for the wizard.\n   *\n   * Can be used in conjunction with the ClrWizardPage.stopCancel\n   * (clrWizardPagePreventDefaultCancel) or ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) inputs to implement custom cancel\n   * functionality at the page level. This is useful if you would like to do\n   * validation, save data, or warn users before cancelling the wizard.\n   *\n   * Note that this requires you to call Wizard.close() from the host component.\n   * This constitues a full replacement of the cancel functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageOnCancel') pageOnCancel: EventEmitter<ClrWizardPage> = new EventEmitter();\n\n  /**\n   * Emits an event when the finish button is clicked and the ClrWizardPage is\n   * the wizard's current page.\n   *\n   * Can be used in conjunction with the ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) input to implement custom finish\n   * functionality at the page level. This is useful if you would like to do\n   * validation, save data, or warn users before allowing them to complete\n   * the wizard.\n   *\n   * Note that this requires you to call Wizard.finish() or Wizard.forceFinish()\n   * from the host component. This combination creates a full replacement of\n   * the finish functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageFinish') finishButtonClicked: EventEmitter<ClrWizardPage> = new EventEmitter();\n\n  /**\n   * Emits an event when the previous button is clicked and the ClrWizardPage is\n   * the wizard's current page.\n   *\n   * Can be used in conjunction with the ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) input to implement custom backwards\n   * navigation at the page level. This is useful if you would like to do\n   * validation, save data, or warn users before allowing them to go\n   * backwards in the wizard.\n   *\n   * Note that this requires you to call Wizard.previous()\n   * from the host component. This combination creates a full replacement of\n   * the backwards navigation functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPagePrevious') previousButtonClicked: EventEmitter<ClrWizardPage> = new EventEmitter();\n\n  /**\n   * Emits an event when the next button is clicked and the ClrWizardPage is\n   * the wizard's current page.\n   *\n   * Can be used in conjunction with the ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) input to implement custom forwards\n   * navigation at the page level. This is useful if you would like to do\n   * validation, save data, or warn users before allowing them to go\n   * to the next page in the wizard.\n   *\n   * Note that this requires you to call Wizard.forceNext() or Wizard.next()\n   * from the host component. This combination creates a full replacement of\n   * the forward navigation functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageNext') nextButtonClicked: EventEmitter<ClrWizardPage> = new EventEmitter();\n\n  /**\n   * Emits an event when a danger button is clicked and the ClrWizardPage is\n   * the wizard's current page. By default, a danger button will act as\n   * either a \"next\" or \"finish\" button depending on if the ClrWizardPage is the\n   * last page or not.\n   *\n   * Can be used in conjunction with the ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) input to implement custom forwards\n   * or finish navigation at the page level when the danger button is clicked.\n   * This is useful if you would like to do validation, save data, or warn\n   * users before allowing them to go to the next page in the wizard or\n   * finish the wizard.\n   *\n   * Note that this requires you to call Wizard.finish(), Wizard.forceFinish(),\n   * Wizard.forceNext() or Wizard.next() from the host component. This\n   * combination creates a full replacement of the forward navigation and\n   * finish functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageDanger') dangerButtonClicked: EventEmitter<ClrWizardPage> = new EventEmitter();\n\n  /**\n   * Emits an event when a next, finish, or danger button is clicked and the\n   * ClrWizardPage is the wizard's current page.\n   *\n   * Can be used in conjunction with the ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) input to implement custom forwards\n   * or finish navigation at the page level, regardless of the type of\n   * primary button.\n   *\n   * This is useful if you would like to do validation, save data, or warn\n   * users before allowing them to go to the next page in the wizard or\n   * finish the wizard.\n   *\n   * Note that this requires you to call Wizard.finish(), Wizard.forceFinish(),\n   * Wizard.forceNext() or Wizard.next() from the host component. This\n   * combination creates a full replacement of the forward navigation and\n   * finish functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPagePrimary') primaryButtonClicked: EventEmitter<string> = new EventEmitter();\n\n  @Output('clrWizardPageCustomButton') customButtonClicked: EventEmitter<string> = new EventEmitter();\n\n  /**\n   * An input value that is used internally to generate the ClrWizardPage ID as\n   * well as the step nav item ID.\n   *\n   * Typed as any because it should be able to accept numbers as well as\n   * strings. Passing an index for wizard whose pages are created with an\n   * ngFor loop is a common use case.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Input('id') _id: any = (wizardPageIndex++).toString();\n\n  /**\n   * A read-only getter that generates an ID string for the wizard page from\n   * either the value passed to the ClrWizardPage \"id\" input or a wizard page\n   * counter shared across all wizard pages in the application.\n   *\n   * Note that the value passed into the ID input Will be prefixed with\n   * \"clr-wizard-page-\".\n   *\n   * @readonly\n   *\n   * @memberof ClrWizardPage\n   */\n  public get id() {\n    // covers things like null, undefined, false, and empty string\n    // while allowing zero to pass\n    const idIsNonZeroFalsy = !this._id && this._id !== 0;\n\n    // in addition to non-zero falsy we also want to make sure _id is not a negative\n    // number.\n    if (idIsNonZeroFalsy || this._id < 0) {\n      // guard here in the event that input becomes undefined or null by accident\n      this._id = (wizardPageIndex++).toString();\n    }\n    return `clr-wizard-page-${this._id}`;\n  }\n\n  /**\n   * A read-only getter that serves as a convenience for those who would rather\n   * not think in the terms of !ClrWizardPage.nextStepDisabled. For some use cases,\n   * ClrWizardPage.readyToComplete is more logical and declarative.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get readyToComplete(): boolean {\n    return !this.nextStepDisabled;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _complete: boolean = false;\n\n  /**\n   * A page is marked as completed if it is both readyToComplete and completed,\n   * as in the next or finish action has been executed while this page was current.\n   *\n   * Note there is and open question about how to handle pages that are marked\n   * complete but who are no longer readyToComplete. This might indicate an error\n   * state for the ClrWizardPage. Currently, the wizard does not acknowledge this state\n   * and only returns that the page is incomplete.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get completed(): boolean {\n    return this._complete && this.readyToComplete;\n\n    // FOR V2: UNWIND COMPLETED, READYTOCOMPLETE, AND ERRORS\n    // SUCH THAT ERRORS IS ITS OWN INPUT. IF A STEP IS\n    // INCOMPLETE AND ERRORED, ERRORED WILL NOT SHOW.\n    // FIRST QUESTION: AM I GREY OR COLORED?\n    // SECOND QUESTION: AM I GREEN OR RED?\n  }\n\n  /**\n   * A ClrWizardPage can be manually set to completed using this boolean setter.\n   * It is recommended that users rely on the convenience functions in the wizard\n   * and navigation service instead of manually setting pages completion state.\n   *\n   * @memberof ClrWizardPage\n   */\n  public set completed(value: boolean) {\n    this._complete = value;\n  }\n\n  /**\n   * Checks with the navigation service to see if it is the current page.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get current(): boolean {\n    return this.navService.currentPage === this;\n  }\n\n  public get disabled(): boolean {\n    return !this.enabled;\n  }\n\n  /**\n   * A read-only getter that returns whether or not the page is navigable\n   * in the wizard. A wizard page can be navigated to if it is completed\n   * or the page before it is completed.\n   *\n   * This getter handles the logic for enabling or disabling the links in\n   * the step nav on the left Side of the wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get enabled(): boolean {\n    return this.current || this.completed || this.previousCompleted;\n  }\n\n  /**\n   * A read-only getter that returns whether or not the page before this\n   * ClrWizardPage is completed. This is useful for determining whether or not\n   * a page is navigable if it is not current or already completed.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get previousCompleted(): boolean {\n    const previousPage = this.pageCollection.getPreviousPage(this);\n\n    if (!previousPage) {\n      return true;\n    }\n\n    return previousPage.completed;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get title(): TemplateRef<any> {\n    return this.pageTitle.pageTitleTemplateRef;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get navTitle(): TemplateRef<any> {\n    if (this.pageNavTitle) {\n      return this.pageNavTitle.pageNavTitleTemplateRef;\n    }\n    return this.pageTitle.pageTitleTemplateRef;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get headerActions(): TemplateRef<any> {\n    if (!this._headerActions) {\n      return;\n    }\n    return this._headerActions.pageHeaderActionsTemplateRef;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get hasHeaderActions(): boolean {\n    return !!this._headerActions;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get buttons(): TemplateRef<any> {\n    if (!this._buttons) {\n      return;\n    }\n    return this._buttons.pageButtonsTemplateRef;\n  }\n\n  /**\n   * A read-only getter that returns a boolean that says whether or\n   * not the ClrWizardPage includes buttons. Used to determine if the\n   * Wizard should override the default button set defined as\n   * its direct children.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get hasButtons(): boolean {\n    return !!this._buttons;\n  }\n\n  /**\n   * Uses the nav service to make the ClrWizardPage the current page in the\n   * wizard. Bypasses all checks but still emits the ClrWizardPage.onLoad\n   * (clrWizardPageOnLoad) output.\n   *\n   * In most cases, it is better to use the default navigation functions\n   * in Wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public makeCurrent(): void {\n    this.navService.currentPage = this;\n  }\n\n  /**\n   * Links the nav service and establishes the current page if one is not defined.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public ngOnInit(): void {\n    const navService = this.navService;\n    if (!navService.currentPage && !navService.navServiceLoaded) {\n      this.makeCurrent();\n      this.navService.navServiceLoaded = true;\n    }\n  }\n\n  /**\n   * A read-only getter that returns the id used by the step nav item associated with the page.\n   *\n   * ClrWizardPage needs this ID string for aria information.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get stepItemId(): string {\n    return this.pageCollection.getStepItemIdForPage(this);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  DoCheck,\n  ElementRef,\n  EventEmitter,\n  Input,\n  IterableDiffers,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ButtonHubService } from './providers/button-hub.service';\nimport { HeaderActionService } from './providers/header-actions.service';\nimport { PageCollectionService } from './providers/page-collection.service';\n// providers\nimport { WizardNavigationService } from './providers/wizard-navigation.service';\nimport { ClrWizardHeaderAction } from './wizard-header-action';\nimport { ClrWizardPage } from './wizard-page';\n\n/**\n *\n * The Wizard component\n *\n */\n@Component({\n  selector: 'clr-wizard',\n  providers: [WizardNavigationService, PageCollectionService, ButtonHubService, HeaderActionService],\n  templateUrl: './wizard.html',\n  host: {\n    '[class.clr-wizard]': 'true',\n    '[class.wizard-md]': \"size == 'md'\",\n    '[class.wizard-lg]': \"size == 'lg'\",\n    '[class.wizard-xl]': \"size == 'xl'\",\n    '[class.lastPage]': 'navService.currentPageIsLast',\n  },\n})\nexport class ClrWizard implements OnInit, OnDestroy, AfterContentInit, DoCheck {\n  /**\n   * Creates an instance of Wizard.\n   *\n   * @memberof Wizard\n   *\n   */\n  constructor(\n    public navService: WizardNavigationService,\n    public pageCollection: PageCollectionService,\n    public buttonService: ButtonHubService,\n    public headerActionService: HeaderActionService,\n    private elementRef: ElementRef,\n    differs: IterableDiffers\n  ) {\n    this.goNextSubscription = this.navService.movedToNextPage.subscribe(() => {\n      this.onMoveNext.emit();\n    });\n\n    this.goPreviousSubscription = this.navService.movedToPreviousPage.subscribe(() => {\n      this.onMovePrevious.emit();\n    });\n\n    this.cancelSubscription = this.navService.notifyWizardCancel.subscribe(() => {\n      this.checkAndCancel();\n    });\n\n    this.wizardFinishedSubscription = this.navService.wizardFinished.subscribe(() => {\n      if (!this.stopNext) {\n        this.forceFinish();\n      }\n      this.wizardFinished.emit();\n    });\n\n    this.differ = differs.find([]).create(null);\n  }\n\n  /**\n   * Used for marking when the collection of wizard pages has been added to or deleted from\n   *\n   * @memberof Wizard\n   *\n   */\n  differ: any;\n\n  /**\n   * Contains the size defined by the clrWizardSize input\n   *\n   * @memberof Wizard\n   *\n   */\n  @Input('clrWizardSize') size: string = 'xl';\n\n  /**\n   * Resets page completed states when navigating backwards. Can be set using\n   * the clrWizardForceForwardNavigation input.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Input('clrWizardForceForwardNavigation')\n  set forceForward(value: boolean) {\n    this._forceForward = !!value;\n    this.navService.forceForwardNavigation = value;\n  }\n  private _forceForward: boolean = false;\n  get forceForward(): boolean {\n    return this._forceForward;\n  }\n\n  /**\n   * Tells the modal part of the wizard whether it should have a close \"X\"\n   * in the top right corner. Set with the clrWizardClosable input.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Input('clrWizardClosable') closable: boolean = true;\n\n  /**\n   * Toggles open/close of the wizard component. Set using the clrWizardOpen\n   * input.\n   *\n   * @memberof Wizard\n   *\n   */\n  public _open: boolean = false;\n  @Input('clrWizardOpen')\n  set clrWizardOpen(open: boolean) {\n    if (open) {\n      this.buttonService.buttonsReady = true;\n    }\n    this._open = open;\n  }\n\n  /**\n   * Emits when the wizard is opened or closed. Emits through the\n   * clrWizardOpenChange output. Works in conjunction with the\n   * clrWizardOpen binding so you can use...\n   *\n   * <clr-wizard [(clrWizardOpen)]=\"blah\"\n   * ...or...\n   * <clr-wizard [clrWizardOpen]=\"something\" (clrWizardOpenChange)=\"doSomethign($event)\">\n   *\n   * ...for two-way binding.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Output('clrWizardOpenChange') _openChanged: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  /**\n   * Emits when the wizard is canceled. Can be observed through the clrWizardOnCancel\n   * output.\n   *\n   * Can be combined with the clrWizardPreventDefaultCancel input to create\n   * wizard-level custom cancel routines.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Output('clrWizardOnCancel') onCancel: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * Emits when the wizard is completed. Can be observed through the clrWizardOnFinish\n   * output.\n   *\n   * Can be combined with the clrWizardPreventDefaultNext input to create\n   * wizard-level custom completion routines.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Output('clrWizardOnFinish') wizardFinished: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * Emits when the wizard is reset. See .reset(). Can be observed through\n   * the clrWizardOnReset output.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Output('clrWizardOnReset') onReset: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * A QueryList of the pages in the wizard. Note that a QueryList is sort of\n   * like an Array but not really. Note also that pages does not contain\n   * WizardPages that have been removed with an ngIf.\n   *\n   * Most interactions with a ClrWizard's pages are more easily done using the\n   * helper function in the PageCollectionService, accessible from the\n   * ClrWizard through ClrWizard.pageCollection.\n   *\n   * @memberof Wizard\n   *\n   */\n  @ContentChildren(ClrWizardPage) public pages: QueryList<ClrWizardPage>;\n\n  /**\n   * A QueryList of the header actions defined at the ClrWizard level. Does not\n   * contain header actions defined at the page level. Mostly used by other functionality\n   * that needs to either know if the ClrWizard has header actions or needs to stamp them\n   * somewhere.\n   *\n   * Could be useful if you needed to locate and programmatically activate a specific\n   * header action. But this is probably easier to do by invoking the header action's\n   * event handler in your host component.\n   *\n   * @memberof Wizard\n   *\n   */\n  @ContentChildren(ClrWizardHeaderAction) public headerActions: QueryList<ClrWizardHeaderAction>;\n\n  /**\n   * Emits when the current page has changed. Can be observed through the clrWizardCurrentPageChanged\n   * output. This can happen on .next() or .previous().\n   * Useful for non-blocking validation.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Output('clrWizardCurrentPageChanged') currentPageChanged: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * Emits when the wizard moves to the next page. Can be observed through the clrWizardOnNext\n   * output.\n   *\n   * Can be combined with the clrWizardPreventDefaultNext input to create\n   * wizard-level custom navigation routines, which are useful for validation.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Output('clrWizardOnNext') onMoveNext: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * Emits when the wizard moves to the previous page. Can be observed through the\n   * clrWizardOnPrevious output.\n   *\n   * Can be useful for validation.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Output('clrWizardOnPrevious') onMovePrevious: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * Prevents ClrWizard from moving to the next page or closing itself on finishing.\n   * Set using the clrWizardPreventDefaultNext input.\n   *\n   * Note that using stopNext will require you to create your own calls to\n   * .next() and .finish() in your host component to make the ClrWizard work as\n   * expected.\n   *\n   * Primarily used for validation.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Input('clrWizardPreventDefaultNext')\n  set stopNext(value: boolean) {\n    this._stopNext = !!value;\n    this.navService.wizardHasAltNext = value;\n  }\n  private _stopNext: boolean = false;\n  get stopNext(): boolean {\n    return this._stopNext;\n  }\n\n  /**\n   * Prevents ClrWizard from closing when the cancel button or close \"X\" is clicked.\n   * Set using the clrWizardPreventDefaultCancel input.\n   *\n   * Note that using stopCancel will require you to create your own calls to\n   * .close() in your host component to make the ClrWizard work as expected.\n   *\n   * Useful for doing checks or prompts before closing a ClrWizard.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Input('clrWizardPreventDefaultCancel')\n  set stopCancel(value: boolean) {\n    this._stopCancel = !!value;\n    this.navService.wizardHasAltCancel = value;\n  }\n  private _stopCancel: boolean = false;\n  get stopCancel(): boolean {\n    return this._stopCancel;\n  }\n\n  /**\n   * Prevents ClrWizard from performing any form of navigation away from the current\n   * page. Set using the clrWizardPreventNavigation input.\n   *\n   * Note that stopNavigation is meant to freeze the wizard in place, typically\n   * during a long validation or background action where you want the wizard to\n   * display loading content but not allow the user to execute navigation in\n   * the stepnav, close X, or the  back, finish, or next buttons.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Input('clrWizardPreventNavigation')\n  set stopNavigation(value: boolean) {\n    this._stopNavigation = !!value;\n    this.navService.wizardStopNavigation = value;\n  }\n  private _stopNavigation: boolean = false;\n  get stopNavigation(): boolean {\n    return this._stopNavigation;\n  }\n\n  /**\n   * Prevents clicks on the links in the stepnav from working.\n   *\n   * A more granular bypassing of navigation which can be useful when your\n   * ClrWizard is in a state of completion and you don't want users to be\n   * able to jump backwards and change things.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Input('clrWizardDisableStepnav')\n  set disableStepnav(value: boolean) {\n    this._disableStepnav = !!value;\n    this.navService.wizardDisableStepnav = value;\n  }\n  private _disableStepnav: boolean = false;\n  get disableStepnav(): boolean {\n    return this._disableStepnav;\n  }\n\n  /**\n   * Used only to communicate to the underlying modal that animations are not\n   * wanted. Primary use is for the display of static/inline wizards.\n   *\n   * Set using clrWizardPreventModalAnimation input. But you should never set it.\n   *\n   * @memberof Wizard\n   *\n   */\n  @Input('clrWizardPreventModalAnimation') _stopModalAnimations: boolean = false;\n  public get stopModalAnimations(): string {\n    if (this._stopModalAnimations) {\n      return 'true';\n    }\n    return 'false';\n  }\n\n  public ngOnInit(): void {\n    this.currentPageSubscription = this.navService.currentPageChanged.subscribe((page: ClrWizardPage) => {\n      this.currentPageChanged.emit();\n    });\n  }\n\n  private goNextSubscription: Subscription;\n  private goPreviousSubscription: Subscription;\n  private cancelSubscription: Subscription;\n  private currentPageSubscription: Subscription;\n  private wizardFinishedSubscription: Subscription;\n\n  ngOnDestroy() {\n    if (this.goNextSubscription) {\n      this.goNextSubscription.unsubscribe();\n    }\n    if (this.goPreviousSubscription) {\n      this.goPreviousSubscription.unsubscribe();\n    }\n    if (this.cancelSubscription) {\n      this.cancelSubscription.unsubscribe();\n    }\n    if (this.currentPageSubscription) {\n      this.currentPageSubscription.unsubscribe();\n    }\n    if (this.wizardFinishedSubscription) {\n      this.wizardFinishedSubscription.unsubscribe();\n    }\n  }\n\n  /**\n   * Sets up references that are needed by the providers.\n   *\n   * @name ngAfterContentInit\n   * @memberof Wizard\n   *\n   */\n  public ngAfterContentInit() {\n    this.pageCollection.pages = this.pages;\n    this.headerActionService.wizardHeaderActions = this.headerActions;\n\n    // Only trigger buttons ready if default is open (inlined)\n    if (this._open) {\n      this.buttonService.buttonsReady = true;\n    }\n  }\n\n  /**\n   * Used for keeping track of when pages are added or removed from this.pages\n   *\n   * @name ngDoCheck\n   * @memberof Wizard\n   *\n   */\n  public ngDoCheck() {\n    const changes = this.differ.diff(this.pages);\n    if (changes) {\n      changes.forEachAddedItem((r: any) => {\n        this.navService.updateNavigation();\n      });\n      changes.forEachRemovedItem((r: any) => {\n        this.navService.updateNavigation();\n      });\n    }\n  }\n\n  /**\n   * Convenient property for determining whether a wizard is static/in-line or not.\n   *\n   * @name isStatic\n   *\n   * @memberof Wizard\n   *\n   */\n  public get isStatic(): boolean {\n    return this.elementRef.nativeElement.classList.contains('clr-wizard--inline');\n  }\n\n  /**\n   * As a getter, current page is a convenient way to retrieve the current page from\n   * the WizardNavigationService.\n   *\n   * As a setter, current page accepts a ClrWizardPage and passes it to WizardNavigationService\n   * to be made the current page. currentPage performs checks to make sure it can navigate\n   * to the designated page.\n   *\n   * @name currentPage\n   *\n   * @memberof Wizard\n   *\n   */\n  public get currentPage(): ClrWizardPage {\n    return this.navService.currentPage;\n  }\n  public set currentPage(page: ClrWizardPage) {\n    this.navService.goTo(page, true);\n  }\n\n  /**\n   * Convenient property for determining if the current page is the last page of\n   * the wizard.\n   *\n   * @name isLast\n   *\n   * @memberof Wizard\n   *\n   */\n  public get isLast(): boolean {\n    return this.navService.currentPageIsLast;\n  }\n\n  /**\n   * Convenient property for determining if the current page is the first page of\n   * the wizard.\n   *\n   * @name isFirst\n   *\n   * @memberof Wizard\n   *\n   */\n  public get isFirst(): boolean {\n    return this.navService.currentPageIsFirst;\n  }\n\n  /**\n   * Performs the actions needed to open the wizard. If there is no current\n   * page defined, sets the first page in the wizard to be current.\n   *\n   * @name open\n   * @memberof ClrWizard\n   */\n  public open(): void {\n    this._open = true;\n\n    if (!this.currentPage) {\n      this.navService.setFirstPageCurrent();\n    }\n\n    // Only render buttons when wizard is opened, to avoid chocolate errors\n    this.buttonService.buttonsReady = true;\n\n    this._openChanged.emit(true);\n  }\n\n  /**\n   * Does the work involved with closing the wizard. Call this directly instead\n   * of cancel() to implement alternative cancel functionality.\n   *\n   * @name close\n   * @memberof ClrWizard\n   */\n  public close(): void {\n    if (this.stopNavigation) {\n      return;\n    }\n\n    this._open = false;\n    this._openChanged.emit(false);\n  }\n\n  /**\n   * Convenient function that can be used to open and close the wizard. It operates\n   * by checking a Boolean parameter. If true, the wizard is opened. If false,\n   * it is closed.\n   *\n   * There is no default value for this parameter, so by default the wizard will\n   * close if invoked with no parameter.\n   *\n   * @name toggle\n   *\n   * @memberof ClrWizard\n   */\n  public toggle(value: boolean): void {\n    if (value) {\n      this.open();\n    } else {\n      this.close();\n    }\n  }\n\n  /**\n   * Moves the wizard to the previous page.\n   *\n   * @name previous\n   * @memberof ClrWizard\n   */\n  public previous(): void {\n    this.navService.previous();\n  }\n\n  /**\n   * Includes a Boolean parameter that will skip checks and event emissions.\n   * If true, the wizard will move to the next page regardless of the state of\n   * its current page. This is useful for alternative navigation where event\n   * emissions have already been done and firing them again may cause an event loop.\n   *\n   * Generally, with alternative navigation, users are supplying their own checks\n   * and validation. So there is no point in superseding their business logic\n   * with our default behavior.\n   *\n   * If false, the wizard will execute default checks and emit events as normal.\n   * This is useful for custom buttons or programmatic workflows that are not\n   * executing the wizards default checks and emissions. It is another way to\n   * navigate without having to rewrite the wizards default functionality\n   * from scratch.\n   *\n   * By default, next() does not execute event emissions or checks because the\n   * 80% case is that this method will be called as part of an alternative\n   * navigation with clrWizardPreventDefaultNext.\n   *\n   * @name next\n   * @memberof ClrWizard\n   */\n  public next(skipChecksAndEmits: boolean = true): void {\n    if (skipChecksAndEmits) {\n      this.forceNext();\n    } else {\n      this.navService.next();\n    }\n  }\n\n  /**\n   * Includes a Boolean parameter that will skip checks and event emissions.\n   * If true, the wizard will  complete and close regardless of the state of\n   * its current page. This is useful for alternative navigation where event\n   * emissions have already been done and firing them again may cause an event loop.\n   *\n   * If false, the wizard will execute default checks and emit events before\n   * completing and closing.\n   *\n   * By default, finish() does not execute event emissions or checks because the\n   * 80% case is that this method will be called as part of an alternative\n   * navigation with clrWizardPreventDefaultNext.\n   *\n   * @name finish\n   * @memberof ClrWizard\n   */\n  public finish(skipChecksAndEmits: boolean = true): void {\n    if (skipChecksAndEmits) {\n      this.forceFinish();\n    } else {\n      this.navService.finish();\n    }\n  }\n\n  /**\n   * Does the work of finishing up the wizard and closing it but doesn't do the\n   * checks and emissions that other paths do. Good for a last step in an\n   * alternate workflow.\n   *\n   * Does the same thing as calling ClrWizard.finish(true) or ClrWizard.finish()\n   * without a parameter.\n   *\n   * @name forceFinish\n   * @memberof ClrWizard\n   */\n  public forceFinish(): void {\n    if (this.stopNavigation) {\n      return;\n    }\n\n    this.close();\n  }\n\n  /**\n   * Does the work of moving the wizard to the next page without the\n   * checks and emissions that other paths do. Good for a last step in an\n   * alternate workflow.\n   *\n   * Does the same thing as calling ClrWizard.next(true) or ClrWizard.next()\n   * without a parameter.\n   *\n   * @name forceNext\n   * @memberof ClrWizard\n   */\n  public forceNext(): void {\n    this.navService.forceNext();\n  }\n\n  /**\n   * Initiates the functionality that cancels and closes the wizard.\n   *\n   * Do not use this for an override of the cancel the functionality\n   * with clrWizardPreventDefaultCancel, clrWizardPreventPageDefaultCancel,\n   * or clrWizardPagePreventDefault because it will initiate the same checks\n   * and event emissions that invoked your event handler.\n   *\n   * Use ClrWizard.close() instead.\n   *\n   * @name cancel\n   * @memberof ClrWizard\n   */\n  public cancel(): void {\n    this.navService.cancel();\n  }\n\n  /**\n   * Overrides behavior of the underlying modal to avoid collisions with\n   * alternative cancel functionality.\n   *\n   * In most cases, use ClrWizard.cancel() instead.\n   *\n   * @name modalCancel\n   * @memberof ClrWizard\n   */\n  public modalCancel(): void {\n    this.checkAndCancel();\n  }\n\n  /**\n   * Checks for alternative cancel flows defined at the current page or\n   * wizard level. Performs a canceled if not. Emits events that initiate\n   * the alternative cancel outputs (clrWizardPageOnCancel and\n   * clrWizardOnCancel) if so.\n   *\n   * @name checkAndCancel\n   * @memberof ClrWizard\n   */\n  public checkAndCancel(): void {\n    const currentPage = this.currentPage;\n    const currentPageHasOverrides = currentPage.stopCancel || currentPage.preventDefault;\n\n    if (this.stopNavigation) {\n      return;\n    }\n\n    currentPage.pageOnCancel.emit();\n    if (!currentPageHasOverrides) {\n      this.onCancel.emit();\n    }\n\n    if (!this.stopCancel && !currentPageHasOverrides) {\n      this.close();\n    }\n  }\n\n  /**\n   * Accepts the wizard ID as a string parameter and calls to WizardNavigationService\n   * to navigate to the page with that ID. Navigation will invoke the wizards default\n   * checks and event emissions.\n   *\n   * Probably less useful than calling directly to ClrWizard.navService.goTo() because the\n   * nav service method can accept either a string ID or a page object.\n   *\n   * The format of the expected ID parameter can be found in the return of the\n   * ClrWizardPage.id getter, usually prefixed with clr-wizard-page- and then either a\n   * numeric ID or the ID specified for the ClrWizardPage components id input.\n   *\n   * @name goTo\n   *\n   * @memberof ClrWizard\n   */\n  public goTo(pageId: string): void {\n    if (!pageId) {\n      return;\n    }\n\n    this.navService.goTo(pageId);\n  }\n\n  /**\n   * A convenience function that calls to PageCollectionService.reset() and emits the\n   * ClrWizard.onReset event.\n   *\n   * Reset sets all WizardPages to incomplete and sets the first page in the ClrWizard to\n   * be the current page, essentially resetting the wizard navigation.\n   *\n   * Users would then use the onReset event to reset the data or model in their\n   * host component.\n   *\n   * It could be useful to call a reset without firing the onReset event. To do this,\n   * just call ClrWizard.pageCollection.reset() directly.\n   *\n   * @name reset\n   * @memberof ClrWizard\n   */\n  public reset() {\n    this.pageCollection.reset();\n    this.onReset.next();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\n\nimport { ButtonHubService } from './providers/button-hub.service';\nimport { WizardNavigationService } from './providers/wizard-navigation.service';\n\nexport const DEFAULT_BUTTON_TYPES: any = {\n  cancel: 'cancel',\n  previous: 'previous',\n  next: 'next',\n  finish: 'finish',\n  danger: 'danger',\n};\n\nexport const CUSTOM_BUTTON_TYPES: any = {\n  cancel: 'custom-cancel',\n  previous: 'custom-previous',\n  next: 'custom-next',\n  finish: 'custom-finish',\n  danger: 'custom-danger',\n};\n\n@Component({\n  selector: 'clr-wizard-button',\n  template: `\n        <button\n            type=\"button\"\n            class=\"btn clr-wizard-btn\"\n            [class.btn-link]=\"isCancel\"\n            [class.clr-wizard-btn--tertiary]=\"isCancel\"\n            [class.btn-outline]=\"isPrevious\"\n            [class.clr-wizard-btn--secondary]=\"isPrevious\"\n            [class.btn-primary]=\"isPrimaryAction\"\n            [class.clr-wizard-btn--primary]=\"isPrimaryAction\"\n            [class.btn-success]=\"isFinish\"\n            [class.btn-danger]=\"isDanger\"\n            [class.disabled]=\"isDisabled\"\n            [attr.disabled]=\"_disabledAttribute\"\n            (click)=\"click()\">\n            <ng-content></ng-content>\n        </button>\n    `,\n  host: { class: 'clr-wizard-btn-wrapper', '[attr.aria-hidden]': 'isHidden' },\n  styles: ['[aria-hidden=\"true\"] { display: none; }'],\n})\nexport class ClrWizardButton {\n  @Input('type') public type: string = '';\n\n  @Input('clrWizardButtonDisabled') public disabled: boolean = false;\n\n  @Input('clrWizardButtonHidden') public hidden: boolean = false;\n\n  // EventEmitter which is emitted when a button is clicked.\n  @Output('clrWizardButtonClicked') wasClicked: EventEmitter<string> = new EventEmitter<string>(false);\n\n  constructor(public navService: WizardNavigationService, public buttonService: ButtonHubService) {}\n\n  private checkDefaultAndCustomType(valueToCheck: string = '', typeToLookUp: string) {\n    if (DEFAULT_BUTTON_TYPES[typeToLookUp] === valueToCheck) {\n      return true;\n    }\n    if (CUSTOM_BUTTON_TYPES[typeToLookUp] === valueToCheck) {\n      return true;\n    }\n    return false;\n  }\n\n  public get isCancel(): boolean {\n    return this.checkDefaultAndCustomType(this.type, 'cancel');\n  }\n\n  public get isNext(): boolean {\n    return this.checkDefaultAndCustomType(this.type, 'next');\n  }\n\n  public get isPrevious(): boolean {\n    return this.checkDefaultAndCustomType(this.type, 'previous');\n  }\n\n  public get isFinish(): boolean {\n    return this.checkDefaultAndCustomType(this.type, 'finish');\n  }\n\n  public get isDanger(): boolean {\n    return this.checkDefaultAndCustomType(this.type, 'danger');\n  }\n\n  public get isPrimaryAction(): boolean {\n    return this.isNext || this.isDanger || this.isFinish;\n  }\n\n  public get _disabledAttribute(): string | null {\n    if (this.isDisabled) {\n      return '';\n    }\n    return null;\n  }\n\n  public get isDisabled(): boolean {\n    // dealing with negatives here. cognitively easier to think of it like this...\n    const disabled = true;\n    const nav = this.navService;\n    const page = this.navService.currentPage;\n\n    // Ensure we don't change the response until buttons are ready to avoid chocolate\n    if (!this.buttonService.buttonsReady) {\n      return !disabled;\n    }\n\n    if (this.disabled || nav.wizardStopNavigation || !page) {\n      return true;\n    }\n\n    if (this.isCancel) {\n      return !disabled;\n    }\n\n    if (this.isPrevious && (nav.currentPageIsFirst || page.previousStepDisabled)) {\n      return disabled;\n    }\n\n    if (this.isDanger && !page.readyToComplete) {\n      return disabled;\n    }\n\n    if (this.isNext && (nav.currentPageIsLast || !page.readyToComplete)) {\n      return disabled;\n    }\n\n    if (this.isFinish && (!nav.currentPageIsLast || !page.readyToComplete)) {\n      return disabled;\n    }\n\n    return !disabled;\n  }\n\n  public get isHidden(): boolean {\n    // dealing with negatives here. cognitively easier to think of it like this...\n    const hidden = true;\n    const nav = this.navService;\n\n    // Ensure we don't change the response until buttons are ready to avoid chocolate\n    if (!this.buttonService.buttonsReady) {\n      return !hidden;\n    }\n\n    if (this.hidden) {\n      return true;\n    }\n\n    if (this.isCancel) {\n      return !hidden;\n    }\n\n    if (this.isPrevious && nav.currentPageIsFirst) {\n      return hidden;\n    }\n\n    if (this.isNext && nav.currentPageIsLast) {\n      return hidden;\n    }\n\n    if (this.isFinish && !nav.currentPageIsLast) {\n      return hidden;\n    }\n\n    return !hidden;\n  }\n\n  click(): void {\n    if (this.isDisabled) {\n      return;\n    }\n\n    this.wasClicked.emit(this.type);\n    this.buttonService.buttonClicked(this.type);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive } from '@angular/core';\n\n@Directive({ selector: 'clr-wizard-title, clr-wizard-pagetitle' })\nexport class ClrWizardCustomTags {\n  // No behavior\n  // The only purpose is to \"declare\" the tag in Angular\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\nimport { PageCollectionService } from './providers/page-collection.service';\n\n@Component({\n  selector: 'clr-wizard-stepnav',\n  template: `\n        <ol class=\"clr-wizard-stepnav-list\" role=\"tablist\">\n            <li *ngFor=\"let page of pageService.pages\" clr-wizard-stepnav-item \n            [page]=\"page\" class=\"clr-wizard-stepnav-item\"></li>\n        </ol>\n    `,\n  host: { class: 'clr-wizard-stepnav' },\n})\nexport class ClrWizardStepnav {\n  constructor(public pageService: PageCollectionService) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input } from '@angular/core';\n\nimport { PageCollectionService } from './providers/page-collection.service';\nimport { WizardNavigationService } from './providers/wizard-navigation.service';\nimport { ClrWizardPage } from './wizard-page';\n\n@Component({\n  selector: '[clr-wizard-stepnav-item]',\n  template: `\n        <button type=\"button\" class=\"btn btn-link clr-wizard-stepnav-link\" (click)=\"click()\">\n            <ng-template [ngTemplateOutlet]=\"page.navTitle\"></ng-template>\n        </button>\n    `,\n  host: {\n    '[id]': 'id',\n    '[attr.aria-selected]': 'isCurrent',\n    '[attr.aria-controls]': 'id',\n    role: 'tab',\n    '[class.clr-nav-link]': 'true',\n    '[class.nav-item]': 'true',\n    '[class.active]': 'isCurrent',\n    '[class.disabled]': 'isDisabled',\n    '[class.no-click]': '!canNavigate',\n    '[class.complete]': 'isComplete',\n  },\n})\nexport class ClrWizardStepnavItem {\n  @Input('page') public page: ClrWizardPage;\n\n  constructor(public navService: WizardNavigationService, public pageCollection: PageCollectionService) {}\n\n  private pageGuard(): void {\n    if (!this.page) {\n      throw new Error('Wizard stepnav item is not associated with a wizard page.');\n    }\n  }\n\n  public get id(): string {\n    this.pageGuard();\n    return this.pageCollection.getStepItemIdForPage(this.page);\n  }\n\n  public get isDisabled(): boolean {\n    this.pageGuard();\n    return this.page.disabled || this.navService.wizardStopNavigation || this.navService.wizardDisableStepnav;\n  }\n\n  public get isCurrent(): boolean {\n    this.pageGuard();\n    return this.page.current;\n  }\n\n  public get isComplete(): boolean {\n    this.pageGuard();\n    return this.page.completed;\n  }\n\n  public get canNavigate(): boolean {\n    this.pageGuard();\n    return this.pageCollection.previousPageIsCompleted(this.page);\n  }\n\n  click(): void {\n    this.pageGuard();\n\n    // if we click on our own stepnav or a disabled stepnav, we don't want to do anything\n    if (this.isDisabled || this.isCurrent) {\n      return;\n    }\n\n    this.navService.goTo(this.page);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ClrAlertModule } from '../emphasis/alert/alert.module';\nimport { ClrModalModule } from '../modal/modal.module';\n\nimport { ClrWizard } from './wizard';\nimport { ClrWizardButton } from './wizard-button';\nimport { ClrWizardCustomTags } from './wizard-custom-tags';\nimport { ClrWizardHeaderAction } from './wizard-header-action';\nimport { ClrWizardPage } from './wizard-page';\nimport { ClrWizardPageButtons } from './wizard-page-buttons';\nimport { ClrWizardPageHeaderActions } from './wizard-page-header-actions';\nimport { ClrWizardPageNavTitle } from './wizard-page-navtitle';\nimport { ClrWizardPageTitle } from './wizard-page-title';\nimport { ClrWizardStepnav } from './wizard-stepnav';\nimport { ClrWizardStepnavItem } from './wizard-stepnav-item';\n\nexport const CLR_WIZARD_DIRECTIVES: any[] = [\n  ClrWizard,\n  ClrWizardPage,\n  ClrWizardStepnav,\n  ClrWizardStepnavItem,\n  ClrWizardButton,\n  ClrWizardHeaderAction,\n  ClrWizardCustomTags,\n  ClrWizardPageTitle,\n  ClrWizardPageNavTitle,\n  ClrWizardPageButtons,\n  ClrWizardPageHeaderActions,\n];\n\n@NgModule({\n  imports: [CommonModule, ClrModalModule, ClrAlertModule],\n  declarations: [CLR_WIZARD_DIRECTIVES],\n  exports: [CLR_WIZARD_DIRECTIVES],\n})\nexport class ClrWizardModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { NgModule } from '@angular/core';\n\nimport { ClrButtonModule } from './button/button.module';\nimport { ClrDataModule } from './data/data.module';\nimport { ClrDragAndDropModule } from './utils/drag-and-drop/drag-and-drop.module';\nimport { ClrEmphasisModule } from './emphasis/emphasis.module';\nimport { ClrFormsModule } from './forms/forms.module';\nimport { ClrIconModule } from './icon/icon.module';\nimport { ClrLayoutModule } from './layout/layout.module';\nimport { ClrModalModule } from './modal/modal.module';\nimport { ClrPopoverModule } from './popover/popover.module';\nimport { ClrConditionalModule } from './utils/conditional/conditional.module';\nimport { ClrFocusTrapModule } from './utils/focus-trap/focus-trap.module';\nimport { ClrLoadingModule } from './utils/loading/loading.module';\nimport { ClrWizardModule } from './wizard/wizard.module';\n\n@NgModule({\n  exports: [\n    ClrEmphasisModule,\n    ClrDataModule,\n    ClrIconModule,\n    ClrModalModule,\n    ClrLoadingModule,\n    ClrConditionalModule,\n    ClrFocusTrapModule,\n    ClrButtonModule,\n    ClrFormsModule,\n    ClrLayoutModule,\n    ClrPopoverModule,\n    ClrWizardModule,\n    ClrDragAndDropModule,\n  ],\n})\nexport class ClarityModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, AnimationMetadata, state, style, transition } from '@angular/animations';\n\nexport function collapse(): AnimationMetadata[] {\n  'use strict';\n  return [\n    state('true', style({ height: 0, 'overflow-y': 'hidden' })),\n    transition('true => false', [animate('0.2s ease-in-out', style({ height: '*', 'overflow-y': 'hidden' }))]),\n    transition('false => true', [style({ height: '*', 'overflow-y': 'hidden' }), animate('0.2s ease-in-out')]),\n  ];\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, AnimationMetadata, style, transition } from '@angular/animations';\n\nexport function fade(opacity: number = 1): AnimationMetadata[] {\n  return [\n    transition('void => *', [style({ opacity: 0 }), animate('0.2s ease-in-out', style({ opacity: opacity }))]),\n    transition('* => void', [animate('0.2s ease-in-out', style({ opacity: 0 }))]),\n  ];\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, AnimationMetadata, style, transition } from '@angular/animations';\n\nexport function fadeSlide(direction: string): AnimationMetadata[] {\n  let transform: string = null;\n  if (direction === 'up') {\n    transform = 'translate(0, 25%)';\n  } else if (direction === 'down') {\n    transform = 'translate(0, -25%)';\n  } else if (direction === 'left') {\n    transform = 'translate(25%, 0)';\n  } else if (direction === 'right') {\n    transform = 'translate(-25%, 0)';\n  } else {\n    throw new Error('Unknown direction ' + direction + ' for slide animation.');\n  }\n  return [\n    transition('void => *', [style({ opacity: 0, transform: transform }), animate('0.2s ease-in-out')]),\n    transition('* => void', [animate('0.2s ease-in-out', style({ opacity: 0, transform: transform }))]),\n  ];\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, AnimationMetadata, style, transition } from '@angular/animations';\n\nexport function slide(direction: string): AnimationMetadata[] {\n  let transform: string = null;\n  if (direction === 'up') {\n    transform = 'translate(0, 25%)';\n  } else if (direction === 'down') {\n    transform = 'translate(0, -25%)';\n  } else if (direction === 'left') {\n    transform = 'translate(25%, 0)';\n  } else if (direction === 'right') {\n    transform = 'translate(-25%, 0)';\n  } else {\n    throw new Error('Unknown direction ' + direction + ' for slide animation.');\n  }\n  return [\n    transition('void => *', [style({ transform: transform }), animate('0.2s ease-in-out')]),\n    transition('* => void', [animate('0.2s ease-in-out', style({ transform: transform }))]),\n  ];\n}\n"]}